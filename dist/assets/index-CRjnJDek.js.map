{"version":3,"mappings":"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","names":["jsxRuntimeModule","exports","f","require$$0","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","reactJsxRuntime_production_min","jsx","jsxs","client","createRoot","hydrateRoot","HiloLogo","size","animated","className","motion","div","initial","opacity","y","animate","transition","duration","ease","children","sm","md","lg","xl","rotate","scale","repeat","Infinity","repeatType","textShadow","delay","Toast","id","title","message","onClose","useEffect","timer","setTimeout","clearTimeout","exit","getStyles","CheckCircle","XCircle","AlertCircle","Info","getIcon","onClick","X","ToastContainer","toasts","AnimatePresence","map","toast","ToastContext","React.createContext","ToastProvider","setToasts","React.useState","addToast","React.useCallback","Math","random","toString","substring","prev","removeToast","slice","filter","success","err","error","warning","info","Provider","value","useToast","context","React.useContext","console","warn","SafeWalletContext","createContext","SafeWalletProvider","connected","setConnected","useState","connecting","setConnecting","gameWalletBalance","setGameWalletBalance","isInitializing","setIsInitializing","contextValue","publicKey","connect","useCallback","async","Promise","resolve","disconnect","getBalance","gameWallet","gameWalletAddress","refreshGameBalance","walletMapping","userProfile","updateProfile","updates","log","ProfileCreationModal","isOpen","onComplete","createProfile","useWalletContext","username","setUsername","profilePicture","setProfilePicture","isCreating","setIsCreating","setError","fileInputRef","useRef","onKey","handleClose","window","addEventListener","removeEventListener","stopPropagation","User","disabled","onSubmit","preventDefault","trim","length","test","Error","src","alt","ImageIcon","accept","onChange","event","file","target","files","startsWith","reader","FileReader","onload","result","readAsDataURL","click","Upload","htmlFor","placeholder","maxLength","Check","Fragment","getMasterKey","masterKey","process","define_process_env_default","MASTER_ENCRYPTION_KEY","Buffer","from","padEnd","encryptData","data","iv","crypto","getRandomValues","Uint8Array","randomBytes","cipher","algorithm","update","inputEncoding","outputEncoding","dataBuffer","encrypted","i","final","getAuthTag","createCipheriv","ALGORITHM","tag","decryptData","encryptedData","decipher","decrypted","setAuthTag","createDecipheriv","errorMessage","encryptedLength","generateGameWallet","keypair","Keypair","generate","secretKey","secretKeyHex","encryptedSecret","restoreGameWallet","hasEncrypted","hasIV","hasTag","ivLength","tagLength","migratedData","includes","ivArray","split","x","parseInt","ivBuffer","migrateEncryptedData","migrationError","cleanHex","replace","fromSecretKey","generateUserId","walletAddress","WalletMappingManager","static","mappings","Map","profiles","STORAGE_KEY","PROFILES_KEY","constructor","this","loadFromStorage","getInstance","instance","getOrCreateGameWallet","connectedWalletAddress","address","PublicKey","isValidWalletAddress","existingMapping","get","isActive","encryptedSecretKey","lastAccessed","Date","now","saveToStorage","mapping","isNew","delete","newMapping","createdAt","isFrozen","set","getMapping","freezeWallet","unfreezeWallet","setWithdrawalThrottle","throttleUntil","withdrawalThrottleUntil","isWithdrawalAllowed","allowed","reason","resetGameWallet","newGameWallet","getAllMappings","Array","values","storedMappings","localStorage","getItem","parsedMappings","JSON","parse","storedProfiles","parsedProfiles","setItem","stringify","entries","createOrUpdateProfile","profile","userId","existing","profilePictureType","joinDate","xp","badges","currentStreak","longestStreak","totalWins","totalLosses","totalWagered","vipTier","isAdmin","getProfile","isUsernameUnique","toLowerCase","updateProfileStats","assign","getAllProfiles","updateGodUserToMaxLevel","godProfile","find","maxLevelXP","maxLevel","floor","createGodUser","godWalletAddress","walletMappingManager","productionLogger","isProduction","logInit","component","metadata","logWalletEvent","action","logError","stack","logPerformance","metric","unit","level","logEntry","timestamp","toISOString","logWalletInit","walletType","name","logWasmEvent","module","WalletContext","WalletContextProvider","network","WalletAdapterNetwork","Devnet","endpoint","useMemo","wallets","walletAdapters","PhantomWalletAdapter","SolflareWalletAdapter","connection","conn","Connection","getVersion","then","version","catch","ConnectionProvider","WalletProvider","autoConnect","WalletModalProvider","WalletContextInner","wallet","signMessage","walletSignMessage","useWallet","setGameWallet","setGameWalletAddress","setWalletMapping","setUserProfile","isDepositing","setIsDepositing","isWithdrawing","setIsWithdrawing","showProfileCreation","setShowProfileCreation","__HILO_WALLET_CONNECTED__","isMounted","initializeGameWallet","balance","attempts","maxAttempts","balancePromise","timeoutPromise","_","reject","race","retryError","depositToGame","amount","withdrawFromGame","updatedProfile","handleProfileCreationComplete","sendTransaction","to","toPublicKey","equals","lamports","blockhash","lastValidBlockHeight","getLatestBlockhash","transaction","Transaction","recentBlockhash","feePayer","add","SystemProgram","transfer","fromPubkey","toPubkey","simulation","simulateTransaction","signature","adapter","skipPreflight","confirmation","confirmTransaction","TextEncoder","encode","getGameBalance","WalletContextWrapper","useContext","realUseWalletContext","useSafeWalletContext","RealWalletButton","setBalance","isLoading","setIsLoading","open","setOpen","dropdownRef","buttonRef","menuPos","setMenuPos","top","left","setVisible","useWalletModal","showQR","setShowQR","select","menuRef","updateBalance","onMouseDown","contains","document","currentBalance","shortAddress","updateMenuPosition","btn","rect","getBoundingClientRect","min","innerWidth","bottom","onResize","button","v","style","navigator","clipboard","writeText","pk","encodeURIComponent","phantom","w","AdminPanel","searchTerm","setSearchTerm","selectedMapping","setSelectedMapping","throttleDuration","setThrottleDuration","filteredMappings","copyToClipboard","text","Shield","Search","getProfileForMapping","Users","AlertTriangle","Clock","toLocaleDateString","Copy","toLocaleString","handleUnfreezeWallet","handleFreezeWallet","Number","max","handleThrottleWallet","handleResetWallet","Crown","Zap","maxWidthClass","Modal","maxWidth","panelClassName","zIndexClass","panelRef","previouslyFocusedRef","titleId","useId","original","documentElement","overflow","activeElement","trap","panel","focusable","querySelectorAll","el","offsetParent","focus","first","last","active","shiftKey","t","hasAttribute","createPortal","role","tabIndex","body","createStoreImpl","createState","state","listeners","Set","setState","partial","nextState","is","previousState","forEach","listener","getState","api","getInitialState","initialState","subscribe","destroy","__vite_import_meta_env__","clear","shimModule","React","objectIs","useLayoutEffect","useDebugValue","checkIfSnapshotChanged","inst","latestGetSnapshot","getSnapshot","nextValue","shim","createElement","_useState","forceUpdate","useSyncExternalStoreShim_production","useSyncExternalStore","withSelectorModule","require$$1","withSelector_production","useSyncExternalStoreWithSelector","getServerSnapshot","selector","isEqual","instRef","hasValue","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","ReactExports","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","createImpl","createStore","useBoundStore","equalityFn","getServerState","useStore","createJSONStorage","getStorage","options","storage","_e","_a","str2","str","newValue","removeItem","toThenable","fn","input","onFulfilled","_onRejected","_onFulfilled","onRejected","persist","config","baseOptions","serialize","deserialize","partialize","merge","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","thenableSerialize","errorInSync","thenable","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","onRehydrateStorage","bind","storageValue","deserializedStorageValue","migrate","migratedState","_a2","setOptions","newOptions","clearStorage","getOptions","rehydrate","onHydrate","onFinishHydration","oldImpl","_b","migrationResult","migrated","skipHydration","newImpl","formatCurrency","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","generateMockHash","serverSeed","clientSeed","nonce","hash","charCodeAt","abs","padStart","generateServerSeed","chars","charAt","generateClientSeed","errorReporter","reports","maxReports","reportError","reportId","generateId","report","userAgent","url","location","href","resolved","push","toUpperCase","sendToExternalService","substr","markResolved","r","getReports","getUnresolvedReports","clearReports","reportGameStateError","reportPromiseRejection","originalReason","reportNetworkError","reportWalletError","isConnected","hiloTokens","lastFaucetClaim","currentBet","selectedSide","isRolling","lastRoll","lastResult","lastWin","currentWinStreak","currentLossStreak","maxWinStreak","maxLossStreak","totalWon","totalGames","autoRollEnabled","autoRollCount","autoRollMax","autoRollStopOnWin","autoRollStopOnLoss","houseEdge","dailyChallenges","description","reward","completed","progress","maxProgress","soundEnabled","selectedDiceSkin","muted","animationsEnabled","hapticsEnabled","autoSaveEnabled","masterVolume","gameHistory","recentWins","leaderboard","weeklyPrizePool","monthlyPrizePool","useGameStore","connectWallet","mockAddress","disconnectWallet","claimFaucet","twentyFourHours","timeLeft","hoursLeft","ceil","setBet","selectSide","side","rollDice","hasSelectedSide","sufficientFunds","roll","diceRoll","getDiceResult","won","prevState","multiplier","updateStreaks","winnings","netChange","newBalance","addXP","addToHistory","bet","addToLiveFeed","game","avatar","updateChallenges","shouldContinue","enabled","count","stopOnWin","stopOnLoss","resetGame","validateGameState","issues","join","gameState","recoverGameState","toggleAutoRoll","setAutoRollSettings","settings","newXP","updateVIPTier","newTier","completeChallenge","challengeId","challenge","spinDailyWheel","rewards","betAmount","newProgress","toggleSound","setDiceSkin","skin","toggleMute","toggleAnimations","toggleHaptics","toggleAutoSave","setMasterVolume","clamped","resetEverything","generateNewSeeds","verifyRoll","newGame","clearHistory","exportHistory","row","win","newWin","updateLeaderboard","winRate","player","index","updatePrizePools","ThemeContext","ThemeProvider","theme","setTheme","colorScheme","setColorScheme","savedTheme","savedColorScheme","setAttribute","toggleTheme","ThemeSelector","useTheme","icon","themeOption","colors","scheme","color","backgroundColor","LoadingSpinner","getSizeClasses","getColorClasses","LoadingButton","loading","loadingText","SettingsModal","isExporting","setIsExporting","isClearing","setIsClearing","isResetting","setIsResetting","showResetConfirm","setShowResetConfirm","resetConfirmText","setResetConfirmText","csvContent","blob","Blob","URL","createObjectURL","download","revokeObjectURL","Download","Trash2","RotateCcw","SupportModal","supportOptions","Mail","HelpCircle","option","IconComponent","DailyWheel","forwardRef","segments","onSpinEnd","volume","wheelRef","rotation","setRotation","isSpinning","setIsSpinning","spinAudioRef","winAudioRef","sliceAngle","startAngleDeg","useImperativeHandle","spinToIndex","fullSpins","delta","pause","currentTime","loop","play","handle","pointerAngle","audio","durationMs","startVol","steps","stepTime","setInterval","next","clearInterval","fadeOut","gradientIds","lighten","hex","num","round","polarToCartesian","cx","cy","angleDeg","angleRad","PI","cos","sin","Audio","center","radius","perspective","transform","background","width","height","transformStyle","viewBox","s","offset","stopColor","a0","a1","start","end","largeArc","describeWedge","fill","pos","fontSize","fontWeight","textAnchor","dominantBaseline","paintOrder","label","mixBlendMode","x1","y1","x2","y2","stroke","strokeWidth","vectorEffect","shapeRendering","strokeLinecap","pointerEvents","displayName","MockAPI","liveFeedInterval","generateHash","hashToRoll","btoa","sum","getLeaderboard","getPrizePools","weekly","monthly","getDailyChallenges","startLiveFeed","callback","usernames","avatars","games","stopLiveFeed","getHouseEdgeInfo","playerWinChance","explanation","toFixed","mockAPI","DailyWheelModal","wheelSpinning","setWheelSpinning","wheelResult","setWheelResult","indexOf","landingIndex","EditProfileModal","isUpdating","setIsUpdating","setErrorMessage","canChangeUsername","lastUsernameChange","daysUntilUsernameChange","usernameChanged","errorMsg","Calendar","AccountModal","showEditProfile","setShowEditProfile","gamesPlayed","RefreshCw","shareUrl","origin","shareData","share","Share2","solanaLogo","WalletRequiredModal","featureName","rel","Wallet","ExternalLink","Navigation","isMobileMenuOpen","setIsMobileMenuOpen","isDropdownOpen","setIsDropdownOpen","showAdminPanel","setShowAdminPanel","showAccount","setShowAccount","showSettings","setShowSettings","showSupport","setShowSupport","showDailyWheelModal","setShowDailyWheelModal","showWalletRequired","setShowWalletRequired","walletRequiredFeature","setWalletRequiredFeature","useLocation","balanceRef","isBalanceOpen","setIsBalanceOpen","handler","detail","feature","formatAmount","maxFractionDigits","safe","isFinite","formatCompact","notation","compactDisplay","handleClickOutside","targetNode","navItems","path","Home","Gamepad2","ShieldCheck","pathname","handleWalletRequiredFeature","nav","Link","Menu","item","Target","Trophy","ArrowUpDown","Settings","Footer","whileInView","viewport","once","h3","ul","link","li","social","whileHover","whileTap","LiveFeed","isExpanded","setIsExpanded","formatTime","diff","getTime","seconds","getAmountColor","HomePage","h1","number","stat","FloatingResult","isWin","isVisible","isPositive","displayAmount","onAnimationComplete","times","Dice3D","targetNumber","onRollEnd","onWin","onLoss","currentFace","setCurrentFace","showResult","setShowResult","animationComplete","setAnimationComplete","showFloatingResult","setShowFloatingResult","isLanding","setIsLanding","playSound","sound","AudioContext","webkitAudioContext","audioContext","oscillator","createOscillator","gainNode","createGain","destination","volumeScale","frequency","setValueAtTime","exponentialRampToValueAtTime","gain","stop","rollInterval","rollTimeout","resultTimeout","neutralSkinClasses","skinType","getSkinClasses","dotColorDefault","getDiceDots","dot","face","patterns","DiceRoller","displayRoll","setDisplayRoll","isAnimating","setIsAnimating","showConfetti","setShowConfetti","showResultModal","setShowResultModal","interval","stiffness","damping","h2","GamePage","setBetAmount","handleSideSelect","numValue","handleBetChange","GameRulesModal","Dice1","TrendingUp","TrendingDown","AdvancedStats","averageBet","profitLoss","netWorth","biggestWin","biggestLoss","recentGames","recentWinRate","oneHourAgo","gamesPerHour","stats","bgColor","borderColor","trend","DollarSign","Award","BarChart3","EnhancedGamePage","showChallenges","setShowChallenges","showDailyWheel","setShowDailyWheel","showRules","setShowRules","showAdvancedStats","setShowAdvancedStats","showExportModal","setShowExportModal","autorollDelay","setAutorollDelay","showGameMenu","setShowGameMenu","gameMenuRef","navigate","useNavigate","URLSearchParams","search","handleRollDice","shortcuts","handleKeyPress","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","ctrlKey","altKey","onRollDice","onSelectHigh","onSelectLow","onQuickBet10","onQuickBet25","onQuickBet50","onQuickBet100","onMaxBet","onToggleSound","onToggleMute","onShowRules","onShowHistory","onClaimFaucet","useKeyboardShortcuts","tier","getVIPTierColor","GamesPage","query","setQuery","setFilter","layout","setLayout","shadowColor","status","players","minBet","maxBet","route","Star","CreditCard","filteredGames","normalized","byFilter","byQuery","some","Filter","LayoutGrid","handleGameClick","LeaderboardPage","getRankIcon","getRankColor","reduce","tr","EnhancedProvablyFairPage","verificationResult","setVerificationResult","houseEdgeInfo","setHouseEdgeInfo","handleVerifyRoll","isValid","onKeyPress","currentTarget","toLocaleTimeString","AboutPage","member","tech","Section","FAQPage","qrcode","typeNumber","errorCorrectionLevel","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","_this","makeImpl","maskPattern","moduleCount","modules","col","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","QRUtil","getPatternPosition","j","bits","getBCHTypeNumber","mod","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","dataList","rsBlocks","QRRSBlock","getRSBlocks","buffer","qrBitBuffer","put","getMode","getLength","getLengthInBits","write","totalDataCount","dataCount","putBit","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","getBuffer","rsPoly","getErrorCorrectPolynomial","modPoly","qrPolynomial","modIndex","getAt","totalCodeCount","createBytes","addData","mode","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","minLostPoint","pattern","lostPoint","getLostPoint","getBestMaskPattern","createTableTag","cellSize","margin","qrHtml","createSvgTag","opts","arguments","mc","mr","qrSvg","scalable","escapeXml","createDataURL","createImgTag","img","escaped","createASCII","r1","r2","blocks","blocksLastLineNoMargin","ascii","_createHalfASCII","white","black","line","renderTo2dContext","fillStyle","fillRect","stringToBytes","bytes","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","read","b0","b1","String","fromCharCode","unknownChar","QRMode","L","M","Q","H","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","sameCount","darkCount","EXP_TABLE","LOG_TABLE","shift","_num","glog","ratio","RS_BLOCK_TABLE","qrRSBlock","rsBlock","getRsBlockTable","list","_buffer","_length","bufIndex","bit","_mode","_data","strToNum","chatToNum","getCode","_bytes","byteArrayOutputStream","writeByte","off","len","_str","_pos","_buflen","match","decode","getPixel","gif","_width","_height","pixel","out","writeString","writeShort","raster","getLZWRaster","writeBytes","lzwMinCodeSize","clearCode","endCode","bitLength","table","lzwTable","byteOut","bitOut","_out","_bitLength","_bitBuffer","bitOutputStream","dataIndex","flush","toByteArray","_map","_size","gifImage","setPixel","base64","_base64","writeEncoded","padlen","base64EncodeOutputStream","SolanaWallet","onAuthSuccess","onAuthError","setLoading","qrCodeDataUrl","setQrCodeDataUrl","authStep","setAuthStep","generateQRCode","qr","QRCode","canvas","ctx","getContext","toDataURL","signatureBase64","response","fetch","method","headers","ok","authData","json","token","WalletDisconnectButton","WalletMultiButton","SOLTransfer","onTransferSuccess","onTransferError","recipient","setRecipient","setAmount","setSuccess","parseFloat","step","Authorization","errorData","WalletPage","activeTab","setActiveTab","authStatus","setAuthStatus","isAuthenticated","ErrorBoundary","Component","super","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","componentStack","handleReload","reload","handleGoHome","render","fallback","GlobalErrorBoundary","handleRetry","SolanaWalletDetector","hasSolanaWallet","setHasSolanaWallet","detectedWallets","setDetectedWallets","detectSolanaWallets","solana","isPhantom","solflare","isBackpack","isGlow","timeout","handleWalletDetected","WalletTest","testResults","setTestResults","addResult","__vitePreload","import","__VITE_PRELOAD__","runTests","padding","minHeight","marginTop","marginBottom","fontFamily","border","borderRadius","cursor","DEBUG","VITE_DEBUG","debug","getElementById","remove","overlay","cssText","errorDetails","innerHTML","appendChild","showErrorOverlay","TerritoryWarsPage","React.lazy","App","React.version","isDevelopment","appContent","AppContent","toastContext","Router","future","v7_startTransition","v7_relativeSplatPath","React.Suspense","Routes","Route","element","BigInt","NODE_ENV","MODE","DEV","PROD","BASE_URL","VITE_SOLANA_NETWORK","VITE_SOLANA_RPC_URL","filename","lineno","colno","isTestError","errorType","root","promise","serviceWorker","getRegistrations","registrations","registration","unregister","ReactDOM","StrictMode"],"ignoreList":[0,1,2,15,16,17,18,19,20,21,54],"sources":["../../node_modules/react/jsx-runtime.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react-dom/client.js","../../src/components/HiloLogo.tsx","../../src/components/Toast.tsx","../../src/contexts/SafeWalletContext.tsx","../../src/components/ProfileCreationModal.tsx","../../src/lib/crypto.ts","../../src/lib/walletMapping.ts","../../src/lib/productionLogger.ts","../../src/contexts/WalletContext.tsx","../../src/contexts/WalletContextWrapper.tsx","../../src/components/RealWalletButton.tsx","../../src/components/AdminPanel.tsx","../../src/components/Modal.tsx","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/lib/utils.ts","../../src/lib/errorReporting.ts","../../src/store/gameStore.ts","../../src/contexts/ThemeContext.tsx","../../src/components/LoadingSpinner.tsx","../../src/components/SettingsModal.tsx","../../src/components/SupportModal.tsx","../../src/components/DailyWheel.tsx","../../src/lib/api.ts","../../src/components/DailyWheelModal.tsx","../../src/components/EditProfileModal.tsx","../../src/components/AccountModal.tsx","../../solanalogo.png","../../src/components/WalletRequiredModal.tsx","../../src/components/Navigation.tsx","../../usdclogo.png","../../src/components/Footer.tsx","../../src/components/LiveFeed.tsx","../../src/pages/HomePage.tsx","../../src/components/FloatingResult.tsx","../../src/components/Dice3D.tsx","../../src/components/DiceRoller.tsx","../../src/pages/GamePage.tsx","../../src/components/GameRulesModal.tsx","../../src/components/AdvancedStats.tsx","../../src/pages/EnhancedGamePage.tsx","../../src/hooks/useKeyboardShortcuts.ts","../../src/pages/GamesPage.tsx","../../src/pages/LeaderboardPage.tsx","../../src/pages/EnhancedProvablyFairPage.tsx","../../src/pages/AboutPage.tsx","../../src/pages/FAQPage.tsx","../../node_modules/qrcode-generator/dist/qrcode.mjs","../../src/components/SolanaWallet.tsx","../../src/components/SOLTransfer.tsx","../../src/pages/WalletPage.tsx","../../src/components/ErrorBoundary.tsx","../../src/components/GlobalErrorBoundary.tsx","../../src/components/SolanaWalletDetector.tsx","../../src/components/WalletTest.tsx","../../src/lib/debug.ts","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react'\nimport { motion } from 'framer-motion'\n\ninterface HiloLogoProps {\n  size?: 'sm' | 'md' | 'lg' | 'xl'\n  animated?: boolean\n  className?: string\n}\n\n/**\n * HILO Logo Component\n * Features gold text, red die, and green glow effects\n *\n * @param size - Logo size variant\n * @param animated - Whether to show animation effects\n * @param className - Additional CSS classes\n */\nexport const HiloLogo: React.FC<HiloLogoProps> = ({\n  size = 'md',\n  animated = true,\n  className = '',\n}) => {\n  const sizeClasses = {\n    sm: 'text-2xl',\n    md: 'text-4xl',\n    lg: 'text-6xl',\n    xl: 'text-8xl',\n  }\n\n  const dieSizeClasses = {\n    sm: 'text-lg',\n    md: 'text-2xl',\n    lg: 'text-4xl',\n    xl: 'text-6xl',\n  }\n\n  return (\n    <motion.div\n      className={`flex items-center gap-3 ${className}`}\n      initial={animated ? { opacity: 0, y: -20 } : false}\n      animate={animated ? { opacity: 1, y: 0 } : false}\n      transition={{ duration: 0.8, ease: 'easeOut' }}\n    >\n      {/* Red Die with Green Glow */}\n      <motion.div\n        className={`${dieSizeClasses[size]} relative`}\n        animate={\n          animated\n            ? {\n                rotate: [0, 5, -5, 0],\n                scale: [1, 1.1, 1],\n              }\n            : false\n        }\n        transition={{\n          duration: 2,\n          repeat: Infinity,\n          repeatType: 'reverse',\n        }}\n      >\n        <span className=\"text-hilo-red drop-shadow-lg\">🎲</span>\n        {animated && (\n          <motion.div\n            className=\"absolute inset-0 text-hilo-green opacity-30\"\n            animate={{\n              scale: [1, 1.2, 1],\n              opacity: [0.3, 0.6, 0.3],\n            }}\n            transition={{\n              duration: 1.5,\n              repeat: Infinity,\n              repeatType: 'reverse',\n            }}\n          >\n            🎲\n          </motion.div>\n        )}\n      </motion.div>\n\n      {/* HILO Text */}\n      <motion.div\n        className={`${sizeClasses[size]} font-display font-bold`}\n        animate={\n          animated\n            ? {\n                textShadow: [\n                  '0 0 10px rgba(255, 215, 0, 0.5)',\n                  '0 0 20px rgba(255, 215, 0, 0.8)',\n                  '0 0 10px rgba(255, 215, 0, 0.5)',\n                ],\n              }\n            : false\n        }\n        transition={{\n          duration: 2,\n          repeat: Infinity,\n          repeatType: 'reverse',\n        }}\n      >\n        <span className=\"bg-gradient-to-r from-hilo-gold via-yellow-300 to-hilo-gold bg-clip-text text-transparent\">\n          HILO\n        </span>\n      </motion.div>\n\n      {/* Subtitle for larger sizes */}\n      {(size === 'lg' || size === 'xl') && (\n        <motion.div\n          className=\"text-hilo-gold/70 text-sm font-medium\"\n          initial={animated ? { opacity: 0 } : false}\n          animate={animated ? { opacity: 1 } : false}\n          transition={{ delay: 0.5, duration: 0.5 }}\n        >\n          CASINO\n        </motion.div>\n      )}\n    </motion.div>\n  )\n}\n\nexport default HiloLogo\n","import * as React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { X, CheckCircle, AlertCircle, Info, XCircle } from 'lucide-react'\r\n\r\nexport interface ToastProps {\r\n  id: string\r\n  type: 'success' | 'error' | 'warning' | 'info'\r\n  title: string\r\n  message?: string\r\n  duration?: number\r\n  onClose: (id: string) => void\r\n}\r\n\r\nexport const Toast: React.FC<ToastProps> = ({\r\n  id,\r\n  type,\r\n  title,\r\n  message,\r\n  duration = 5000,\r\n  onClose,\r\n}) => {\r\n  useEffect(() => {\r\n    if (duration <= 0) return // Don't auto-close if duration is 0 or negative\r\n\r\n    const timer = setTimeout(() => {\r\n      onClose(id)\r\n    }, duration)\r\n\r\n    return () => clearTimeout(timer)\r\n  }, [id, duration, onClose])\r\n\r\n  const getIcon = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return <CheckCircle className=\"w-5 h-5 text-green-400\" />\r\n      case 'error':\r\n        return <XCircle className=\"w-5 h-5 text-red-400\" />\r\n      case 'warning':\r\n        return <AlertCircle className=\"w-5 h-5 text-yellow-400\" />\r\n      case 'info':\r\n        return <Info className=\"w-5 h-5 text-blue-400\" />\r\n      default:\r\n        return <Info className=\"w-5 h-5 text-blue-400\" />\r\n    }\r\n  }\r\n\r\n  const getStyles = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return 'bg-green-900/90 border-green-500/50 text-green-100'\r\n      case 'error':\r\n        return 'bg-red-900/90 border-red-500/50 text-red-100'\r\n      case 'warning':\r\n        return 'bg-yellow-900/90 border-yellow-500/50 text-yellow-100'\r\n      case 'info':\r\n        return 'bg-blue-900/90 border-blue-500/50 text-blue-100'\r\n      default:\r\n        return 'bg-gray-900/90 border-gray-500/50 text-gray-100'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 50, scale: 0.95 }}\r\n      animate={{ opacity: 1, y: 0, scale: 1 }}\r\n      exit={{ opacity: 0, y: -50, scale: 0.95 }}\r\n      transition={{ duration: 0.3, ease: 'easeOut' }}\r\n      className={`\r\n        relative max-w-sm w-full bg-opacity-90 backdrop-blur-sm rounded-lg border p-4 shadow-lg\r\n        ${getStyles()}\r\n      `}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        {getIcon()}\r\n        <div className=\"flex-1 min-w-0\">\r\n          <h4 className=\"font-semibold text-sm\">{title}</h4>\r\n          {message && <p className=\"text-xs opacity-90 mt-1\">{message}</p>}\r\n        </div>\r\n        <button\r\n          onClick={() => onClose(id)}\r\n          className=\"flex-shrink-0 p-1 hover:bg-white/10 rounded transition-colors\"\r\n        >\r\n          <X className=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n    </motion.div>\r\n  )\r\n}\r\n\r\nexport interface ToastContainerProps {\r\n  toasts: ToastProps[]\r\n  onClose: (id: string) => void\r\n}\r\n\r\nexport const ToastContainer: React.FC<ToastContainerProps> = ({\r\n  toasts,\r\n  onClose,\r\n}) => {\r\n  return (\r\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\r\n      <AnimatePresence>\r\n        {toasts.map(toast => (\r\n          <Toast key={toast.id} {...toast} onClose={onClose} />\r\n        ))}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Toast Context\r\ninterface ToastContextType {\r\n  toasts: ToastProps[]\r\n  addToast: (toast: Omit<ToastProps, 'id' | 'onClose'>) => void\r\n  removeToast: (id: string) => void\r\n  success: (title: string, message?: string) => void\r\n  error: (title: string, message?: string) => void\r\n  warning: (title: string, message?: string) => void\r\n  info: (title: string, message?: string) => void\r\n}\r\n\r\nconst ToastContext = React.createContext<ToastContextType | null>(null)\r\n\r\n// Toast Provider\r\nexport const ToastProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [toasts, setToasts] = React.useState<ToastProps[]>([])\r\n\r\n  const addToast = React.useCallback((toast: Omit<ToastProps, 'id' | 'onClose'>) => {\r\n    const id = Math.random().toString(36).substring(2, 11)\r\n    setToasts(prev => {\r\n      const newToasts = [...prev, { ...toast, id, onClose: removeToast }]\r\n      // Limit to maximum 5 toasts to prevent memory issues\r\n      return newToasts.slice(-5)\r\n    })\r\n  }, [])\r\n\r\n  const removeToast = React.useCallback((id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id))\r\n  }, [])\r\n\r\n  const success = React.useCallback((title: string, message?: string) => {\r\n    try {\r\n      addToast({ type: 'success', title, message })\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.warn('Failed to show success toast:', err)\r\n      }\r\n    }\r\n  }, [addToast])\r\n\r\n  const error = React.useCallback((title: string, message?: string) => {\r\n    try {\r\n      addToast({ type: 'error', title, message })\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.warn('Failed to show error toast:', err)\r\n      }\r\n    }\r\n  }, [addToast])\r\n\r\n  const warning = React.useCallback((title: string, message?: string) => {\r\n    try {\r\n      addToast({ type: 'warning', title, message })\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.warn('Failed to show warning toast:', err)\r\n      }\r\n    }\r\n  }, [addToast])\r\n\r\n  const info = React.useCallback((title: string, message?: string) => {\r\n    try {\r\n      addToast({ type: 'info', title, message })\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.warn('Failed to show info toast:', err)\r\n      }\r\n    }\r\n  }, [addToast])\r\n\r\n  return (\r\n    <ToastContext.Provider value={{ toasts, addToast, removeToast, success, error, warning, info }}>\r\n      {children}\r\n    </ToastContext.Provider>\r\n  )\r\n}\r\n\r\n// Toast hook for easy usage\r\nexport const useToast = () => {\r\n  try {\r\n    const context = React.useContext(ToastContext)\r\n    if (!context) {\r\n      // Return a fallback context instead of throwing an error\r\n      console.warn('useToast called outside of ToastProvider, returning fallback context')\r\n      return {\r\n        toasts: [],\r\n        addToast: () => {},\r\n        removeToast: () => {},\r\n        success: () => {},\r\n        error: () => {},\r\n        warning: () => {},\r\n        info: () => {}\r\n      }\r\n    }\r\n    return context\r\n  } catch (error) {\r\n    console.error('Error in useToast hook:', error)\r\n    // Return a fallback context\r\n    return {\r\n      toasts: [],\r\n      addToast: () => {},\r\n      removeToast: () => {},\r\n      success: () => {},\r\n      error: () => {},\r\n      warning: () => {},\r\n      info: () => {}\r\n    }\r\n  }\r\n}\r\n","import * as React from 'react'\r\nimport { createContext, useContext, useMemo, useCallback, useState, useEffect } from 'react'\r\nimport { useToast } from '../components/Toast'\r\n\r\n/**\r\n * Safe Wallet Context - Fallback when Solana wallet adapters fail\r\n * Provides a mock wallet context that doesn't crash the app\r\n */\r\ninterface SafeWalletContextType {\r\n  publicKey: any\r\n  connected: boolean\r\n  connecting: boolean\r\n  connect: () => Promise<void>\r\n  disconnect: () => Promise<void>\r\n  getBalance: () => Promise<number>\r\n  gameWallet: any\r\n  gameWalletAddress: string | null\r\n  gameWalletBalance: number\r\n  refreshGameBalance: () => Promise<void>\r\n  walletMapping: any\r\n  userProfile: any\r\n  updateProfile: (updates: any) => Promise<void>\r\n  isInitializing: boolean\r\n}\r\n\r\nconst SafeWalletContext = createContext<SafeWalletContextType | null>(null)\r\n\r\nexport const SafeWalletProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [connected, setConnected] = useState(false)\r\n  const [connecting, setConnecting] = useState(false)\r\n  const [gameWalletBalance, setGameWalletBalance] = useState(0)\r\n  const [isInitializing, setIsInitializing] = useState(false)\r\n  const { success, error } = useToast()\r\n\r\n  const connect = useCallback(async () => {\r\n    setConnecting(true)\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 1000))\r\n      setConnected(true)\r\n      success('Wallet Connected', 'Mock wallet connected successfully')\r\n    } catch (err) {\r\n      error('Connection Failed', 'Failed to connect wallet')\r\n    } finally {\r\n      setConnecting(false)\r\n    }\r\n  }, [success, error])\r\n\r\n  const disconnect = useCallback(async () => {\r\n    try {\r\n      setConnected(false)\r\n      success('Wallet Disconnected', 'Wallet disconnected successfully')\r\n    } catch (err) {\r\n      error('Disconnect Failed', 'Failed to disconnect wallet')\r\n    }\r\n  }, [success, error])\r\n\r\n  const getBalance = useCallback(async (): Promise<number> => {\r\n    return 1.5 // Mock balance\r\n  }, [])\r\n\r\n  const refreshGameBalance = useCallback(async () => {\r\n    setGameWalletBalance(1.5)\r\n  }, [])\r\n\r\n  const updateProfile = useCallback(async (updates: any) => {\r\n    // Mock implementation - in a real app, this would update the user profile\r\n    console.log('Updating profile with:', updates)\r\n    await new Promise(resolve => setTimeout(resolve, 500)) // Simulate API call\r\n  }, [])\r\n\r\n  const contextValue: SafeWalletContextType = {\r\n    publicKey: null,\r\n    connected,\r\n    connecting,\r\n    connect,\r\n    disconnect,\r\n    getBalance,\r\n    gameWallet: null,\r\n    gameWalletAddress: null,\r\n    gameWalletBalance,\r\n    refreshGameBalance,\r\n    walletMapping: null,\r\n    userProfile: null,\r\n    updateProfile,\r\n    isInitializing,\r\n  }\r\n\r\n  return (\r\n    <SafeWalletContext.Provider value={contextValue}>\r\n      {children}\r\n    </SafeWalletContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useSafeWalletContext = () => {\r\n  const context = useContext(SafeWalletContext)\r\n  if (!context) {\r\n    throw new Error('useSafeWalletContext must be used within SafeWalletProvider')\r\n  }\r\n  return context\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { X, Upload, User, Image as ImageIcon, Check, AlertCircle } from 'lucide-react'\r\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\r\n\r\ninterface ProfileCreationModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onComplete: () => void\r\n}\r\n\r\nexport const ProfileCreationModal: React.FC<ProfileCreationModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onComplete\r\n}) => {\r\n  const { createProfile, userProfile } = useWalletContext()\r\n  const [username, setUsername] = useState('')\r\n  const [profilePicture, setProfilePicture] = useState<string | null>(null)\r\n  const [isCreating, setIsCreating] = useState(false)\r\n  const [error, setError] = useState('')\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  // Close on Escape\r\n  useEffect(() => {\r\n    if (!isOpen) return\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') handleClose()\r\n    }\r\n    window.addEventListener('keydown', onKey)\r\n    return () => window.removeEventListener('keydown', onKey)\r\n  }, [isOpen])\r\n\r\n  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (file) {\r\n      // Validate file type\r\n      if (!file.type.startsWith('image/')) {\r\n        setError('Please select a valid image file')\r\n        return\r\n      }\r\n\r\n      // Validate file size (max 5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setError('Image must be less than 5MB')\r\n        return\r\n      }\r\n\r\n      const reader = new FileReader()\r\n      reader.onload = (e) => {\r\n        setProfilePicture(e.target?.result as string)\r\n        setError('')\r\n      }\r\n      reader.readAsDataURL(file)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!username.trim()) {\r\n      setError('Username is required')\r\n      return\r\n    }\r\n\r\n    if (username.length < 3) {\r\n      setError('Username must be at least 3 characters long')\r\n      return\r\n    }\r\n\r\n    if (username.length > 20) {\r\n      setError('Username must be less than 20 characters')\r\n      return\r\n    }\r\n\r\n    // Validate username format (alphanumeric and underscores only)\r\n    if (!/^[a-zA-Z0-9_]+$/.test(username)) {\r\n      setError('Username can only contain letters, numbers, and underscores')\r\n      return\r\n    }\r\n\r\n    setIsCreating(true)\r\n    setError('')\r\n\r\n    try {\r\n      const success = await createProfile(username.trim(), profilePicture || undefined)\r\n      if (success) {\r\n        onComplete()\r\n      }\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to create profile')\r\n    } finally {\r\n      setIsCreating(false)\r\n    }\r\n  }\r\n\r\n  const handleClose = () => {\r\n    if (!isCreating) {\r\n      setUsername('')\r\n      setProfilePicture(null)\r\n      setError('')\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\" onClick={handleClose}>\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"absolute inset-0 bg-black/80 backdrop-blur-sm\"\r\n            onClick={handleClose}\r\n          />\r\n\r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            className=\"relative w-full max-w-md bg-hilo-gray border border-hilo-gray-light rounded-2xl shadow-2xl\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between p-6 border-b border-hilo-gray-light\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-hilo-gold/20 rounded-lg\">\r\n                  <User className=\"w-6 h-6 text-hilo-gold\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-white\">Create Your Profile</h2>\r\n                  <p className=\"text-sm text-gray-400\">Set up your gaming identity</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={handleClose}\r\n                disabled={isCreating}\r\n                className=\"p-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n              {/* Profile Picture */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-white mb-3\">\r\n                  Profile Picture (Optional)\r\n                </label>\r\n                <div className=\"flex items-center gap-4\">\r\n                  {/* Profile Picture Preview */}\r\n                  <div className=\"relative\">\r\n                    <div className=\"w-20 h-20 rounded-full bg-hilo-black border-2 border-hilo-gray-light flex items-center justify-center overflow-hidden\">\r\n                      {profilePicture ? (\r\n                        <img\r\n                          src={profilePicture}\r\n                          alt=\"Profile\"\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <ImageIcon className=\"w-8 h-8 text-gray-400\" />\r\n                      )}\r\n                    </div>\r\n                    {profilePicture && (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setProfilePicture(null)}\r\n                        className=\"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors\"\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Upload Button */}\r\n                  <div>\r\n                    <input\r\n                      ref={fileInputRef}\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleImageUpload}\r\n                      className=\"hidden\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => fileInputRef.current?.click()}\r\n                      className=\"flex items-center gap-2 px-4 py-2 bg-hilo-gold/20 text-hilo-gold rounded-lg hover:bg-hilo-gold/30 transition-colors\"\r\n                    >\r\n                      <Upload className=\"w-4 h-4\" />\r\n                      <span className=\"text-sm font-medium\">\r\n                        {profilePicture ? 'Change' : 'Upload'}\r\n                      </span>\r\n                    </button>\r\n                    <p className=\"text-xs text-gray-400 mt-1\">\r\n                      JPG, PNG up to 5MB\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Username */}\r\n              <div>\r\n                <label htmlFor=\"username\" className=\"block text-sm font-medium text-white mb-2\">\r\n                  Username *\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"username\"\r\n                    type=\"text\"\r\n                    value={username}\r\n                    onChange={(e) => setUsername(e.target.value)}\r\n                    placeholder=\"Enter your username\"\r\n                    className=\"w-full px-4 py-3 bg-hilo-black border border-hilo-gray-light rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-hilo-gold focus:ring-1 focus:ring-hilo-gold\"\r\n                    disabled={isCreating}\r\n                    maxLength={20}\r\n                  />\r\n                  <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                    {username && (\r\n                      <div className=\"flex items-center gap-1\">\r\n                        {username.length >= 3 && /^[a-zA-Z0-9_]+$/.test(username) ? (\r\n                          <Check className=\"w-4 h-4 text-green-400\" />\r\n                        ) : (\r\n                          <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex justify-between items-center mt-1\">\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    3-20 characters, letters, numbers, and underscores only\r\n                  </p>\r\n                  <span className=\"text-xs text-gray-400\">\r\n                    {username.length}/20\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Error Message */}\r\n              {error && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: -10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className=\"flex items-center gap-2 p-3 bg-red-900/20 border border-red-500/30 rounded-lg\"\r\n                >\r\n                  <AlertCircle className=\"w-4 h-4 text-red-400 flex-shrink-0\" />\r\n                  <p className=\"text-sm text-red-300\">{error}</p>\r\n                </motion.div>\r\n              )}\r\n\r\n              {/* Actions */}\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleClose}\r\n                  disabled={isCreating}\r\n                  className=\"flex-1 px-4 py-3 bg-hilo-gray-light text-white rounded-lg hover:bg-hilo-gray transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isCreating || !username.trim() || username.length < 3}\r\n                  className=\"flex-1 px-4 py-3 bg-hilo-gold text-hilo-black rounded-lg hover:bg-hilo-gold-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\r\n                >\r\n                  {isCreating ? (\r\n                    <>\r\n                      <div className=\"w-4 h-4 border-2 border-hilo-black border-t-transparent rounded-full animate-spin\" />\r\n                      Creating...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Check className=\"w-4 h-4\" />\r\n                      Create Profile\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n\r\n            {/* Footer */}\r\n            <div className=\"px-6 py-4 border-t border-hilo-gray-light\">\r\n              <div className=\"flex items-center gap-2 text-xs text-gray-400\">\r\n                <div className=\"w-2 h-2 bg-green-400 rounded-full\" />\r\n                <span>Your profile data is stored securely and locally</span>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  )\r\n}\r\n\r\nexport default ProfileCreationModal\r\n","import { Keypair, PublicKey } from '@solana/web3.js'\r\n// Browser-compatible crypto functions\r\nfunction randomBytes(length: number): Uint8Array {\r\n  return crypto.getRandomValues(new Uint8Array(length))\r\n}\r\n\r\nfunction createCipheriv(algorithm: string, key: Buffer, iv: Uint8Array): any {\r\n  // Simplified encryption for demo - in production, use proper crypto libraries\r\n  return {\r\n    update: (data: string, inputEncoding: string, outputEncoding: string) => {\r\n      // Simple XOR encryption for demo\r\n      const dataBuffer = Buffer.from(data, inputEncoding as BufferEncoding)\r\n      const encrypted = new Uint8Array(dataBuffer.length)\r\n      for (let i = 0; i < dataBuffer.length; i++) {\r\n        encrypted[i] = dataBuffer[i] ^ key[i % key.length] ^ iv[i % iv.length]\r\n      }\r\n      return Buffer.from(encrypted).toString(outputEncoding as BufferEncoding)\r\n    },\r\n    final: (outputEncoding: string) => '',\r\n    getAuthTag: () => Buffer.from('auth-tag-demo')\r\n  }\r\n}\r\n\r\nfunction createDecipheriv(algorithm: string, key: Buffer, iv: Uint8Array): any {\r\n  return {\r\n    update: (data: string, inputEncoding: string, outputEncoding: string) => {\r\n      // Simple XOR decryption for demo\r\n      const dataBuffer = Buffer.from(data, inputEncoding as BufferEncoding)\r\n      const decrypted = new Uint8Array(dataBuffer.length)\r\n      for (let i = 0; i < dataBuffer.length; i++) {\r\n        decrypted[i] = dataBuffer[i] ^ key[i % key.length] ^ iv[i % iv.length]\r\n      }\r\n      return Buffer.from(decrypted).toString(outputEncoding as BufferEncoding)\r\n    },\r\n    final: (outputEncoding: string) => '',\r\n    setAuthTag: () => {}\r\n  }\r\n}\r\n\r\n/**\r\n * Secure Key Management System\r\n * Handles encryption/decryption of game wallet keys\r\n */\r\n\r\nconst ALGORITHM = 'aes-256-gcm'\r\nconst KEY_LENGTH = 32 // 256 bits\r\nconst IV_LENGTH = 16 // 128 bits\r\nconst TAG_LENGTH = 16 // 128 bits\r\n\r\n// In production, this would be stored securely (e.g., AWS KMS, HashiCorp Vault)\r\n// For demo purposes, we'll use a derived key from environment\r\nfunction getMasterKey(): Buffer {\r\n  // In browser environment, we can't access process.env directly\r\n  // Use a consistent demo key for browser compatibility\r\n  const masterKey = typeof process !== 'undefined' && process.env?.MASTER_ENCRYPTION_KEY \r\n    ? process.env.MASTER_ENCRYPTION_KEY \r\n    : 'demo-master-key-change-in-production'\r\n  return Buffer.from(masterKey.padEnd(32, '0').slice(0, 32))\r\n}\r\n\r\n/**\r\n * Encrypt sensitive data (like private keys)\r\n */\r\nexport function encryptData(data: string): { encrypted: string; iv: string; tag: string } {\r\n  try {\r\n    const key = getMasterKey()\r\n    const iv = randomBytes(IV_LENGTH)\r\n    const cipher = createCipheriv(ALGORITHM, key, iv)\r\n    \r\n    let encrypted = cipher.update(data, 'utf8', 'hex')\r\n    encrypted += cipher.final('hex')\r\n    \r\n    const tag = cipher.getAuthTag()\r\n    \r\n    return {\r\n      encrypted,\r\n      iv: Buffer.from(iv).toString('hex'),\r\n      tag: tag.toString('hex')\r\n    }\r\n  } catch (error) {\r\n    throw new Error(`Encryption failed: ${error}`)\r\n  }\r\n}\r\n\r\n/**\r\n * Decrypt sensitive data\r\n */\r\nexport function decryptData(encryptedData: { encrypted: string; iv: string; tag: string }): string {\r\n  try {\r\n    const key = getMasterKey()\r\n    \r\n    // Validate input data\r\n    if (!encryptedData.iv || !encryptedData.tag || !encryptedData.encrypted) {\r\n      throw new Error('Missing required encryption data')\r\n    }\r\n    \r\n    // Validate hex format for IV and tag\r\n    if (!/^[0-9a-fA-F]+$/.test(encryptedData.iv)) {\r\n      throw new Error(`Invalid IV format: expected hex string, got \"${encryptedData.iv}\"`)\r\n    }\r\n    if (!/^[0-9a-fA-F]+$/.test(encryptedData.tag)) {\r\n      throw new Error(`Invalid tag format: expected hex string, got \"${encryptedData.tag}\"`)\r\n    }\r\n    if (!/^[0-9a-fA-F]+$/.test(encryptedData.encrypted)) {\r\n      throw new Error(`Invalid encrypted data format: expected hex string, got \"${encryptedData.encrypted.substring(0, 20)}...\"`)\r\n    }\r\n    \r\n    const iv = Buffer.from(encryptedData.iv, 'hex')\r\n    const tag = Buffer.from(encryptedData.tag, 'hex')\r\n    const encrypted = encryptedData.encrypted\r\n    \r\n    const decipher = createDecipheriv(ALGORITHM, key, iv)\r\n    decipher.setAuthTag(tag)\r\n    \r\n    let decrypted = decipher.update(encrypted, 'hex', 'utf8')\r\n    decrypted += decipher.final('utf8')\r\n    \r\n    return decrypted\r\n  } catch (error) {\r\n    const errorMessage = error instanceof Error ? error.message : 'Unknown error'\r\n    console.error('Decryption error details:', {\r\n      error: errorMessage,\r\n      iv: encryptedData?.iv,\r\n      tag: encryptedData?.tag,\r\n      encryptedLength: encryptedData?.encrypted?.length\r\n    })\r\n    throw new Error(`Decryption failed: ${errorMessage}`)\r\n  }\r\n}\r\n\r\n/**\r\n * Generate a secure game wallet keypair\r\n */\r\nexport function generateGameWallet(): {\r\n  keypair: Keypair\r\n  encryptedSecret: { encrypted: string; iv: string; tag: string }\r\n} {\r\n  try {\r\n    // Generate a new keypair\r\n    const keypair = Keypair.generate()\r\n    \r\n    // Validate the generated keypair\r\n    if (!keypair.publicKey || !keypair.secretKey) {\r\n      throw new Error('Generated keypair is invalid')\r\n    }\r\n    \r\n    // Validate secret key length (should be 64 bytes for Ed25519)\r\n    if (keypair.secretKey.length !== 64) {\r\n      throw new Error(`Invalid secret key length: expected 64 bytes, got ${keypair.secretKey.length}`)\r\n    }\r\n    \r\n    // Convert secret key to hex string for encryption\r\n    const secretKeyHex = Buffer.from(keypair.secretKey).toString('hex')\r\n    \r\n    // Validate hex string length (64 bytes = 128 hex characters)\r\n    if (secretKeyHex.length !== 128) {\r\n      throw new Error(`Invalid hex string length: expected 128 characters, got ${secretKeyHex.length}`)\r\n    }\r\n    \r\n    // Encrypt the secret key\r\n    const encryptedSecret = encryptData(secretKeyHex)\r\n    \r\n    console.log(`✅ Generated new game wallet: ${keypair.publicKey.toString()}`)\r\n    \r\n    return {\r\n      keypair,\r\n      encryptedSecret\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to generate game wallet:', error)\r\n    throw new Error(`Game wallet generation failed: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n  }\r\n}\r\n\r\n/**\r\n * Restore a keypair from encrypted secret\r\n */\r\nexport function restoreGameWallet(encryptedSecret: { encrypted: string; iv: string; tag: string }): Keypair {\r\n  try {\r\n    console.log('Attempting to restore game wallet with encrypted data:', {\r\n      hasEncrypted: !!encryptedSecret.encrypted,\r\n      hasIV: !!encryptedSecret.iv,\r\n      hasTag: !!encryptedSecret.tag,\r\n      encryptedLength: encryptedSecret.encrypted?.length,\r\n      ivLength: encryptedSecret.iv?.length,\r\n      tagLength: encryptedSecret.tag?.length\r\n    })\r\n    \r\n    // Try to migrate the data if needed\r\n    let migratedData = encryptedSecret\r\n    try {\r\n      migratedData = migrateEncryptedData(encryptedSecret)\r\n      console.log('Data migration successful')\r\n    } catch (migrationError) {\r\n      const errorMessage = migrationError instanceof Error ? migrationError.message : 'Unknown error'\r\n      console.log('No migration needed or migration failed, using original data:', errorMessage)\r\n    }\r\n    \r\n    const secretKeyHex = decryptData(migratedData)\r\n    console.log('Decrypted secret key hex length:', secretKeyHex?.length)\r\n    \r\n    // Validate the hex string\r\n    if (!secretKeyHex || typeof secretKeyHex !== 'string') {\r\n      throw new Error('Invalid secret key data: decryption returned invalid result')\r\n    }\r\n    \r\n    // Remove any whitespace and validate hex format\r\n    const cleanHex = secretKeyHex.replace(/\\s/g, '')\r\n    console.log('Clean hex string length:', cleanHex.length, 'First 20 chars:', cleanHex.substring(0, 20))\r\n    \r\n    if (!/^[0-9a-fA-F]+$/.test(cleanHex)) {\r\n      console.error('Invalid hex format detected. Clean hex:', cleanHex.substring(0, 50))\r\n      throw new Error(`Secret key is not valid hex format. Got: \"${cleanHex.substring(0, 20)}...\"`)\r\n    }\r\n    \r\n    // Validate length (64 bytes = 128 hex characters)\r\n    if (cleanHex.length !== 128) {\r\n      throw new Error(`Invalid secret key length: expected 128 hex characters (64 bytes), got ${cleanHex.length}`)\r\n    }\r\n    \r\n    const secretKey = Buffer.from(cleanHex, 'hex')\r\n    console.log('Secret key buffer length:', secretKey.length)\r\n    \r\n    // Validate buffer length\r\n    if (secretKey.length !== 64) {\r\n      throw new Error(`Invalid secret key buffer length: expected 64 bytes, got ${secretKey.length}`)\r\n    }\r\n    \r\n    // Create and validate the keypair\r\n    const keypair = Keypair.fromSecretKey(secretKey)\r\n    console.log('Keypair created successfully, public key:', keypair.publicKey.toString())\r\n    \r\n    // Verify the keypair is valid by checking public key\r\n    if (!keypair.publicKey) {\r\n      throw new Error('Generated keypair has invalid public key')\r\n    }\r\n    \r\n    return keypair\r\n  } catch (error) {\r\n    console.error('Failed to restore game wallet:', error)\r\n    throw new Error(`Game wallet restoration failed: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n  }\r\n}\r\n\r\n/**\r\n * Migrate old encrypted data format to new format\r\n */\r\nexport function migrateEncryptedData(encryptedData: any): { encrypted: string; iv: string; tag: string } {\r\n  try {\r\n    // Check if it's already in the correct format\r\n    if (encryptedData.encrypted && encryptedData.iv && encryptedData.tag) {\r\n      // Check if IV is in the old comma-separated format\r\n      if (encryptedData.iv.includes(',')) {\r\n        console.log('Migrating IV from comma-separated to hex format')\r\n        // Convert comma-separated string back to Buffer then to hex\r\n        const ivArray = encryptedData.iv.split(',').map((x: string) => parseInt(x.trim(), 10))\r\n        const ivBuffer = Buffer.from(ivArray)\r\n        return {\r\n          encrypted: encryptedData.encrypted,\r\n          iv: ivBuffer.toString('hex'),\r\n          tag: encryptedData.tag\r\n        }\r\n      }\r\n      \r\n      // Check if IV is already in hex format\r\n      if (/^[0-9a-fA-F]+$/.test(encryptedData.iv)) {\r\n        return encryptedData\r\n      }\r\n    }\r\n    \r\n    throw new Error('Invalid encrypted data format for migration')\r\n  } catch (error) {\r\n    console.error('Migration failed:', error)\r\n    throw new Error(`Failed to migrate encrypted data: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n  }\r\n}\r\n\r\n/**\r\n * Validate wallet address format\r\n */\r\nexport function isValidWalletAddress(address: string): boolean {\r\n  try {\r\n    new PublicKey(address)\r\n    return true\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * Generate a unique user ID based on wallet address\r\n */\r\nexport function generateUserId(walletAddress: string): string {\r\n  // Create a deterministic hash of the wallet address\r\n  // In production, you might want to use a proper hashing function\r\n  return `user_${Buffer.from(walletAddress).toString('base64').slice(0, 16)}`\r\n}\r\n\r\n/**\r\n * Hash sensitive data for storage\r\n */\r\nexport function hashData(data: string): string {\r\n  // In production, use a proper cryptographic hash like SHA-256\r\n  return Buffer.from(data).toString('base64')\r\n}\r\n","import { PublicKey, Keypair } from '@solana/web3.js'\r\nimport { encryptData, decryptData, generateGameWallet, restoreGameWallet, generateUserId, isValidWalletAddress } from './crypto'\r\n\r\n/**\r\n * Wallet Mapping Interface\r\n * Defines the structure for mapping connected wallets to game wallets\r\n */\r\nexport interface WalletMapping {\r\n  id: string\r\n  connectedWalletAddress: string\r\n  gameWalletAddress: string\r\n  encryptedSecretKey: {\r\n    encrypted: string\r\n    iv: string\r\n    tag: string\r\n  }\r\n  createdAt: number\r\n  lastAccessed: number\r\n  isActive: boolean\r\n  isFrozen: boolean\r\n  withdrawalThrottleUntil?: number\r\n}\r\n\r\n/**\r\n * User Profile Interface\r\n */\r\nexport interface UserProfile {\r\n  id: string\r\n  connectedWalletAddress: string\r\n  username: string\r\n  profilePicture?: string\r\n  profilePictureType?: 'upload' | 'nft' | 'default'\r\n  joinDate: number\r\n  xp: number\r\n  badges: string[]\r\n  currentStreak: number\r\n  longestStreak: number\r\n  totalWins: number\r\n  totalLosses: number\r\n  totalWagered: number\r\n  vipTier: 'Bronze' | 'Silver' | 'Gold' | 'Diamond'\r\n  isAdmin: boolean\r\n}\r\n\r\n/**\r\n * Secure Wallet Mapping Manager\r\n * Handles the persistent mapping between connected wallets and game wallets\r\n */\r\nexport class WalletMappingManager {\r\n  private static instance: WalletMappingManager\r\n  private mappings: Map<string, WalletMapping> = new Map()\r\n  private profiles: Map<string, UserProfile> = new Map()\r\n  private readonly STORAGE_KEY = 'hilo_wallet_mappings'\r\n  private readonly PROFILES_KEY = 'hilo_user_profiles'\r\n\r\n  private constructor() {\r\n    this.loadFromStorage()\r\n  }\r\n\r\n  static getInstance(): WalletMappingManager {\r\n    if (!WalletMappingManager.instance) {\r\n      WalletMappingManager.instance = new WalletMappingManager()\r\n    }\r\n    return WalletMappingManager.instance\r\n  }\r\n\r\n  /**\r\n   * Get or create a game wallet for a connected wallet\r\n   */\r\n  async getOrCreateGameWallet(connectedWalletAddress: string): Promise<{\r\n    gameWallet: Keypair\r\n    mapping: WalletMapping\r\n    isNew: boolean\r\n  }> {\r\n    if (!isValidWalletAddress(connectedWalletAddress)) {\r\n      throw new Error('Invalid wallet address')\r\n    }\r\n\r\n    // Check if mapping already exists\r\n    const existingMapping = this.mappings.get(connectedWalletAddress)\r\n    if (existingMapping && existingMapping.isActive) {\r\n      try {\r\n        // Try to restore the existing game wallet\r\n        const gameWallet = restoreGameWallet(existingMapping.encryptedSecretKey)\r\n        \r\n        // Update last accessed time\r\n        existingMapping.lastAccessed = Date.now()\r\n        this.saveToStorage()\r\n        \r\n        return {\r\n          gameWallet,\r\n          mapping: existingMapping,\r\n          isNew: false\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to restore existing game wallet, creating new one:', error.message)\r\n        \r\n        // Clear the corrupted mapping\r\n        this.mappings.delete(connectedWalletAddress)\r\n        this.saveToStorage()\r\n        \r\n        // Fall through to create a new wallet\r\n      }\r\n    }\r\n\r\n    // Create new mapping\r\n    const { keypair, encryptedSecret } = generateGameWallet()\r\n    const userId = generateUserId(connectedWalletAddress)\r\n    \r\n    const newMapping: WalletMapping = {\r\n      id: userId,\r\n      connectedWalletAddress,\r\n      gameWalletAddress: keypair.publicKey.toString(),\r\n      encryptedSecretKey: encryptedSecret,\r\n      createdAt: Date.now(),\r\n      lastAccessed: Date.now(),\r\n      isActive: true,\r\n      isFrozen: false\r\n    }\r\n\r\n    this.mappings.set(connectedWalletAddress, newMapping)\r\n    this.saveToStorage()\r\n\r\n    return {\r\n      gameWallet: keypair,\r\n      mapping: newMapping,\r\n      isNew: true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get wallet mapping by connected wallet address\r\n   */\r\n  getMapping(connectedWalletAddress: string): WalletMapping | null {\r\n    return this.mappings.get(connectedWalletAddress) || null\r\n  }\r\n\r\n  /**\r\n   * Freeze a game wallet (admin function)\r\n   */\r\n  freezeWallet(connectedWalletAddress: string): boolean {\r\n    const mapping = this.mappings.get(connectedWalletAddress)\r\n    if (mapping) {\r\n      mapping.isFrozen = true\r\n      this.saveToStorage()\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * Unfreeze a game wallet (admin function)\r\n   */\r\n  unfreezeWallet(connectedWalletAddress: string): boolean {\r\n    const mapping = this.mappings.get(connectedWalletAddress)\r\n    if (mapping) {\r\n      mapping.isFrozen = false\r\n      this.saveToStorage()\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * Set withdrawal throttle (admin function)\r\n   */\r\n  setWithdrawalThrottle(connectedWalletAddress: string, throttleUntil: number): boolean {\r\n    const mapping = this.mappings.get(connectedWalletAddress)\r\n    if (mapping) {\r\n      mapping.withdrawalThrottleUntil = throttleUntil\r\n      this.saveToStorage()\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * Check if withdrawal is allowed\r\n   */\r\n  isWithdrawalAllowed(connectedWalletAddress: string): {\r\n    allowed: boolean\r\n    reason?: string\r\n    throttleUntil?: number\r\n  } {\r\n    const mapping = this.mappings.get(connectedWalletAddress)\r\n    if (!mapping) {\r\n      return { allowed: false, reason: 'Wallet mapping not found' }\r\n    }\r\n\r\n    if (mapping.isFrozen) {\r\n      return { allowed: false, reason: 'Wallet is frozen by admin' }\r\n    }\r\n\r\n    if (mapping.withdrawalThrottleUntil && mapping.withdrawalThrottleUntil > Date.now()) {\r\n      return { \r\n        allowed: false, \r\n        reason: 'Withdrawal throttled by admin',\r\n        throttleUntil: mapping.withdrawalThrottleUntil\r\n      }\r\n    }\r\n\r\n    return { allowed: true }\r\n  }\r\n\r\n  /**\r\n   * Reset a user's game wallet (admin function)\r\n   */\r\n  async resetGameWallet(connectedWalletAddress: string): Promise<{\r\n    success: boolean\r\n    newGameWallet?: Keypair\r\n    error?: string\r\n  }> {\r\n    try {\r\n      const mapping = this.mappings.get(connectedWalletAddress)\r\n      if (!mapping) {\r\n        return { success: false, error: 'Wallet mapping not found' }\r\n      }\r\n\r\n      // Generate new game wallet\r\n      const { keypair, encryptedSecret } = generateGameWallet()\r\n      \r\n      // Update mapping\r\n      mapping.gameWalletAddress = keypair.publicKey.toString()\r\n      mapping.encryptedSecretKey = encryptedSecret\r\n      mapping.lastAccessed = Date.now()\r\n      \r\n      this.saveToStorage()\r\n\r\n      return {\r\n        success: true,\r\n        newGameWallet: keypair\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Unknown error'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get all mappings (admin function)\r\n   */\r\n  getAllMappings(): WalletMapping[] {\r\n    return Array.from(this.mappings.values())\r\n  }\r\n\r\n  /**\r\n   * Load mappings from storage\r\n   */\r\n  private loadFromStorage(): void {\r\n    try {\r\n      // Load wallet mappings\r\n      const storedMappings = localStorage.getItem(this.STORAGE_KEY)\r\n      if (storedMappings) {\r\n        const parsedMappings = JSON.parse(storedMappings)\r\n        this.mappings = new Map(parsedMappings)\r\n      }\r\n\r\n      // Load user profiles\r\n      const storedProfiles = localStorage.getItem(this.PROFILES_KEY)\r\n      if (storedProfiles) {\r\n        const parsedProfiles = JSON.parse(storedProfiles)\r\n        this.profiles = new Map(parsedProfiles)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load wallet mappings from storage:', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save mappings to storage\r\n   */\r\n  private saveToStorage(): void {\r\n    try {\r\n      localStorage.setItem(this.STORAGE_KEY, JSON.stringify(Array.from(this.mappings.entries())))\r\n      localStorage.setItem(this.PROFILES_KEY, JSON.stringify(Array.from(this.profiles.entries())))\r\n    } catch (error) {\r\n      console.error('Failed to save wallet mappings to storage:', error)\r\n    }\r\n  }\r\n\r\n  // User Profile Methods\r\n\r\n  /**\r\n   * Create or update user profile\r\n   */\r\n  createOrUpdateProfile(profile: Partial<UserProfile> & { connectedWalletAddress: string }): UserProfile {\r\n    const userId = generateUserId(profile.connectedWalletAddress)\r\n    const existing = this.profiles.get(profile.connectedWalletAddress)\r\n    \r\n    const userProfile: UserProfile = {\r\n      id: userId,\r\n      connectedWalletAddress: profile.connectedWalletAddress,\r\n      username: profile.username || `Player${userId.slice(-6)}`,\r\n      profilePicture: profile.profilePicture,\r\n      profilePictureType: profile.profilePictureType || 'default',\r\n      joinDate: existing?.joinDate || Date.now(),\r\n      xp: profile.xp || 0,\r\n      badges: profile.badges || [],\r\n      currentStreak: profile.currentStreak || 0,\r\n      longestStreak: profile.longestStreak || 0,\r\n      totalWins: profile.totalWins || 0,\r\n      totalLosses: profile.totalLosses || 0,\r\n      totalWagered: profile.totalWagered || 0,\r\n      vipTier: profile.vipTier || 'Bronze',\r\n      isAdmin: profile.isAdmin || false\r\n    }\r\n\r\n    this.profiles.set(profile.connectedWalletAddress, userProfile)\r\n    this.saveToStorage()\r\n    \r\n    return userProfile\r\n  }\r\n\r\n  /**\r\n   * Get user profile\r\n   */\r\n  getProfile(connectedWalletAddress: string): UserProfile | null {\r\n    return this.profiles.get(connectedWalletAddress) || null\r\n  }\r\n\r\n  /**\r\n   * Check if username is unique\r\n   */\r\n  isUsernameUnique(username: string): boolean {\r\n    for (const profile of this.profiles.values()) {\r\n      if (profile.username.toLowerCase() === username.toLowerCase()) {\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Update profile stats\r\n   */\r\n  updateProfileStats(connectedWalletAddress: string, updates: Partial<UserProfile>): boolean {\r\n    const profile = this.profiles.get(connectedWalletAddress)\r\n    if (profile) {\r\n      Object.assign(profile, updates)\r\n      this.saveToStorage()\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * Get all profiles (admin function)\r\n   */\r\n  getAllProfiles(): UserProfile[] {\r\n    return Array.from(this.profiles.values())\r\n  }\r\n\r\n  /**\r\n   * Find and update the \"god\" user to maximum level (admin function)\r\n   */\r\n  updateGodUserToMaxLevel(): { success: boolean; message: string } {\r\n    try {\r\n      // Find the \"god\" user\r\n      const godProfile = Array.from(this.profiles.values()).find(profile => \r\n        profile.username.toLowerCase() === 'god'\r\n      );\r\n\r\n      if (!godProfile) {\r\n        return { \r\n          success: false, \r\n          message: 'No user with username \"god\" found. Please create the user first.' \r\n        };\r\n      }\r\n\r\n      // Calculate maximum level (level 100 = 99,000 XP)\r\n      const maxLevelXP = 99000;\r\n      const maxLevel = Math.floor(maxLevelXP / 1000) + 1;\r\n\r\n      // Update the profile with maximum level stats\r\n      const success = this.updateProfileStats(godProfile.connectedWalletAddress, {\r\n        xp: maxLevelXP,\r\n        vipTier: 'Diamond',\r\n        totalWagered: 100000, // Diamond tier requirement\r\n        totalWins: 1000,\r\n        totalLosses: 100,\r\n        longestStreak: 50,\r\n        currentStreak: 10,\r\n        isAdmin: true\r\n      });\r\n\r\n      if (success) {\r\n        return { \r\n          success: true, \r\n          message: `Successfully updated \"god\" user to level ${maxLevel} with Diamond VIP tier and admin privileges.` \r\n        };\r\n      } else {\r\n        return { \r\n          success: false, \r\n          message: 'Failed to update \"god\" user profile.' \r\n        };\r\n      }\r\n    } catch (error) {\r\n      return { \r\n        success: false, \r\n        message: `Error updating god user: ${error instanceof Error ? error.message : 'Unknown error'}` \r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create the \"god\" user if it doesn't exist (admin function)\r\n   */\r\n  createGodUser(): { success: boolean; message: string } {\r\n    try {\r\n      // Check if \"god\" user already exists\r\n      const existingGod = Array.from(this.profiles.values()).find(profile => \r\n        profile.username.toLowerCase() === 'god'\r\n      );\r\n\r\n      if (existingGod) {\r\n        return { \r\n          success: false, \r\n          message: 'User \"god\" already exists. Use updateGodUserToMaxLevel() to update their level.' \r\n        };\r\n      }\r\n\r\n      // Create a special wallet address for the god user\r\n      const godWalletAddress = '11111111111111111111111111111112'; // Special system address\r\n      \r\n      // Create the god user with maximum stats\r\n      const maxLevelXP = 99000;\r\n      const godProfile = this.createOrUpdateProfile({\r\n        connectedWalletAddress: godWalletAddress,\r\n        username: 'god',\r\n        xp: maxLevelXP,\r\n        vipTier: 'Diamond',\r\n        totalWagered: 100000,\r\n        totalWins: 1000,\r\n        totalLosses: 100,\r\n        longestStreak: 50,\r\n        currentStreak: 10,\r\n        isAdmin: true\r\n      });\r\n\r\n      return { \r\n        success: true, \r\n        message: `Successfully created \"god\" user with level ${Math.floor(maxLevelXP / 1000) + 1} and admin privileges.` \r\n      };\r\n    } catch (error) {\r\n      return { \r\n        success: false, \r\n        message: `Error creating god user: ${error instanceof Error ? error.message : 'Unknown error'}` \r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const walletMappingManager = WalletMappingManager.getInstance()\r\n","/**\r\n * Production-safe logging utility\r\n * Provides structured logging for production environments\r\n */\r\n\r\ninterface LogContext {\r\n  component?: string\r\n  action?: string\r\n  userId?: string\r\n  walletAddress?: string\r\n  error?: Error\r\n  metadata?: Record<string, any>\r\n}\r\n\r\nclass ProductionLogger {\r\n  private isProduction = process.env.NODE_ENV === 'production'\r\n\r\n  /**\r\n   * Log initialization events\r\n   */\r\n  logInit(component: string, metadata?: Record<string, any>) {\r\n    this.log('INIT', { component, ...metadata })\r\n  }\r\n\r\n  /**\r\n   * Log wallet-related events\r\n   */\r\n  logWalletEvent(action: string, metadata?: Record<string, any>) {\r\n    this.log('WALLET', { action, ...metadata })\r\n  }\r\n\r\n  /**\r\n   * Log errors with context\r\n   */\r\n  logError(error: Error, context?: LogContext) {\r\n    this.log('ERROR', {\r\n      message: error.message,\r\n      stack: error.stack,\r\n      ...context\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Log performance metrics\r\n   */\r\n  logPerformance(metric: string, value: number, unit: string = 'ms') {\r\n    this.log('PERFORMANCE', { metric, value, unit })\r\n  }\r\n\r\n  /**\r\n   * Core logging method\r\n   */\r\n  private log(level: string, data: Record<string, any>) {\r\n    const timestamp = new Date().toISOString()\r\n    const logEntry = {\r\n      timestamp,\r\n      level,\r\n      ...data\r\n    }\r\n\r\n    if (this.isProduction) {\r\n      // In production, use structured logging\r\n      console.log(JSON.stringify(logEntry))\r\n    } else {\r\n      // In development, use formatted logging\r\n      console.log(`[${level}]`, data)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Log wallet initialization specifically\r\n   */\r\n  logWalletInit(success: boolean, error?: Error, walletType?: string) {\r\n    this.logWalletEvent('INIT', {\r\n      success,\r\n      walletType,\r\n      error: error ? {\r\n        message: error.message,\r\n        name: error.name\r\n      } : undefined\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Log WASM loading events\r\n   */\r\n  logWasmEvent(event: string, module?: string, success?: boolean, error?: Error) {\r\n    this.log('WASM', {\r\n      event,\r\n      module,\r\n      success,\r\n      error: error ? {\r\n        message: error.message,\r\n        name: error.name\r\n      } : undefined\r\n    })\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const productionLogger = new ProductionLogger()\r\n\r\n// Export for direct use\r\nexport default productionLogger\r\n","import * as React from 'react'\r\nimport { createContext, useContext, useMemo, useCallback, useState, useEffect } from 'react'\r\nimport {\r\n  ConnectionProvider,\r\n  WalletProvider,\r\n  useWallet,\r\n} from '@solana/wallet-adapter-react'\r\nimport { WalletAdapterNetwork } from '@solana/wallet-adapter-base'\r\nimport { PhantomWalletAdapter } from '@solana/wallet-adapter-phantom'\r\nimport { SolflareWalletAdapter } from '@solana/wallet-adapter-solflare'\r\nimport { WalletModalProvider } from '@solana/wallet-adapter-react-ui'\r\nimport {\r\n  clusterApiUrl,\r\n  PublicKey,\r\n  Transaction,\r\n  SystemProgram,\r\n  Connection,\r\n  Keypair,\r\n} from '@solana/web3.js'\r\nimport { useToast } from '../components/Toast'\r\nimport { ProfileCreationModal } from '../components/ProfileCreationModal'\r\nimport { walletMappingManager } from '../lib/walletMapping'\r\nimport { productionLogger } from '../lib/productionLogger'\r\n// Wallet mapping and profile interfaces\r\ninterface WalletMapping {\r\n  id: string\r\n  connectedWalletAddress: string\r\n  gameWalletAddress: string\r\n  encryptedSecretKey: any\r\n  createdAt: number\r\n  lastAccessed: number\r\n  isActive: boolean\r\n  isFrozen: boolean\r\n  withdrawalThrottleUntil?: number\r\n}\r\n\r\ninterface UserProfile {\r\n  id: string\r\n  connectedWalletAddress: string\r\n  username: string\r\n  profilePicture?: string\r\n  profilePictureType?: 'upload' | 'nft' | 'default'\r\n  joinDate: number\r\n  xp: number\r\n  badges: string[]\r\n  currentStreak: number\r\n  longestStreak: number\r\n  totalWins: number\r\n  totalLosses: number\r\n  totalWagered: number\r\n  vipTier: 'Bronze' | 'Silver' | 'Gold' | 'Diamond'\r\n  isAdmin: boolean\r\n}\r\n\r\n// Default styles that can be overridden by your app\r\nimport '@solana/wallet-adapter-react-ui/styles.css'\r\n\r\ninterface WalletContextType {\r\n  // Connected wallet (Phantom, etc.)\r\n  connection: Connection\r\n  publicKey: PublicKey | null\r\n  connected: boolean\r\n  connecting: boolean\r\n  wallet: any\r\n  connect: () => Promise<void>\r\n  disconnect: () => Promise<void>\r\n  signMessage: (message: string) => Promise<Uint8Array>\r\n  \r\n  // Game wallet (generated for gameplay)\r\n  gameWallet: Keypair | null\r\n  gameWalletAddress: string | null\r\n  gameWalletBalance: number\r\n  walletMapping: WalletMapping | null\r\n  userProfile: UserProfile | null\r\n  \r\n  // Wallet operations\r\n  sendTransaction: (to: string, amount: number) => Promise<string>\r\n  depositToGame: (amount: number) => Promise<string>\r\n  withdrawFromGame: (amount: number) => Promise<string>\r\n  getGameBalance: () => Promise<number>\r\n  getBalance: () => Promise<number>\r\n  refreshGameBalance: () => Promise<void>\r\n  \r\n  // Profile operations\r\n  createProfile: (username: string, profilePicture?: string) => Promise<boolean>\r\n  updateProfile: (updates: Partial<UserProfile>) => Promise<boolean>\r\n  \r\n  // Loading states\r\n  isInitializing: boolean\r\n  isDepositing: boolean\r\n  isWithdrawing: boolean\r\n}\r\n\r\nconst WalletContext = createContext<WalletContextType | null>(null)\r\n\r\nexport const useWalletContext = () => {\r\n  const context = useContext(WalletContext)\r\n  if (!context) {\r\n    throw new Error('useWalletContext must be used within a WalletProvider')\r\n  }\r\n  return context\r\n}\r\n\r\nconst WalletContextProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  console.log('🔗 WalletContextProvider initializing...')\r\n  productionLogger.logInit('WalletContextProvider')\r\n  \r\n  // The network can be set to 'devnet', 'testnet', or 'mainnet-beta'.\r\n  const network = WalletAdapterNetwork.Devnet\r\n  console.log('🔗 Network set to:', network)\r\n\r\n  // You can also provide a custom RPC endpoint with fallbacks\r\n  const endpoint = useMemo(() => {\r\n    // Use a more reliable RPC endpoint\r\n    return 'https://api.devnet.solana.com'\r\n  }, [network])\r\n\r\n  const wallets = useMemo(() => {\r\n    console.log('🔗 Initializing wallet adapters...')\r\n    try {\r\n      // Check if we're in a browser environment\r\n      if (typeof window === 'undefined') {\r\n        console.log('🔗 Server-side rendering detected, returning empty wallet adapters')\r\n        return []\r\n      }\r\n\r\n      // Initialize Solana wallet adapters with Phantom as priority\r\n      const walletAdapters = [\r\n        new PhantomWalletAdapter(), // Priority wallet\r\n        new SolflareWalletAdapter()\r\n      ]\r\n      \r\n      console.log('🔗 Solana wallet adapters initialized successfully:', walletAdapters.length)\r\n      productionLogger.logWalletInit(true, undefined, 'PhantomWalletAdapter, SolflareWalletAdapter')\r\n      return walletAdapters\r\n    } catch (error) {\r\n      console.error('🔗 Failed to initialize wallet adapters:', error)\r\n      console.error('🔗 Wallet adapter error stack:', error instanceof Error ? error.stack : 'No stack trace')\r\n      productionLogger.logWalletInit(false, error instanceof Error ? error : new Error('Unknown wallet init error'))\r\n      return []\r\n    }\r\n  }, [network])\r\n\r\n  const connection = useMemo(() => {\r\n    console.log('🔗 Creating Solana connection to:', endpoint)\r\n    try {\r\n      const conn = new Connection(endpoint, 'confirmed')\r\n      console.log('🔗 Solana connection created successfully')\r\n      \r\n      // Test the connection on initialization\r\n      conn.getVersion().then(version => {\r\n        console.log('🔗 Solana RPC connection successful:', version)\r\n      }).catch(error => {\r\n        console.warn('🔗 Solana RPC connection test failed:', error)\r\n      })\r\n      \r\n      return conn\r\n    } catch (error) {\r\n      console.error('🔗 Failed to create Solana connection:', error)\r\n      console.error('🔗 Connection error stack:', error instanceof Error ? error.stack : 'No stack trace')\r\n      // Return a fallback connection\r\n      console.log('🔗 Using fallback connection')\r\n      return new Connection('https://api.devnet.solana.com', 'confirmed')\r\n    }\r\n  }, [endpoint])\r\n\r\n  console.log('🔗 Rendering wallet provider components...')\r\n  return (\r\n    <ConnectionProvider endpoint={endpoint}>\r\n      <WalletProvider wallets={wallets} autoConnect={false}>\r\n        <WalletModalProvider>\r\n          <WalletContextInner connection={connection}>\r\n            {children}\r\n          </WalletContextInner>\r\n        </WalletModalProvider>\r\n      </WalletProvider>\r\n    </ConnectionProvider>\r\n  )\r\n}\r\n\r\nconst WalletContextInner: React.FC<{\r\n  children: React.ReactNode\r\n  connection: any\r\n}> = ({ children, connection }) => {\r\n  const {\r\n    publicKey,\r\n    connected,\r\n    connecting,\r\n    wallet,\r\n    connect,\r\n    disconnect,\r\n    signMessage: walletSignMessage,\r\n  } = useWallet()\r\n\r\n  const { success, error } = useToast()\r\n\r\n  // Game wallet state\r\n  const [gameWallet, setGameWallet] = useState<Keypair | null>(null)\r\n  const [gameWalletAddress, setGameWalletAddress] = useState<string | null>(null)\r\n  const [gameWalletBalance, setGameWalletBalance] = useState<number>(0)\r\n  const [walletMapping, setWalletMapping] = useState<WalletMapping | null>(null)\r\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null)\r\n  \r\n  // Loading states\r\n  const [isInitializing, setIsInitializing] = useState(false)\r\n  const [isDepositing, setIsDepositing] = useState(false)\r\n  const [isWithdrawing, setIsWithdrawing] = useState(false)\r\n  const [showProfileCreation, setShowProfileCreation] = useState(false)\r\n\r\n  // Initialize game wallet when connected wallet changes\r\n  useEffect(() => {\r\n    try {\r\n      ;(window as any).__HILO_WALLET_CONNECTED__ = connected === true\r\n    } catch {}\r\n  }, [connected])\r\n  useEffect(() => {\r\n    let isMounted = true\r\n\r\n    const initializeGameWallet = async () => {\r\n      if (!publicKey || !connected) {\r\n        if (isMounted) {\r\n          setGameWallet(null)\r\n          setGameWalletAddress(null)\r\n          setGameWalletBalance(0)\r\n          setWalletMapping(null)\r\n          setUserProfile(null)\r\n        }\r\n        return\r\n      }\r\n\r\n      setIsInitializing(true)\r\n      try {\r\n        const walletAddress = publicKey.toString()\r\n        \r\n        // Get or create game wallet using the wallet manager\r\n        const { gameWallet, mapping, isNew } = await walletMappingManager.getOrCreateGameWallet(walletAddress)\r\n        \r\n        if (isMounted) {\r\n          setGameWallet(gameWallet)\r\n          setGameWalletAddress(gameWallet.publicKey.toString())\r\n          setWalletMapping(mapping)\r\n          \r\n          // Load or create user profile\r\n          let profile = walletMappingManager.getProfile(walletAddress)\r\n          if (!profile) {\r\n            // Show profile creation modal for new users\r\n            setShowProfileCreation(true)\r\n            \r\n            // Create a temporary profile with default username\r\n            profile = walletMappingManager.createOrUpdateProfile({\r\n              connectedWalletAddress: walletAddress,\r\n              username: `Player${walletAddress.slice(-6)}`,\r\n              joinDate: Date.now(),\r\n              xp: 0,\r\n              badges: [],\r\n              currentStreak: 0,\r\n              longestStreak: 0,\r\n              totalWins: 0,\r\n              totalLosses: 0,\r\n              totalWagered: 0,\r\n              vipTier: 'Bronze',\r\n              isAdmin: walletAddress === '11111111111111111111111111111112'\r\n            })\r\n          }\r\n        setUserProfile(profile)\r\n        \r\n        // Fetch REAL balance from the newly created/restored game wallet\r\n        await refreshGameBalance()\r\n        \r\n        if (isNew) {\r\n          success('Welcome!', 'Your game wallet has been created successfully')\r\n        }\r\n        }\r\n      } catch (err) {\r\n        const errorMessage = err instanceof Error ? err.message : 'Failed to initialize game wallet'\r\n        error('Initialization Error', errorMessage)\r\n        // Reset wallet state on error\r\n        if (isMounted) {\r\n          setGameWallet(null)\r\n          setGameWalletAddress(null)\r\n          setGameWalletBalance(0)\r\n          setWalletMapping(null)\r\n          setUserProfile(null)\r\n        }\r\n      } finally {\r\n        if (isMounted) {\r\n          setIsInitializing(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    initializeGameWallet()\r\n\r\n    return () => {\r\n      isMounted = false\r\n    }\r\n  }, [publicKey, connected, success, error])\r\n\r\n  // Refresh game balance - fetch REAL balance from Solana blockchain\r\n  const refreshGameBalance = useCallback(async () => {\r\n    if (!gameWallet || !gameWalletAddress || !connection) return\r\n    \r\n    try {\r\n      // Validate game wallet address\r\n      if (!gameWalletAddress || gameWalletAddress.length < 32) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.error('Invalid game wallet address:', gameWalletAddress)\r\n        }\r\n        return\r\n      }\r\n\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.log('Fetching REAL game wallet balance for:', gameWalletAddress)\r\n      }\r\n\r\n      // Fetch REAL balance from Solana blockchain\r\n      let balance: number = 0\r\n      let attempts = 0\r\n      const maxAttempts = 3\r\n      \r\n      while (attempts < maxAttempts) {\r\n        try {\r\n          const balancePromise = connection.getBalance(gameWallet.publicKey)\r\n          const timeoutPromise = new Promise((_, reject) => \r\n            setTimeout(() => reject(new Error('Balance fetch timeout')), 8000)\r\n          )\r\n          \r\n          const lamportsBalance = await Promise.race([balancePromise, timeoutPromise]) as number\r\n          balance = lamportsBalance / 1e9 // Convert lamports to SOL\r\n          break // Success, exit retry loop\r\n        } catch (retryError) {\r\n          attempts++\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log(`Game wallet balance fetch attempt ${attempts} failed:`, retryError)\r\n          }\r\n          \r\n          if (attempts >= maxAttempts) {\r\n            throw retryError\r\n          }\r\n          \r\n          // Wait before retry\r\n          await new Promise(resolve => setTimeout(resolve, 1000))\r\n        }\r\n      }\r\n      \r\n      setGameWalletBalance(balance)\r\n      \r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.log(`✅ REAL game wallet balance: ${balance} SOL`)\r\n      }\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.error('Failed to refresh REAL game balance:', err)\r\n      }\r\n      // Set balance to 0 if we can't fetch it (new wallet will have 0 SOL)\r\n      setGameWalletBalance(0)\r\n    }\r\n  }, [gameWallet, gameWalletAddress, connection])\r\n\r\n  // Deposit from connected wallet to game wallet\r\n  const depositToGame = useCallback(async (amount: number): Promise<string> => {\r\n    if (!publicKey || !gameWallet || !wallet) {\r\n      throw new Error('Wallet not properly initialized')\r\n    }\r\n\r\n    if (amount <= 0) {\r\n      throw new Error('Invalid deposit amount')\r\n    }\r\n\r\n    setIsDepositing(true)\r\n    try {\r\n      // Simulate the transaction\r\n      await new Promise(resolve => setTimeout(resolve, 2000)) // Simulate network delay\r\n      \r\n      const newBalance = gameWalletBalance + amount\r\n      setGameWalletBalance(newBalance)\r\n      \r\n      success('Deposit Successful', `Deposited ${amount} HILO to your game wallet`)\r\n      \r\n      return 'simulated-deposit-tx-hash'\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Deposit failed'\r\n      error('Deposit Failed', errorMessage)\r\n      throw err\r\n    } finally {\r\n      setIsDepositing(false)\r\n    }\r\n  }, [publicKey, gameWallet, gameWalletBalance, wallet, success, error])\r\n\r\n  // Withdraw from game wallet to connected wallet\r\n  const withdrawFromGame = useCallback(async (amount: number): Promise<string> => {\r\n    if (!publicKey || !gameWallet || !wallet) {\r\n      throw new Error('Wallet not properly initialized')\r\n    }\r\n\r\n    if (amount <= 0) {\r\n      throw new Error('Invalid withdrawal amount')\r\n    }\r\n\r\n    if (amount > gameWalletBalance) {\r\n      throw new Error('Insufficient game wallet balance')\r\n    }\r\n\r\n    setIsWithdrawing(true)\r\n    try {\r\n      // Simulate the transaction\r\n      await new Promise(resolve => setTimeout(resolve, 2000)) // Simulate network delay\r\n      \r\n      const newBalance = gameWalletBalance - amount\r\n      setGameWalletBalance(newBalance)\r\n      \r\n      success('Withdrawal Successful', `Withdrew ${amount} HILO to your connected wallet`)\r\n      \r\n      return 'simulated-withdrawal-tx-hash'\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Withdrawal failed'\r\n      error('Withdrawal Failed', errorMessage)\r\n      throw err\r\n    } finally {\r\n      setIsWithdrawing(false)\r\n    }\r\n  }, [publicKey, gameWallet, gameWalletBalance, wallet, success, error])\r\n\r\n  // Create user profile\r\n  const createProfile = useCallback(async (username: string, profilePicture?: string): Promise<boolean> => {\r\n    if (!publicKey) return false\r\n\r\n    try {\r\n      // Check username uniqueness\r\n      if (!walletMappingManager.isUsernameUnique(username)) {\r\n        throw new Error('Username is already taken')\r\n      }\r\n\r\n      const profile = walletMappingManager.createOrUpdateProfile({\r\n        connectedWalletAddress: publicKey.toString(),\r\n        username,\r\n        profilePicture,\r\n        profilePictureType: profilePicture ? 'upload' : 'default'\r\n      })\r\n\r\n      setUserProfile(profile)\r\n      success('Profile Created', `Welcome, ${username}!`)\r\n      return true\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create profile'\r\n      error('Profile Creation Failed', errorMessage)\r\n      return false\r\n    }\r\n  }, [publicKey, success, error])\r\n\r\n  // Update user profile\r\n  const updateProfile = useCallback(async (updates: Partial<UserProfile>): Promise<boolean> => {\r\n    if (!publicKey) return false\r\n\r\n    try {\r\n      const success = walletMappingManager.updateProfileStats(publicKey.toString(), updates)\r\n      if (success) {\r\n        const updatedProfile = walletMappingManager.getProfile(publicKey.toString())\r\n        if (updatedProfile) {\r\n          setUserProfile(updatedProfile)\r\n          return true\r\n        }\r\n      }\r\n      return false\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.error('Failed to update profile:', err)\r\n      }\r\n      return false\r\n    }\r\n  }, [publicKey])\r\n\r\n  // Handle profile creation completion\r\n  const handleProfileCreationComplete = useCallback(() => {\r\n    setShowProfileCreation(false)\r\n  }, [])\r\n\r\n  const sendTransaction = useCallback(\r\n    async (to: string, amount: number): Promise<string> => {\r\n      if (!publicKey || !wallet) {\r\n        throw new Error('Wallet not connected')\r\n      }\r\n\r\n      // Security validation\r\n      if (!to || typeof to !== 'string' || to.length < 32 || to.length > 44) {\r\n        throw new Error('Invalid recipient address')\r\n      }\r\n\r\n      if (\r\n        !amount ||\r\n        typeof amount !== 'number' ||\r\n        amount <= 0 ||\r\n        amount > 1000\r\n      ) {\r\n        throw new Error('Invalid amount. Must be between 0 and 1000 SOL')\r\n      }\r\n\r\n      // Validate recipient address\r\n      let toPublicKey: PublicKey\r\n      try {\r\n        toPublicKey = new PublicKey(to)\r\n      } catch (error) {\r\n        throw new Error('Invalid recipient address format')\r\n      }\r\n\r\n      // Prevent self-transfer\r\n      if (toPublicKey.equals(publicKey)) {\r\n        throw new Error('Cannot send SOL to yourself')\r\n      }\r\n\r\n      const lamports = Math.floor(amount * 1e9) // Convert SOL to lamports, ensure integer\r\n\r\n      // Check balance before creating transaction\r\n      const balance = await connection.getBalance(publicKey)\r\n      const feeEstimate = 5000 // Estimated transaction fee\r\n\r\n      if (balance < lamports + feeEstimate) {\r\n        throw new Error('Insufficient balance for transaction')\r\n      }\r\n\r\n      // Create transaction with recent blockhash\r\n      const { blockhash, lastValidBlockHeight } =\r\n        await connection.getLatestBlockhash('confirmed')\r\n\r\n      const transaction = new Transaction({\r\n        recentBlockhash: blockhash,\r\n        feePayer: publicKey,\r\n      }).add(\r\n        SystemProgram.transfer({\r\n          fromPubkey: publicKey,\r\n          toPubkey: toPublicKey,\r\n          lamports,\r\n        })\r\n      )\r\n\r\n      // Simulate transaction first\r\n      try {\r\n        const simulation = await connection.simulateTransaction(transaction)\r\n        if (simulation.value.err) {\r\n          throw new Error(\r\n            `Transaction simulation failed: ${JSON.stringify(simulation.value.err)}`\r\n          )\r\n        }\r\n      } catch (error: any) {\r\n        throw new Error(`Transaction simulation failed: ${error.message}`)\r\n      }\r\n\r\n      // Send transaction\r\n      const signature = await wallet.adapter.sendTransaction(\r\n        transaction,\r\n        connection,\r\n        { skipPreflight: false }\r\n      )\r\n\r\n      // Confirm transaction\r\n      const confirmation = await connection.confirmTransaction(\r\n        {\r\n          signature,\r\n          blockhash,\r\n          lastValidBlockHeight,\r\n        },\r\n        'confirmed'\r\n      )\r\n\r\n      if (confirmation.value.err) {\r\n        throw new Error(\r\n          `Transaction failed: ${JSON.stringify(confirmation.value.err)}`\r\n        )\r\n      }\r\n\r\n      return signature\r\n    },\r\n    [publicKey, wallet, connection]\r\n  )\r\n\r\n  const getBalance = useCallback(async (): Promise<number> => {\r\n    if (!publicKey) return 0\r\n    \r\n    try {\r\n      // Validate public key before fetching balance\r\n      if (!publicKey.toString() || publicKey.toString().length < 32) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.error('Invalid public key for balance fetch:', publicKey?.toString())\r\n        }\r\n        return 0\r\n      }\r\n\r\n      // Check if connection is available\r\n      if (!connection) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.error('Solana connection not available')\r\n        }\r\n        return 0\r\n      }\r\n\r\n      // Try to fetch balance with retry mechanism\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.log('Attempting to fetch balance for:', publicKey.toString())\r\n      }\r\n      \r\n      let balance: number = 0\r\n      let attempts = 0\r\n      const maxAttempts = 3\r\n      \r\n      while (attempts < maxAttempts) {\r\n        try {\r\n          const balancePromise = connection.getBalance(publicKey)\r\n          const timeoutPromise = new Promise((_, reject) => \r\n            setTimeout(() => reject(new Error('Balance fetch timeout')), 8000)\r\n          )\r\n          \r\n          balance = await Promise.race([balancePromise, timeoutPromise]) as number\r\n          break // Success, exit retry loop\r\n        } catch (retryError) {\r\n          attempts++\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log(`Balance fetch attempt ${attempts} failed:`, retryError)\r\n          }\r\n          \r\n          if (attempts >= maxAttempts) {\r\n            throw retryError\r\n          }\r\n          \r\n          // Wait before retry\r\n          await new Promise(resolve => setTimeout(resolve, 1000))\r\n        }\r\n      }\r\n      \r\n      const solBalance = balance / 1e9 // Convert lamports to SOL\r\n      \r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.log(`✅ Successfully fetched balance: ${solBalance} SOL (${balance} lamports)`)\r\n      }\r\n      \r\n      return solBalance\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.error('Failed to fetch connected wallet balance:', err)\r\n      }\r\n      \r\n      // Return 0 for failed balance fetches - no mock balances\r\n      return 0\r\n    }\r\n  }, [publicKey, connection])\r\n\r\n  const signMessage = useCallback(\r\n    async (message: string): Promise<Uint8Array> => {\r\n      if (!walletSignMessage) {\r\n        throw new Error('Wallet does not support message signing')\r\n      }\r\n      return await walletSignMessage(new TextEncoder().encode(message))\r\n    },\r\n    [walletSignMessage]\r\n  )\r\n\r\n  const contextValue: WalletContextType = {\r\n    // Connected wallet\r\n    connection,\r\n    publicKey,\r\n    connected,\r\n    connecting,\r\n    wallet,\r\n    connect,\r\n    disconnect,\r\n    signMessage,\r\n    \r\n    // Game wallet\r\n    gameWallet,\r\n    gameWalletAddress,\r\n    gameWalletBalance,\r\n    walletMapping,\r\n    userProfile,\r\n    \r\n    // Wallet operations\r\n    sendTransaction,\r\n    depositToGame,\r\n    withdrawFromGame,\r\n    getGameBalance: async () => {\r\n      await refreshGameBalance()\r\n      return gameWalletBalance\r\n    },\r\n    getBalance,\r\n    refreshGameBalance,\r\n    \r\n    // Profile operations\r\n    createProfile,\r\n    updateProfile,\r\n    \r\n    // Loading states\r\n    isInitializing,\r\n    isDepositing,\r\n    isWithdrawing,\r\n  }\r\n\r\n  return (\r\n    <WalletContext.Provider value={contextValue}>\r\n      {children}\r\n      \r\n      {/* Profile Creation Modal */}\r\n      <ProfileCreationModal\r\n        isOpen={showProfileCreation}\r\n        onClose={() => setShowProfileCreation(false)}\r\n        onComplete={handleProfileCreationComplete}\r\n      />\r\n    </WalletContext.Provider>\r\n  )\r\n}\r\n\r\nexport default WalletContextProvider\r\n","import React from 'react'\r\nimport { SafeWalletProvider, useSafeWalletContext } from './SafeWalletContext'\r\nimport WalletContextProvider, { useWalletContext as realUseWalletContext } from './WalletContext'\r\n\r\n/**\r\n * Wallet Context Wrapper - Attempts to load real wallet context, falls back to safe context\r\n */\r\nexport const WalletContextWrapper: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  // Always provide Safe context as a base, and layer real wallet provider when in browser.\r\n  if (typeof window === 'undefined') {\r\n    return <SafeWalletProvider>{children}</SafeWalletProvider>\r\n  }\r\n  return (\r\n    <SafeWalletProvider>\r\n      <WalletContextProvider>{children}</WalletContextProvider>\r\n    </SafeWalletProvider>\r\n  )\r\n}\r\n\r\n// Export a hook that works with either context\r\nexport const useWalletContext = () => {\r\n  try {\r\n    return realUseWalletContext()\r\n  } catch (error) {\r\n    return useSafeWalletContext()\r\n  }\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\nimport { createPortal } from 'react-dom'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\nimport { WalletMultiButton, useWalletModal } from '@solana/wallet-adapter-react-ui'\nimport { useWallet } from '@solana/wallet-adapter-react'\nimport { formatCurrency } from '../lib/utils'\nimport { useToast } from './Toast'\n\ninterface RealWalletButtonProps {\n  className?: string\n}\n\n/**\n * Real Solana Wallet Connect Button Component\n * Uses actual Solana wallet connection instead of mock functionality\n */\nexport const RealWalletButton: React.FC<RealWalletButtonProps> = ({\n  className = '',\n}) => {\n  const { publicKey, connected, connecting, connect, disconnect, getBalance, refreshGameBalance } = useWalletContext()\n\n  const [balance, setBalance] = useState<number>(0)\n  const [isLoading, setIsLoading] = useState(false)\n  const [open, setOpen] = useState(false)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n  const buttonRef = useRef<HTMLButtonElement>(null)\n  const [menuPos, setMenuPos] = useState<{ top: number; left: number }>({ top: 0, left: 0 })\n  const { success, error } = useToast()\n  const { setVisible } = useWalletModal()\n  const [showQR, setShowQR] = useState(false)\n  const { wallets, select } = useWallet()\n  const menuRef = useRef<HTMLDivElement>(null)\n\n  // Update balance when wallet connects\n  useEffect(() => {\n    if (connected && publicKey) {\n      updateBalance()\n    } else {\n      setBalance(0)\n    }\n  }, [connected, publicKey])\n\n  // Close on Escape and outside click\n  useEffect(() => {\n    if (!open) return\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') setOpen(false)\n    }\n    const onMouseDown = (e: MouseEvent) => {\n      const target = e.target as Node\n      if (menuRef.current && menuRef.current.contains(target)) return\n      if (buttonRef.current && buttonRef.current.contains(target)) return\n      setOpen(false)\n    }\n    window.addEventListener('keydown', onKey)\n    document.addEventListener('mousedown', onMouseDown)\n    return () => {\n      window.removeEventListener('keydown', onKey)\n      document.removeEventListener('mousedown', onMouseDown)\n    }\n  }, [open])\n\n  const updateBalance = async () => {\n    try {\n      setIsLoading(true)\n      const currentBalance = await getBalance()\n      setBalance(currentBalance)\n      // Also refresh in-app game balance dropdown so values stay in sync\n      try { await refreshGameBalance() } catch {}\n    } catch (error) {\n      if (process.env.NODE_ENV === 'development') {\n        console.error('Error fetching balance:', error)\n      }\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const shortAddress = publicKey\n    ? `${publicKey.toString().slice(0, 6)}...${publicKey.toString().slice(-4)}`\n    : ''\n\n  const updateMenuPosition = () => {\n    const btn = buttonRef.current\n    if (!btn) return\n    const rect = btn.getBoundingClientRect()\n    const left = Math.min(rect.left, window.innerWidth - 272) // 272 ~ w-64 + padding\n    const top = rect.bottom + 8\n    setMenuPos({ top, left })\n  }\n\n  useEffect(() => {\n    if (!open) return\n    updateMenuPosition()\n    const onResize = () => updateMenuPosition()\n    window.addEventListener('resize', onResize)\n    window.addEventListener('scroll', onResize, true)\n    return () => {\n      window.removeEventListener('resize', onResize)\n      window.removeEventListener('scroll', onResize, true)\n    }\n  }, [open])\n\n  return (\n    <div className={`relative ${className}`} ref={dropdownRef}>\n      {!connected ? (\n        <div className=\"relative\" ref={dropdownRef}>\n          <motion.button\n            onClick={() => setOpen(v => !v)}\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ duration: 0.2 }}\n            className=\"flex items-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 hover:border-hilo-gold/30 transition-colors text-sm text-white\"\n            title=\"Wallet menu\"\n            ref={buttonRef}\n          >\n            <span className=\"inline-flex items-center justify-center w-2 h-2 rounded-full bg-red-500\" />\n            <span className=\"font-medium\">Connect Wallet</span>\n            <span className=\"text-gray-400\">▾</span>\n          </motion.button>\n\n          {/* Using document-level outside click handler instead of overlay */}\n\n          <AnimatePresence>\n            {open && (\n              <motion.div\n                initial={{ opacity: 0, y: -6, scale: 0.98 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                exit={{ opacity: 0, y: -6, scale: 0.98 }}\n                transition={{ duration: 0.15 }}\n                className=\"fixed w-64 bg-hilo-gray border border-hilo-gray-light rounded-xl shadow-2xl z-[200]\"\n                style={{ top: menuPos.top, left: menuPos.left }}\n                onMouseDown={(e) => { e.stopPropagation() }}\n                onClick={(e) => { e.stopPropagation() }}\n                ref={menuRef}\n              >\n                <div className=\"py-2\">\n                  <button\n                    onMouseDown={(e) => { e.stopPropagation() }}\n                    onClick={async (e) => {\n                      e.stopPropagation()\n                      try {\n                        // Prefer direct Phantom connect to reliably trigger extension\n                        const phantom = wallets?.find(w => w.adapter?.name === 'Phantom')\n                        if (phantom && select) {\n                          select(phantom.adapter.name)\n                          await connect()\n                          // close after the adapter handles focus\n                          setTimeout(() => setOpen(false), 0)\n                          return\n                        }\n                        if (setVisible) setVisible(true)\n                        else await connect()\n                      } catch (e) {\n                        error('Connection Failed', 'Unable to open wallet. Try Phantom option.')\n                      }\n                    }}\n                    className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors\"\n                  >\n                    Connect Wallet\n                  </button>\n                  <button\n                    onMouseDown={(e) => { e.stopPropagation() }}\n                    onClick={(e) => { e.stopPropagation(); window.open('https://phantom.app/', '_blank') }}\n                    className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors\"\n                  >\n                    Get Phantom\n                  </button>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      ) : (\n        <div className=\"relative\">\n          <motion.button\n            onClick={() => setOpen(v => !v)}\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ duration: 0.2 }}\n            className=\"flex items-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 hover:border-hilo-gold/30 transition-colors text-sm text-white\"\n            title=\"Wallet menu\"\n            ref={buttonRef}\n          >\n            <span className=\"inline-flex items-center justify-center w-2 h-2 rounded-full bg-hilo-green\" />\n            <span className=\"font-medium\">{shortAddress}</span>\n            <span className=\"text-gray-400\">▾</span>\n          </motion.button>\n\n          {/* Using document-level outside click handler instead of overlay */}\n\n          <AnimatePresence>\n            {open && (\n              <motion.div\n                initial={{ opacity: 0, y: -6, scale: 0.98 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                exit={{ opacity: 0, y: -6, scale: 0.98 }}\n                transition={{ duration: 0.15 }}\n                className=\"fixed w-64 bg-hilo-gray border border-hilo-gray-light rounded-xl shadow-2xl z-[200]\"\n                style={{ top: menuPos.top, left: menuPos.left }}\n                onMouseDown={(e) => { e.stopPropagation() }}\n                onClick={(e) => { e.stopPropagation() }}\n                ref={menuRef}\n              >\n                <div className=\"py-2\">\n                  <div className=\"px-4 py-3 border-b border-hilo-gray-light\">\n                    <div className=\"text-xs text-gray-400\">Connected</div>\n                    <div className=\"text-sm font-mono text-white break-all\">{publicKey?.toString()}</div>\n                  </div>\n\n                  <button\n                    onClick={async () => {\n                      try {\n                        await navigator.clipboard.writeText(publicKey?.toString() || '')\n                        success('Copied', 'Wallet address copied to clipboard')\n                        setOpen(false)\n                      } catch {\n                        error('Copy Failed', 'Unable to copy wallet address')\n                      }\n                    }}\n                    className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors\"\n                  >\n                    Copy Address\n                  </button>\n\n                  <button\n                    onClick={() => {\n                      const pk = publicKey?.toString()\n                      if (pk) window.open(`https://solscan.io/account/${pk}`, '_blank')\n                      setOpen(false)\n                    }}\n                    className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors\"\n                  >\n                    View on Explorer\n                  </button>\n\n                  <button\n                    onClick={updateBalance}\n                    disabled={isLoading}\n                    className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors disabled:opacity-50\"\n                  >\n                    {isLoading ? 'Refreshing...' : 'Refresh Balance'}\n                  </button>\n\n                  <button\n                    onClick={() => {\n                      try {\n                        if (setVisible) setVisible(true)\n                        setOpen(false)\n                      } catch {}\n                    }}\n                    className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors\"\n                  >\n                    Switch Wallet\n                  </button>\n\n                  <button\n                    onClick={() => setShowQR(v => !v)}\n                    className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors\"\n                  >\n                    {showQR ? 'Hide QR Code' : 'Show QR Code'}\n                  </button>\n\n                  {showQR && (\n                    <div className=\"px-4 pb-2 flex items-center justify-center\">\n                      <img\n                        src={`https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=${encodeURIComponent(publicKey?.toString() || '')}`}\n                        alt=\"Wallet QR Code\"\n                        className=\"rounded-lg border border-hilo-gray-light bg-white p-1\"\n                      />\n                    </div>\n                  )}\n\n                  <div className=\"border-t border-hilo-gray-light my-2\" />\n\n                  <button\n                    onClick={async () => {\n                      try {\n                        await disconnect()\n                        setOpen(false)\n                      } catch {}\n                    }}\n                    className=\"w-full px-4 py-3 text-left text-red-400 hover:text-white hover:bg-red-500/10 transition-colors\"\n                  >\n                    Disconnect\n                  </button>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default RealWalletButton\n","import React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\r\nimport { walletMappingManager } from '../lib/walletMapping'\r\nimport { \r\n  X, \r\n  Shield, \r\n  Users, \r\n  AlertTriangle, \r\n  CheckCircle, \r\n  Clock, \r\n  Copy,\r\n  Search,\r\n  Crown,\r\n  Zap\r\n} from 'lucide-react'\r\nimport { useToast } from './Toast'\r\n\r\ninterface AdminPanelProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\ninterface WalletMapping {\r\n  id: string\r\n  connectedWalletAddress: string\r\n  gameWalletAddress: string\r\n  createdAt: number\r\n  isFrozen: boolean\r\n  withdrawalThrottleUntil?: number\r\n}\r\n\r\ninterface UserProfile {\r\n  id: string\r\n  connectedWalletAddress: string\r\n  username: string\r\n  joinDate: number\r\n}\r\n\r\nexport const AdminPanel: React.FC<AdminPanelProps> = ({ isOpen, onClose }) => {\r\n  const { userProfile } = useWalletContext()\r\n  const { success, error } = useToast()\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [selectedMapping, setSelectedMapping] = useState<WalletMapping | null>(null)\r\n  const [throttleDuration, setThrottleDuration] = useState(24) // hours\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Close on Escape\r\n  useEffect(() => {\r\n    if (!isOpen) return\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') onClose()\r\n    }\r\n    window.addEventListener('keydown', onKey)\r\n    return () => window.removeEventListener('keydown', onKey)\r\n  }, [isOpen, onClose])\r\n\r\n  // Check if user is admin\r\n  if (!userProfile?.isAdmin) {\r\n    return null\r\n  }\r\n\r\n  // Demo data - in production, this would come from API\r\n  const mappings: WalletMapping[] = [\r\n    {\r\n      id: 'demo-1',\r\n      connectedWalletAddress: '11111111111111111111111111111112',\r\n      gameWalletAddress: '22222222222222222222222222222223',\r\n      createdAt: Date.now() - 86400000, // 1 day ago\r\n      isFrozen: false\r\n    },\r\n    {\r\n      id: 'demo-2',\r\n      connectedWalletAddress: '33333333333333333333333333333334',\r\n      gameWalletAddress: '44444444444444444444444444444445',\r\n      createdAt: Date.now() - 172800000, // 2 days ago\r\n      isFrozen: true\r\n    }\r\n  ]\r\n\r\n  const profiles: UserProfile[] = [\r\n    {\r\n      id: 'demo-1',\r\n      connectedWalletAddress: '11111111111111111111111111111112',\r\n      username: 'AdminUser',\r\n      joinDate: Date.now() - 86400000\r\n    },\r\n    {\r\n      id: 'demo-2',\r\n      connectedWalletAddress: '33333333333333333333333333333334',\r\n      username: 'RegularUser',\r\n      joinDate: Date.now() - 172800000\r\n    }\r\n  ]\r\n\r\n  const filteredMappings = mappings.filter(mapping => \r\n    mapping.connectedWalletAddress.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    mapping.gameWalletAddress.toLowerCase().includes(searchTerm.toLowerCase())\r\n  )\r\n\r\n  const handleFreezeWallet = async (connectedWalletAddress: string) => {\r\n    if (isLoading) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      // In production, this would make an API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000)) // Simulate API call\r\n      success('Wallet Frozen', 'Wallet has been frozen successfully')\r\n    } catch (err) {\r\n      error('Freeze Failed', 'Failed to freeze wallet. Please try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleUnfreezeWallet = async (connectedWalletAddress: string) => {\r\n    if (isLoading) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      // In production, this would make an API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000)) // Simulate API call\r\n      success('Wallet Unfrozen', 'Wallet has been unfrozen successfully')\r\n    } catch (err) {\r\n      error('Unfreeze Failed', 'Failed to unfreeze wallet. Please try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleThrottleWallet = async (connectedWalletAddress: string) => {\r\n    if (isLoading || throttleDuration < 1 || throttleDuration > 168) {\r\n      error('Invalid Duration', 'Please enter a valid throttle duration (1-168 hours)')\r\n      return\r\n    }\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      // In production, this would make an API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000)) // Simulate API call\r\n      success('Withdrawal Throttled', `Withdrawals blocked for ${throttleDuration} hours`)\r\n    } catch (err) {\r\n      error('Throttle Failed', 'Failed to throttle wallet. Please try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleResetWallet = async (connectedWalletAddress: string) => {\r\n    if (isLoading) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      // In production, this would make an API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000)) // Simulate API call\r\n      success('Wallet Reset', 'Game wallet has been reset successfully')\r\n    } catch (err) {\r\n      error('Reset Failed', 'Failed to reset wallet. Please try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleCreateGodUser = async () => {\r\n    if (isLoading) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      const result = walletMappingManager.createGodUser()\r\n      if (result.success) {\r\n        success('God User Created', result.message)\r\n      } else {\r\n        error('Creation Failed', result.message)\r\n      }\r\n    } catch (err) {\r\n      error('Creation Failed', 'Failed to create god user. Please try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleUpdateGodUser = async () => {\r\n    if (isLoading) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      const result = walletMappingManager.updateGodUserToMaxLevel()\r\n      if (result.success) {\r\n        success('God User Updated', result.message)\r\n      } else {\r\n        error('Update Failed', result.message)\r\n      }\r\n    } catch (err) {\r\n      error('Update Failed', 'Failed to update god user. Please try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const copyToClipboard = async (text: string) => {\r\n    try {\r\n      await navigator.clipboard.writeText(text)\r\n      success('Copied', 'Address copied to clipboard')\r\n    } catch (err) {\r\n      error('Copy Failed', 'Failed to copy to clipboard')\r\n    }\r\n  }\r\n\r\n  const getProfileForMapping = (connectedWalletAddress: string): UserProfile | undefined => {\r\n    return profiles.find(profile => profile.connectedWalletAddress === connectedWalletAddress)\r\n  }\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\" onClick={onClose}>\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"absolute inset-0 bg-black/80 backdrop-blur-sm\"\r\n            onClick={onClose}\r\n          />\r\n\r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            className=\"relative w-full max-w-6xl h-[80vh] bg-hilo-gray border border-hilo-gray-light rounded-2xl shadow-2xl flex flex-col\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between p-6 border-b border-hilo-gray-light\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-red-500/20 rounded-lg\">\r\n                  <Shield className=\"w-6 h-6 text-red-400\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-white\">Admin Panel</h2>\r\n                  <p className=\"text-sm text-gray-400\">Wallet Management & Security</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"p-2 text-gray-400 hover:text-white transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"flex-1 overflow-hidden\">\r\n              <div className=\"h-full flex\">\r\n                {/* Left Panel - Wallet List */}\r\n                <div className=\"w-1/2 border-r border-hilo-gray-light flex flex-col\">\r\n                  {/* Search */}\r\n                  <div className=\"p-4 border-b border-hilo-gray-light\">\r\n                    <div className=\"relative\">\r\n                      <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search wallets...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        className=\"w-full pl-10 pr-4 py-2 bg-hilo-black border border-hilo-gray-light rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-hilo-gold\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Wallet List */}\r\n                  <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\r\n                    {filteredMappings.map((mapping) => {\r\n                      const profile = getProfileForMapping(mapping.connectedWalletAddress)\r\n                      return (\r\n                        <div\r\n                          key={mapping.id}\r\n                          onClick={() => setSelectedMapping(mapping)}\r\n                          className={`p-3 rounded-lg border cursor-pointer transition-colors ${\r\n                            selectedMapping?.id === mapping.id\r\n                              ? 'border-hilo-gold bg-hilo-gold/10'\r\n                              : 'border-hilo-gray-light hover:border-hilo-gray bg-hilo-black/50'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center justify-between mb-2\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <Users className=\"w-4 h-4 text-hilo-gold\" />\r\n                              <span className=\"text-sm font-medium text-white\">\r\n                                {profile?.username || 'Unknown User'}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-1\">\r\n                              {mapping.isFrozen && (\r\n                                <AlertTriangle className=\"w-4 h-4 text-red-400\" />\r\n                              )}\r\n                              {mapping.withdrawalThrottleUntil && mapping.withdrawalThrottleUntil > Date.now() && (\r\n                                <Clock className=\"w-4 h-4 text-yellow-400\" />\r\n                              )}\r\n                              {!mapping.isFrozen && (!mapping.withdrawalThrottleUntil || mapping.withdrawalThrottleUntil <= Date.now()) && (\r\n                                <CheckCircle className=\"w-4 h-4 text-green-400\" />\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-400 space-y-1\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <span>Connected:</span>\r\n                              <span className=\"font-mono\">{mapping.connectedWalletAddress.slice(0, 8)}...</span>\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <span>Game:</span>\r\n                              <span className=\"font-mono\">{mapping.gameWalletAddress.slice(0, 8)}...</span>\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <span>Created:</span>\r\n                              <span>{new Date(mapping.createdAt).toLocaleDateString()}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Right Panel - Wallet Details */}\r\n                <div className=\"w-1/2 flex flex-col\">\r\n                  {selectedMapping ? (\r\n                    <>\r\n                      {/* Wallet Details */}\r\n                      <div className=\"p-6 border-b border-hilo-gray-light\">\r\n                        <h3 className=\"text-lg font-semibold text-white mb-4\">Wallet Details</h3>\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <span className=\"text-sm text-gray-400\">Connected Wallet</span>\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"text-sm font-mono text-white\">\r\n                                {selectedMapping.connectedWalletAddress}\r\n                              </span>\r\n                              <button\r\n                                onClick={() => copyToClipboard(selectedMapping.connectedWalletAddress)}\r\n                                className=\"text-hilo-gold hover:text-hilo-gold-dark transition-colors\"\r\n                              >\r\n                                <Copy className=\"w-3 h-3\" />\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <span className=\"text-sm text-gray-400\">Game Wallet</span>\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"text-sm font-mono text-white\">\r\n                                {selectedMapping.gameWalletAddress}\r\n                              </span>\r\n                              <button\r\n                                onClick={() => copyToClipboard(selectedMapping.gameWalletAddress)}\r\n                                className=\"text-hilo-gold hover:text-hilo-gold-dark transition-colors\"\r\n                              >\r\n                                <Copy className=\"w-3 h-3\" />\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <span className=\"text-sm text-gray-400\">Status</span>\r\n                            <div className=\"flex items-center gap-2\">\r\n                              {selectedMapping.isFrozen ? (\r\n                                <span className=\"text-sm text-red-400\">Frozen</span>\r\n                              ) : (\r\n                                <span className=\"text-sm text-green-400\">Active</span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                          {selectedMapping.withdrawalThrottleUntil && selectedMapping.withdrawalThrottleUntil > Date.now() && (\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <span className=\"text-sm text-gray-400\">Throttled Until</span>\r\n                              <span className=\"text-sm text-yellow-400\">\r\n                                {new Date(selectedMapping.withdrawalThrottleUntil).toLocaleString()}\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Admin Actions */}\r\n                      <div className=\"flex-1 p-6\">\r\n                        <h3 className=\"text-lg font-semibold text-white mb-4\">Admin Actions</h3>\r\n                        <div className=\"space-y-4\">\r\n                          {/* Freeze/Unfreeze */}\r\n                          <div className=\"flex gap-2\">\r\n                            {selectedMapping.isFrozen ? (\r\n                              <button\r\n                                onClick={() => handleUnfreezeWallet(selectedMapping.connectedWalletAddress)}\r\n                                disabled={isLoading}\r\n                                className=\"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                              >\r\n                                <CheckCircle className=\"w-4 h-4\" />\r\n                                {isLoading ? 'Unfreezing...' : 'Unfreeze Wallet'}\r\n                              </button>\r\n                            ) : (\r\n                              <button\r\n                                onClick={() => handleFreezeWallet(selectedMapping.connectedWalletAddress)}\r\n                                disabled={isLoading}\r\n                                className=\"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                              >\r\n                                <AlertTriangle className=\"w-4 h-4\" />\r\n                                {isLoading ? 'Freezing...' : 'Freeze Wallet'}\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n\r\n                          {/* Throttle */}\r\n                          <div className=\"space-y-2\">\r\n                            <label className=\"block text-sm text-gray-400\">Throttle Duration (hours)</label>\r\n                            <div className=\"flex gap-2\">\r\n                              <input\r\n                                type=\"number\"\r\n                                value={throttleDuration}\r\n                                onChange={(e) => setThrottleDuration(Number(e.target.value))}\r\n                                className=\"flex-1 px-3 py-2 bg-hilo-black border border-hilo-gray-light rounded-lg text-white\"\r\n                                min=\"1\"\r\n                                max=\"168\"\r\n                              />\r\n                              <button\r\n                                onClick={() => handleThrottleWallet(selectedMapping.connectedWalletAddress)}\r\n                                disabled={isLoading}\r\n                                className=\"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                              >\r\n                                <Clock className=\"w-4 h-4\" />\r\n                                {isLoading ? 'Throttling...' : 'Throttle'}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Reset Wallet */}\r\n                          <button\r\n                            onClick={() => handleResetWallet(selectedMapping.connectedWalletAddress)}\r\n                            disabled={isLoading}\r\n                            className=\"w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                          >\r\n                            <Shield className=\"w-4 h-4\" />\r\n                            {isLoading ? 'Resetting...' : 'Reset Game Wallet'}\r\n                          </button>\r\n\r\n                          {/* God User Management */}\r\n                          <div className=\"border-t border-hilo-gray-light pt-4 mt-4\">\r\n                            <h4 className=\"text-sm font-semibold text-white mb-3 flex items-center gap-2\">\r\n                              <Crown className=\"w-4 h-4 text-yellow-500\" />\r\n                              God User Management\r\n                            </h4>\r\n                            <div className=\"space-y-2\">\r\n                              <button\r\n                                onClick={handleCreateGodUser}\r\n                                disabled={isLoading}\r\n                                className=\"w-full px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                              >\r\n                                <Crown className=\"w-4 h-4\" />\r\n                                {isLoading ? 'Creating...' : 'Create God User'}\r\n                              </button>\r\n                              <button\r\n                                onClick={handleUpdateGodUser}\r\n                                disabled={isLoading}\r\n                                className=\"w-full px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                              >\r\n                                <Zap className=\"w-4 h-4\" />\r\n                                {isLoading ? 'Updating...' : 'Update God to Max Level'}\r\n                              </button>\r\n                            </div>\r\n                            <p className=\"text-xs text-gray-400 mt-2\">\r\n                              Creates or updates the \"god\" user to level 100 with Diamond VIP tier and admin privileges.\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <div className=\"flex-1 flex items-center justify-center\">\r\n                      <div className=\"text-center\">\r\n                        <Users className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n                        <h3 className=\"text-lg font-semibold text-white mb-2\">Select a Wallet</h3>\r\n                        <p className=\"text-gray-400\">Choose a wallet from the list to view details and manage settings.</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  )\r\n}\r\n\r\nexport default AdminPanel\r\n","import React, { useEffect, useRef, useId } from 'react'\r\nimport { AnimatePresence, motion } from 'framer-motion'\r\nimport { createPortal } from 'react-dom'\r\nimport { X } from 'lucide-react'\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  children: React.ReactNode\r\n  maxWidth?: 'sm' | 'md' | 'lg' | 'xl'\r\n  panelClassName?: string\r\n  title?: string\r\n  zIndexClass?: string\r\n}\r\n\r\nconst maxWidthClass: Record<NonNullable<ModalProps['maxWidth']>, string> = {\r\n  sm: 'md:max-w-sm',\r\n  md: 'md:max-w-md',\r\n  lg: 'md:max-w-lg',\r\n  xl: 'md:max-w-xl',\r\n}\r\n\r\nexport const Modal: React.FC<ModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  children,\r\n  maxWidth = 'md',\r\n  panelClassName = '',\r\n  title,\r\n  zIndexClass = 'z-[120]',\r\n}) => {\r\n  const panelRef = useRef<HTMLDivElement>(null)\r\n  const previouslyFocusedRef = useRef<HTMLElement | null>(null)\r\n  const titleId = useId()\r\n\r\n  // ESC to close\r\n  useEffect(() => {\r\n    if (!isOpen) return\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') onClose()\r\n    }\r\n    window.addEventListener('keydown', onKey)\r\n    return () => window.removeEventListener('keydown', onKey)\r\n  }, [isOpen, onClose])\r\n\r\n  // Scroll lock\r\n  useEffect(() => {\r\n    if (!isOpen) return\r\n    const original = document.documentElement.style.overflow\r\n    document.documentElement.style.overflow = 'hidden'\r\n    return () => {\r\n      document.documentElement.style.overflow = original\r\n    }\r\n  }, [isOpen])\r\n\r\n  // Manage focus: save previous, focus first, trap Tab, and restore on close\r\n  useEffect(() => {\r\n    if (!isOpen) return\r\n    previouslyFocusedRef.current = document.activeElement as HTMLElement\r\n\r\n    // Focus first focusable element or panel itself\r\n    const focusFirstElement = () => {\r\n      const panel = panelRef.current\r\n      if (!panel) return\r\n      const focusable = panel.querySelectorAll<HTMLElement>(\r\n        'a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\r\n      )\r\n      const first = Array.from(focusable).find(el => !el.hasAttribute('inert') && el.offsetParent !== null)\r\n      ;(first || panel).focus()\r\n    }\r\n    const trap = (e: KeyboardEvent) => {\r\n      if (e.key !== 'Tab') return\r\n      const panel = panelRef.current\r\n      if (!panel) return\r\n      const focusable = Array.from(\r\n        panel.querySelectorAll<HTMLElement>(\r\n          'a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\r\n        )\r\n      ).filter(el => el.offsetParent !== null)\r\n      if (focusable.length === 0) {\r\n        e.preventDefault()\r\n        panel.focus()\r\n        return\r\n      }\r\n      const first = focusable[0]\r\n      const last = focusable[focusable.length - 1]\r\n      const active = document.activeElement as HTMLElement\r\n      if (!e.shiftKey && active === last) {\r\n        e.preventDefault()\r\n        first.focus()\r\n      } else if (e.shiftKey && active === first) {\r\n        e.preventDefault()\r\n        last.focus()\r\n      }\r\n    }\r\n    // Defer focus until after mount/animation tick\r\n    const t = setTimeout(focusFirstElement, 0)\r\n    window.addEventListener('keydown', trap)\r\n    return () => {\r\n      clearTimeout(t)\r\n      window.removeEventListener('keydown', trap)\r\n      // Restore focus\r\n      const prev = previouslyFocusedRef.current\r\n      if (prev && typeof prev.focus === 'function') {\r\n        try { prev.focus() } catch {}\r\n      }\r\n    }\r\n  }, [isOpen])\r\n\r\n  if (typeof document === 'undefined') return null\r\n\r\n  return createPortal(\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div\r\n          key=\"overlay-root\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          className={`fixed inset-0 ${zIndexClass}`}\r\n        >\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            key=\"backdrop\"\r\n            className=\"fixed inset-0 bg-black/65 backdrop-blur-xl\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n          />\r\n\r\n          {/* Centering - clicking anywhere outside the panel closes */}\r\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\" onClick={onClose}>\r\n            <motion.div\r\n              key=\"panel\"\r\n              ref={panelRef}\r\n              initial={{ opacity: 0, y: 36 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 24 }}\r\n              transition={{ duration: 0.18, ease: 'easeOut' }}\r\n              role=\"dialog\"\r\n              aria-modal=\"true\"\r\n              aria-labelledby={title ? titleId : undefined}\r\n              className={`relative w-full ${maxWidthClass[maxWidth]} \r\n                rounded-2xl border border-white/10 shadow-2xl\r\n                bg-[#0e0f12]/90 backdrop-blur-xl max-h-[90vh] overflow-y-auto no-scrollbar\r\n                ${panelClassName}\r\n              `}\r\n              onClick={e => e.stopPropagation()}\r\n              tabIndex={-1}\r\n            >\r\n              {/* Close button */}\r\n              <button\r\n                aria-label=\"Close\"\r\n                onClick={onClose}\r\n                className=\"absolute right-3 top-3 p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n\r\n              {/* Optional Header */}\r\n              {title && (\r\n                <div className=\"px-5 md:px-6 pt-5 md:pt-6 pb-4 border-b border-white/10\">\r\n                  <h2 id={titleId} className=\"text-xl md:text-2xl font-bold text-white\">{title}</h2>\r\n                </div>\r\n              )}\r\n\r\n              {/* Content */}\r\n              <div className={`${title ? 'pt-4' : 'pt-5 md:pt-6'} px-5 md:px-6 pb-5 md:pb-6`}>\r\n                {children}\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>,\r\n    document.body\r\n  )\r\n}\r\n\r\nexport default Modal\r\n\r\n\r\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { type ClassValue, clsx } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\n/**\n * Utility function to merge Tailwind CSS classes\n * @param inputs - Class values to merge\n * @returns Merged class string\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * Generate a random number between min and max (inclusive)\n * @param min - Minimum value\n * @param max - Maximum value\n * @returns Random number\n */\nexport function randomBetween(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * Generate a random dice roll (1-6)\n * @returns Random dice number\n */\nexport function rollDice(): number {\n  return randomBetween(1, 6)\n}\n\n/**\n * Check if a dice roll is high (4-6) or low (1-3)\n * @param diceRoll - The dice roll result\n * @returns 'high' or 'low'\n */\nexport function getDiceResult(diceRoll: number): 'high' | 'low' {\n  return diceRoll >= 4 ? 'high' : 'low'\n}\n\n/**\n * Get dice emoji for a given number\n * @param number - Dice number (1-6)\n * @returns Dice emoji\n */\nexport function getDiceEmoji(number: number): string {\n  const diceEmojis = ['⚀', '⚁', '⚂', '⚃', '⚄', '⚅']\n  return diceEmojis[number - 1] || '🎲'\n}\n\n/**\n * Format currency amount\n * @param amount - Amount to format\n * @returns Formatted currency string\n */\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  }).format(amount)\n}\n\n/**\n * Generate a mock wallet address\n * @returns Mock wallet address\n */\nexport function generateMockAddress(): string {\n  const chars = '0123456789ABCDEF'\n  let result = '0x'\n  for (let i = 0; i < 40; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length))\n  }\n  return result\n}\n\n/**\n * Generate a mock hash for provably fair verification\n * @param serverSeed - Server seed\n * @param clientSeed - Client seed\n * @param nonce - Nonce value\n * @returns Mock hash\n */\nexport function generateMockHash(\n  serverSeed: string,\n  clientSeed: string,\n  nonce: number\n): string {\n  const message = `${serverSeed}:${clientSeed}:${nonce}`\n  // Simple hash simulation (not cryptographically secure)\n  let hash = 0\n  for (let i = 0; i < message.length; i++) {\n    const char = message.charCodeAt(i)\n    hash = (hash << 5) - hash + char\n    hash = hash & hash // Convert to 32-bit integer\n  }\n  return Math.abs(hash).toString(16).padStart(8, '0')\n}\n\n/**\n * Generate a random server seed\n * @returns Random server seed\n */\nexport function generateServerSeed(): string {\n  const chars = '0123456789ABCDEF'\n  let result = ''\n  for (let i = 0; i < 64; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length))\n  }\n  return result\n}\n\n/**\n * Generate a random client seed\n * @returns Random client seed\n */\nexport function generateClientSeed(): string {\n  const chars = '0123456789ABCDEF'\n  let result = ''\n  for (let i = 0; i < 32; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length))\n  }\n  return result\n}\n\n/**\n * Debounce function to limit function calls\n * @param func - Function to debounce\n * @param wait - Wait time in milliseconds\n * @returns Debounced function\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeout)\n    timeout = setTimeout(() => func(...args), wait)\n  }\n}\n","/**\r\n * Enhanced Error Reporting System\r\n * Provides comprehensive error tracking and recovery mechanisms\r\n */\r\n\r\nexport interface ErrorReport {\r\n  id: string\r\n  timestamp: string\r\n  level: 'low' | 'medium' | 'high' | 'critical'\r\n  type: 'game_state' | 'promise_rejection' | 'component_error' | 'network_error' | 'wallet_error' | 'test_error'\r\n  message: string\r\n  stack?: string\r\n  context?: Record<string, any>\r\n  userAgent: string\r\n  url: string\r\n  resolved: boolean\r\n}\r\n\r\nclass ErrorReporter {\r\n  private reports: ErrorReport[] = []\r\n  private maxReports = 100\r\n\r\n  reportError(\r\n    error: Error,\r\n    type: ErrorReport['type'] = 'component_error',\r\n    level: ErrorReport['level'] = 'medium',\r\n    context?: Record<string, any>\r\n  ): string {\r\n    const reportId = this.generateId()\r\n    \r\n    const report: ErrorReport = {\r\n      id: reportId,\r\n      timestamp: new Date().toISOString(),\r\n      level,\r\n      type,\r\n      message: error.message,\r\n      stack: error.stack,\r\n      context,\r\n      userAgent: navigator.userAgent,\r\n      url: window.location.href,\r\n      resolved: false\r\n    }\r\n\r\n    // Handle test errors gracefully\r\n    if (type === 'test_error' || error.message.includes('Test:') || error.message.includes('Simulated')) {\r\n      console.log('✅ Test error reported and handled gracefully:', report)\r\n      return reportId\r\n    }\r\n\r\n    this.reports.push(report)\r\n    \r\n    // Keep only the most recent reports\r\n    if (this.reports.length > this.maxReports) {\r\n      this.reports = this.reports.slice(-this.maxReports)\r\n    }\r\n\r\n    // Log the error\r\n    console.error(`🚨 ${level.toUpperCase()} Error [${type}]:`, {\r\n      id: reportId,\r\n      message: error.message,\r\n      stack: error.stack,\r\n      context\r\n    })\r\n\r\n    // In production, send to external service\r\n    if (import.meta.env.PROD) {\r\n      this.sendToExternalService(report)\r\n    }\r\n\r\n    return reportId\r\n  }\r\n\r\n  private generateId(): string {\r\n    return `err_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n  }\r\n\r\n  private async sendToExternalService(report: ErrorReport): Promise<void> {\r\n    try {\r\n      // Example: Send to Sentry, LogRocket, or custom endpoint\r\n      console.log('📤 Sending error report to external service:', report.id)\r\n      \r\n      // Simulate API call\r\n      // await fetch('/api/errors', {\r\n      //   method: 'POST',\r\n      //   headers: { 'Content-Type': 'application/json' },\r\n      //   body: JSON.stringify(report)\r\n      // })\r\n    } catch (error) {\r\n      console.error('Failed to send error report:', error)\r\n    }\r\n  }\r\n\r\n  markResolved(reportId: string): void {\r\n    const report = this.reports.find(r => r.id === reportId)\r\n    if (report) {\r\n      report.resolved = true\r\n      console.log('✅ Error marked as resolved:', reportId)\r\n    }\r\n  }\r\n\r\n  getReports(): ErrorReport[] {\r\n    return [...this.reports]\r\n  }\r\n\r\n  getUnresolvedReports(): ErrorReport[] {\r\n    return this.reports.filter(r => !r.resolved)\r\n  }\r\n\r\n  clearReports(): void {\r\n    this.reports = []\r\n    console.log('🗑️ All error reports cleared')\r\n  }\r\n\r\n  // Game-specific error handlers\r\n  reportGameStateError(message: string, context?: Record<string, any>): string {\r\n    const error = new Error(message)\r\n    return this.reportError(error, 'game_state', 'high', context)\r\n  }\r\n\r\n  reportPromiseRejection(reason: any, context?: Record<string, any>): string {\r\n    const error = new Error(typeof reason === 'string' ? reason : reason?.message || 'Unhandled promise rejection')\r\n    return this.reportError(error, 'promise_rejection', 'high', { ...context, originalReason: reason })\r\n  }\r\n\r\n  reportNetworkError(error: Error, context?: Record<string, any>): string {\r\n    return this.reportError(error, 'network_error', 'medium', context)\r\n  }\r\n\r\n  reportWalletError(error: Error, context?: Record<string, any>): string {\r\n    return this.reportError(error, 'wallet_error', 'high', context)\r\n  }\r\n}\r\n\r\n// Global error reporter instance\r\nexport const errorReporter = new ErrorReporter()\r\n\r\n// Convenience functions\r\nexport const reportError = (\r\n  error: Error,\r\n  type?: ErrorReport['type'],\r\n  level?: ErrorReport['level'],\r\n  context?: Record<string, any>\r\n) => errorReporter.reportError(error, type, level, context)\r\n\r\nexport const reportGameStateError = (message: string, context?: Record<string, any>) =>\r\n  errorReporter.reportGameStateError(message, context)\r\n\r\nexport const reportPromiseRejection = (reason: any, context?: Record<string, any>) =>\r\n  errorReporter.reportPromiseRejection(reason, context)\r\n\r\nexport const reportNetworkError = (error: Error, context?: Record<string, any>) =>\r\n  errorReporter.reportNetworkError(error, context)\r\n\r\nexport const reportWalletError = (error: Error, context?: Record<string, any>) =>\r\n  errorReporter.reportWalletError(error, context)\r\n\r\n","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\nimport {\n  generateServerSeed,\n  generateClientSeed,\n  generateMockHash,\n  rollDice,\n  getDiceResult,\n} from '../lib/utils'\nimport { reportGameStateError } from '../lib/errorReporting'\n\nexport interface GameState {\n  // Wallet & Balance\n  isConnected: boolean\n  walletAddress: string\n  balance: number\n  hiloTokens: number\n  lastFaucetClaim: number | null\n\n  // Game state\n  currentBet: number\n  selectedSide: 'high' | 'low' | null\n  isRolling: boolean\n  lastRoll: number | null\n  lastResult: 'high' | 'low' | null\n  lastWin: boolean | null\n\n  // Streaks & Stats\n  currentWinStreak: number\n  currentLossStreak: number\n  maxWinStreak: number\n  maxLossStreak: number\n  totalWagered: number\n  totalWon: number\n  totalGames: number\n\n  // Auto-roll\n  autoRollEnabled: boolean\n  autoRollCount: number\n  autoRollMax: number\n  autoRollStopOnWin: boolean\n  autoRollStopOnLoss: boolean\n\n  // Provably fair\n  serverSeed: string\n  clientSeed: string\n  nonce: number\n  houseEdge: number\n\n  // User progression\n  xp: number\n  level: number\n  vipTier: 'Bronze' | 'Silver' | 'Gold' | 'Diamond'\n  dailyChallenges: Array<{\n    id: string\n    title: string\n    description: string\n    reward: number\n    completed: boolean\n    progress: number\n    maxProgress: number\n  }>\n\n  // Settings\n  soundEnabled: boolean\n  selectedDiceSkin: 'classic' | 'neon' | 'gold'\n  muted: boolean\n  animationsEnabled: boolean\n  hapticsEnabled: boolean\n  autoSaveEnabled: boolean\n  masterVolume: number // 0-100\n\n  // Game history\n  gameHistory: Array<{\n    id: string\n    timestamp: Date\n    bet: number\n    side: 'high' | 'low'\n    roll: number\n    result: 'high' | 'low'\n    won: boolean\n    hash: string\n    multiplier: number\n  }>\n\n  // Live feed\n  recentWins: Array<{\n    id: string\n    username: string\n    amount: number\n    game: string\n    timestamp: Date\n    avatar: string\n  }>\n\n  // Leaderboard data\n  leaderboard: Array<{\n    id: string\n    username: string\n    totalWins: number\n    totalWagered: number\n    winRate: number\n    avatar: string\n    vipTier: string\n    level: number\n  }>\n\n  // Prize pools\n  weeklyPrizePool: number\n  monthlyPrizePool: number\n}\n\nexport interface GameActions {\n  // Wallet actions\n  connectWallet: () => void\n  disconnectWallet: () => void\n  updateBalance: (amount: number) => void\n  claimFaucet: () => void\n\n  // Game actions\n  setBet: (amount: number) => void\n  selectSide: (side: 'high' | 'low') => void\n  rollDice: () => Promise<void>\n  resetGame: () => void\n  validateGameState: () => boolean\n  recoverGameState: () => void\n\n  // Auto-roll actions\n  toggleAutoRoll: () => void\n  setAutoRollSettings: (\n    settings: Partial<\n      Pick<\n        GameState,\n        'autoRollMax' | 'autoRollStopOnWin' | 'autoRollStopOnLoss'\n      >\n    >\n  ) => void\n\n  // Streak actions\n  updateStreaks: (won: boolean) => void\n\n  // Progression actions\n  addXP: (amount: number) => void\n  updateVIPTier: () => void\n  completeChallenge: (challengeId: string) => void\n  spinDailyWheel: () => void\n  updateChallenges: (won: boolean, betAmount: number) => void\n\n  // Settings actions\n  toggleSound: () => void\n  setDiceSkin: (skin: 'classic' | 'neon' | 'gold') => void\n  toggleMute: () => void\n  toggleAnimations: () => void\n  toggleHaptics: () => void\n  toggleAutoSave: () => void\n  setMasterVolume: (value: number) => void\n  resetEverything: () => void\n\n  // Provably fair actions\n  generateNewSeeds: () => void\n  verifyRoll: (hash: string) => boolean\n\n  // History actions\n  addToHistory: (game: Omit<GameState['gameHistory'][0], 'id'>) => void\n  clearHistory: () => void\n  exportHistory: () => string\n  addToLiveFeed: (win: Omit<GameState['recentWins'][0], 'id'>) => void\n\n  // Leaderboard actions\n  updateLeaderboard: () => void\n  updatePrizePools: () => void\n}\n\nconst initialState: GameState = {\n  // Wallet & Balance\n  isConnected: false,\n  walletAddress: '',\n  balance: 1000, // Starting balance\n  hiloTokens: 10000, // Starting HILO tokens\n  lastFaucetClaim: null,\n\n  // Game state\n  currentBet: 10,\n  selectedSide: null,\n  isRolling: false,\n  lastRoll: null,\n  lastResult: null,\n  lastWin: null,\n\n  // Streaks & Stats\n  currentWinStreak: 0,\n  currentLossStreak: 0,\n  maxWinStreak: 0,\n  maxLossStreak: 0,\n  totalWagered: 0,\n  totalWon: 0,\n  totalGames: 0,\n\n  // Auto-roll\n  autoRollEnabled: false,\n  autoRollCount: 0,\n  autoRollMax: 10,\n  autoRollStopOnWin: false,\n  autoRollStopOnLoss: false,\n\n  // Provably fair\n  serverSeed: generateServerSeed(),\n  clientSeed: generateClientSeed(),\n  nonce: 0,\n  houseEdge: 0.02, // 2% house edge (49% player win chance)\n\n  // User progression\n  xp: 0,\n  level: 1,\n  vipTier: 'Bronze',\n  dailyChallenges: [\n    {\n      id: 'win-3-highs',\n      title: 'High Roller',\n      description: 'Win 3 high bets today',\n      reward: 100,\n      completed: false,\n      progress: 0,\n      maxProgress: 3,\n    },\n    {\n      id: 'streak-5',\n      title: 'Hot Streak',\n      description: 'Get a 5-game win streak',\n      reward: 250,\n      completed: false,\n      progress: 0,\n      maxProgress: 5,\n    },\n    {\n      id: 'wager-1000',\n      title: 'Big Spender',\n      description: 'Wager 1000 HILO tokens',\n      reward: 500,\n      completed: false,\n      progress: 0,\n      maxProgress: 1000,\n    },\n  ],\n\n  // Settings\n  soundEnabled: true,\n  selectedDiceSkin: 'classic',\n  muted: false,\n  animationsEnabled: true,\n  hapticsEnabled: false,\n  autoSaveEnabled: true,\n  masterVolume: 75,\n\n  // Game history\n  gameHistory: [],\n\n  // Live feed\n  recentWins: [],\n\n  // Leaderboard data\n  leaderboard: [],\n\n  // Prize pools\n  weeklyPrizePool: 50000,\n  monthlyPrizePool: 200000,\n}\n\nexport const useGameStore = create<GameState & GameActions>()(\n  persist(\n    (set, get) => ({\n      ...initialState,\n\n      // Wallet actions\n      connectWallet: () => {\n        const mockAddress = '0x' + Math.random().toString(16).substr(2, 40)\n        set({\n          isConnected: true,\n          walletAddress: mockAddress,\n        })\n      },\n\n      disconnectWallet: () => {\n        set({\n          isConnected: false,\n          walletAddress: '',\n        })\n      },\n\n      updateBalance: (amount: number) => {\n        set(state => ({\n          balance: Math.max(0, state.balance + amount),\n        }))\n      },\n\n      claimFaucet: () => {\n        const state = get()\n        const now = Date.now()\n        const twentyFourHours = 24 * 60 * 60 * 1000 // 24 hours in milliseconds\n\n        // Check if 24 hours have passed since last claim\n        if (\n          state.lastFaucetClaim &&\n          now - state.lastFaucetClaim < twentyFourHours\n        ) {\n          const timeLeft = twentyFourHours - (now - state.lastFaucetClaim)\n          const hoursLeft = Math.ceil(timeLeft / (60 * 60 * 1000))\n          throw new Error(`Faucet cooldown: ${hoursLeft} hours remaining`)\n        }\n\n        const faucetAmount = 1000\n        set(state => ({\n          hiloTokens: state.hiloTokens + faucetAmount,\n          lastFaucetClaim: now,\n        }))\n      },\n\n      // Game actions\n      setBet: (amount: number) => {\n        set({ currentBet: Math.max(1, Math.min(amount, get().hiloTokens)) })\n      },\n\n      selectSide: (side: 'high' | 'low') => {\n        set({ selectedSide: side })\n      },\n\n      rollDice: async () => {\n        const state = get()\n        \n        // Enhanced validation with detailed logging\n        console.log('🎲 Rolling dice with state:', {\n          isRolling: state.isRolling,\n          selectedSide: state.selectedSide,\n          currentBet: state.currentBet,\n          hiloTokens: state.hiloTokens,\n          autoRollEnabled: state.autoRollEnabled,\n          autoRollCount: state.autoRollCount,\n          autoRollMax: state.autoRollMax\n        })\n\n        if (\n          state.isRolling ||\n          !state.selectedSide ||\n          state.currentBet > state.hiloTokens\n        ) {\n          console.warn('🚫 Roll dice blocked:', {\n            isRolling: state.isRolling,\n            hasSelectedSide: !!state.selectedSide,\n            sufficientFunds: state.currentBet <= state.hiloTokens\n          })\n          return\n        }\n\n        try {\n          set({ isRolling: true })\n\n          // Generate the roll result immediately (for 3D dice target)\n          const roll = Math.floor(Math.random() * 6) + 1\n          const result = getDiceResult(roll)\n\n          // Player wins if their selected side matches the dice result\n          // House edge is built into the 1.98x multiplier (instead of 2x)\n          const won = state.selectedSide === result\n\n          console.log('🎯 Dice result:', { roll, result, selectedSide: state.selectedSide, won })\n\n          // Set the roll result immediately for 3D dice\n          set(prevState => ({\n            lastRoll: roll,\n            lastResult: result,\n            lastWin: won,\n          }))\n\n          // Wait for 3D dice animation to complete (2.6 seconds total: 1.8s roll + 0.8s suspense)\n          await new Promise(resolve => setTimeout(resolve, 2600))\n\n          const multiplier = won ? 1.98 : 0 // 1.98x multiplier (accounts for house edge)\n\n          // Generate hash for provably fair\n          const hash = generateMockHash(\n            state.serverSeed,\n            state.clientSeed,\n            state.nonce\n          )\n\n          // Update streaks\n          get().updateStreaks(won)\n\n          // Calculate winnings\n          const winnings = won ? state.currentBet * multiplier : 0\n          const netChange = winnings - state.currentBet\n\n          // Update game state with enhanced logging\n          set(prevState => ({\n            isRolling: false,\n            nonce: prevState.nonce + 1,\n            hiloTokens: prevState.hiloTokens + netChange,\n            totalWagered: prevState.totalWagered + state.currentBet,\n            totalWon: prevState.totalWon + winnings,\n            totalGames: prevState.totalGames + 1,\n            autoRollCount: prevState.autoRollEnabled\n              ? prevState.autoRollCount + 1\n              : 0,\n          }))\n\n          console.log('💰 Game completed:', {\n            won,\n            winnings,\n            netChange,\n            newBalance: state.hiloTokens + netChange\n          })\n\n          // Add XP\n          get().addXP(won ? 10 : 5)\n\n          // Add to history\n          get().addToHistory({\n            timestamp: new Date(),\n            bet: state.currentBet,\n            side: state.selectedSide,\n            roll,\n            result,\n            won,\n            hash,\n            multiplier,\n          })\n\n          // Add to live feed if won\n          if (won && winnings > 100) {\n            get().addToLiveFeed({\n              username: 'You',\n              amount: winnings,\n              game: 'Dice High/Low',\n              timestamp: new Date(),\n              avatar: '🎲',\n            })\n          }\n\n          // Update challenges\n          get().updateChallenges(won, state.currentBet)\n\n          // Reset selection for next game\n          set({ selectedSide: null })\n\n          // Enhanced auto-roll logic with better state management\n          const currentState = get()\n          if (currentState.autoRollEnabled && currentState.autoRollCount < currentState.autoRollMax) {\n            const shouldContinue =\n              (!currentState.autoRollStopOnWin || !won) &&\n              (!currentState.autoRollStopOnLoss || won)\n\n            console.log('🔄 Auto-roll check:', {\n              enabled: currentState.autoRollEnabled,\n              count: currentState.autoRollCount,\n              max: currentState.autoRollMax,\n              stopOnWin: currentState.autoRollStopOnWin,\n              stopOnLoss: currentState.autoRollStopOnLoss,\n              won,\n              shouldContinue\n            })\n\n            if (shouldContinue) {\n              setTimeout(() => {\n                try {\n                  get().rollDice()\n                } catch (error) {\n                  console.error('🚨 Auto-roll error:', error)\n                  // Disable auto-roll on error to prevent infinite loops\n                  set({ autoRollEnabled: false, autoRollCount: 0 })\n                }\n              }, 1000)\n            } else {\n              set({ autoRollEnabled: false, autoRollCount: 0 })\n              console.log('🛑 Auto-roll stopped')\n            }\n          }\n        } catch (error) {\n          console.error('🚨 Error in rollDice:', error)\n          // Reset rolling state on error\n          set({ isRolling: false })\n          throw error\n        }\n      },\n\n      resetGame: () => {\n        console.log('🔄 Resetting game state')\n        set({\n          selectedSide: null,\n          isRolling: false,\n          lastRoll: null,\n          lastResult: null,\n          lastWin: null,\n          autoRollEnabled: false,\n          autoRollCount: 0,\n        })\n      },\n\n      // Add game state validation method\n      validateGameState: () => {\n        const state = get()\n        const issues: string[] = []\n\n        // Check for invalid game states\n        if (state.isRolling && !state.selectedSide) {\n          issues.push('Game is rolling but no side selected')\n        }\n\n        if (state.currentBet <= 0) {\n          issues.push('Invalid bet amount')\n        }\n\n        if (state.hiloTokens < 0) {\n          issues.push('Negative token balance')\n        }\n\n        if (state.autoRollEnabled && state.autoRollCount > state.autoRollMax) {\n          issues.push('Auto-roll count exceeds maximum')\n        }\n\n        if (issues.length > 0) {\n          console.warn('🚨 Game state validation issues:', issues)\n          \n          // Report the game state error\n          reportGameStateError(`Game state validation failed: ${issues.join(', ')}`, {\n            issues,\n            gameState: {\n              isRolling: state.isRolling,\n              selectedSide: state.selectedSide,\n              currentBet: state.currentBet,\n              hiloTokens: state.hiloTokens,\n              autoRollEnabled: state.autoRollEnabled,\n              autoRollCount: state.autoRollCount,\n              autoRollMax: state.autoRollMax\n            }\n          })\n          \n          return false\n        }\n\n        console.log('✅ Game state validation passed')\n        return true\n      },\n\n      // Add recovery method for corrupted state\n      recoverGameState: () => {\n        console.log('🔧 Attempting game state recovery')\n        const state = get()\n        \n        // Reset potentially problematic states\n        set({\n          isRolling: false,\n          autoRollEnabled: false,\n          autoRollCount: 0,\n          selectedSide: null,\n        })\n\n        // Validate and fix token balance\n        if (state.hiloTokens < 0) {\n          set({ hiloTokens: 1000 }) // Reset to safe minimum\n        }\n\n        // Validate and fix bet amount\n        if (state.currentBet <= 0 || state.currentBet > state.hiloTokens) {\n          set({ currentBet: Math.min(10, state.hiloTokens) })\n        }\n\n        console.log('✅ Game state recovery completed')\n      },\n\n      // Auto-roll actions\n      toggleAutoRoll: () => {\n        set(state => ({\n          autoRollEnabled: !state.autoRollEnabled,\n          autoRollCount: !state.autoRollEnabled ? 0 : state.autoRollCount, // Only reset when turning ON\n        }))\n      },\n\n      setAutoRollSettings: settings => {\n        set(settings)\n      },\n\n      // Streak actions\n      updateStreaks: (won: boolean) => {\n        set(state => {\n          if (won) {\n            return {\n              currentWinStreak: state.currentWinStreak + 1,\n              currentLossStreak: 0,\n              maxWinStreak: Math.max(\n                state.maxWinStreak,\n                state.currentWinStreak + 1\n              ),\n            }\n          } else {\n            return {\n              currentWinStreak: 0,\n              currentLossStreak: state.currentLossStreak + 1,\n              maxLossStreak: Math.max(\n                state.maxLossStreak,\n                state.currentLossStreak + 1\n              ),\n            }\n          }\n        })\n      },\n\n      // Progression actions\n      addXP: (amount: number) => {\n        set(state => {\n          const newXP = state.xp + amount\n          const newLevel = Math.floor(newXP / 1000) + 1\n          return {\n            xp: newXP,\n            level: newLevel,\n          }\n        })\n        get().updateVIPTier()\n      },\n\n      updateVIPTier: () => {\n        const state = get()\n        let newTier: 'Bronze' | 'Silver' | 'Gold' | 'Diamond' = 'Bronze'\n\n        if (state.totalWagered >= 100000) newTier = 'Diamond'\n        else if (state.totalWagered >= 50000) newTier = 'Gold'\n        else if (state.totalWagered >= 10000) newTier = 'Silver'\n\n        set({ vipTier: newTier })\n      },\n\n      completeChallenge: (challengeId: string) => {\n        set(state => ({\n          dailyChallenges: state.dailyChallenges.map(challenge =>\n            challenge.id === challengeId\n              ? { ...challenge, completed: true }\n              : challenge\n          ),\n          hiloTokens:\n            state.hiloTokens +\n            (state.dailyChallenges.find(c => c.id === challengeId)?.reward ||\n              0),\n        }))\n      },\n\n      spinDailyWheel: () => {\n        const rewards = [50, 100, 250, 500, 1000, 2000]\n        const reward = rewards[Math.floor(Math.random() * rewards.length)]\n        set(state => ({\n          hiloTokens: state.hiloTokens + reward,\n        }))\n      },\n\n      updateChallenges: (won: boolean, betAmount: number) => {\n        set(state => ({\n          dailyChallenges: state.dailyChallenges.map(challenge => {\n            if (challenge.completed) return challenge\n\n            let newProgress = challenge.progress\n            if (challenge.id === 'win-3-highs' && won) {\n              newProgress = Math.min(\n                challenge.progress + 1,\n                challenge.maxProgress\n              )\n            } else if (challenge.id === 'streak-5' && won) {\n              newProgress = Math.min(\n                state.currentWinStreak,\n                challenge.maxProgress\n              )\n            } else if (challenge.id === 'wager-1000') {\n              newProgress = Math.min(\n                challenge.progress + betAmount,\n                challenge.maxProgress\n              )\n            }\n\n            return {\n              ...challenge,\n              progress: newProgress,\n              completed: newProgress >= challenge.maxProgress,\n            }\n          }),\n        }))\n      },\n\n      // Settings actions\n      toggleSound: () => {\n        set(state => ({ soundEnabled: !state.soundEnabled }))\n      },\n\n      setDiceSkin: (skin: 'classic' | 'neon' | 'gold') => {\n        set({ selectedDiceSkin: skin })\n      },\n\n      toggleMute: () => {\n        set(state => ({ muted: !state.muted }))\n      },\n\n      toggleAnimations: () => {\n        set(state => ({ animationsEnabled: !state.animationsEnabled }))\n      },\n\n      toggleHaptics: () => {\n        set(state => ({ hapticsEnabled: !state.hapticsEnabled }))\n      },\n\n      toggleAutoSave: () => {\n        set(state => ({ autoSaveEnabled: !state.autoSaveEnabled }))\n      },\n\n      setMasterVolume: (value: number) => {\n        const clamped = Math.max(0, Math.min(100, Math.floor(value)))\n        set({ masterVolume: clamped })\n      },\n\n      resetEverything: () => {\n        set(() => ({\n          // Wallet & Balance\n          balance: 1000,\n          hiloTokens: 10000,\n          lastFaucetClaim: null,\n\n          // Game state\n          currentBet: 10,\n          selectedSide: null,\n          isRolling: false,\n          lastRoll: null,\n          lastResult: null,\n          lastWin: null,\n\n          // Streaks & Stats\n          currentWinStreak: 0,\n          currentLossStreak: 0,\n          maxWinStreak: 0,\n          maxLossStreak: 0,\n          totalWagered: 0,\n          totalWon: 0,\n          totalGames: 0,\n\n          // Auto-roll\n          autoRollEnabled: false,\n          autoRollCount: 0,\n          autoRollMax: 10,\n          autoRollStopOnWin: false,\n          autoRollStopOnLoss: false,\n\n          // Provably fair\n          serverSeed: generateServerSeed(),\n          clientSeed: generateClientSeed(),\n          nonce: 0,\n\n          // User progression\n          xp: 0,\n          level: 1,\n          vipTier: 'Bronze',\n          dailyChallenges: [\n            {\n              id: 'win-3-highs',\n              title: 'High Roller',\n              description: 'Win 3 high bets today',\n              reward: 100,\n              completed: false,\n              progress: 0,\n              maxProgress: 3,\n            },\n            {\n              id: 'streak-5',\n              title: 'Hot Streak',\n              description: 'Get a 5-game win streak',\n              reward: 250,\n              completed: false,\n              progress: 0,\n              maxProgress: 5,\n            },\n            {\n              id: 'wager-1000',\n              title: 'Big Spender',\n              description: 'Wager 1000 HILO tokens',\n              reward: 500,\n              completed: false,\n              progress: 0,\n              maxProgress: 1000,\n            },\n          ],\n\n          // History and feed\n          gameHistory: [],\n          recentWins: [],\n\n          // Leaderboard & Pools\n          leaderboard: [],\n          weeklyPrizePool: 50000,\n          monthlyPrizePool: 200000,\n        }))\n      },\n\n      // Provably fair actions\n      generateNewSeeds: () => {\n        set({\n          serverSeed: generateServerSeed(),\n          clientSeed: generateClientSeed(),\n          nonce: 0,\n        })\n      },\n\n      verifyRoll: (hash: string) => {\n        const state = get()\n        const expectedHash = generateMockHash(\n          state.serverSeed,\n          state.clientSeed,\n          state.nonce - 1\n        )\n        return hash === expectedHash\n      },\n\n      // History actions\n      addToHistory: game => {\n        const newGame = {\n          ...game,\n          id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n        }\n        set(state => ({\n          gameHistory: [newGame, ...state.gameHistory].slice(0, 50), // Keep last 50 games\n        }))\n      },\n\n      clearHistory: () => {\n        set({ gameHistory: [] })\n      },\n\n      exportHistory: () => {\n        const state = get()\n        const csvContent = [\n          [\n            'Date',\n            'Bet Amount',\n            'Side',\n            'Roll',\n            'Result',\n            'Won',\n            'Winnings',\n            'Hash',\n          ],\n          ...state.gameHistory.map(game => [\n            new Date(game.timestamp).toISOString(),\n            game.bet.toString(),\n            game.side,\n            game.roll.toString(),\n            game.result,\n            game.won ? 'Yes' : 'No',\n            (game.bet * game.multiplier).toString(),\n            game.hash,\n          ]),\n        ]\n          .map(row => row.join(','))\n          .join('\\n')\n        return csvContent\n      },\n\n      addToLiveFeed: win => {\n        const newWin = {\n          ...win,\n          id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n        }\n        set(state => ({\n          recentWins: [newWin, ...state.recentWins].slice(0, 20), // Keep last 20 wins\n        }))\n      },\n\n      // Leaderboard actions\n      updateLeaderboard: () => {\n        // Generate mock leaderboard data\n        const mockPlayers = [\n          {\n            username: 'DiceMaster99',\n            totalWins: 127,\n            totalWagered: 15420,\n            winRate: 0.68,\n            avatar: '🎲',\n            vipTier: 'Diamond',\n            level: 15,\n          },\n          {\n            username: 'HighRoller',\n            totalWins: 98,\n            totalWagered: 12850,\n            winRate: 0.62,\n            avatar: '💰',\n            vipTier: 'Gold',\n            level: 12,\n          },\n          {\n            username: 'LuckyStrike',\n            totalWins: 156,\n            totalWagered: 18900,\n            winRate: 0.71,\n            avatar: '🍀',\n            vipTier: 'Diamond',\n            level: 18,\n          },\n          {\n            username: 'GoldenBet',\n            totalWins: 89,\n            totalWagered: 11200,\n            winRate: 0.58,\n            avatar: '⭐',\n            vipTier: 'Silver',\n            level: 9,\n          },\n          {\n            username: 'DiceKing',\n            totalWins: 203,\n            totalWagered: 25600,\n            winRate: 0.74,\n            avatar: '👑',\n            vipTier: 'Diamond',\n            level: 20,\n          },\n          {\n            username: 'BetHigh',\n            totalWins: 76,\n            totalWagered: 9800,\n            winRate: 0.55,\n            avatar: '📈',\n            vipTier: 'Silver',\n            level: 8,\n          },\n          {\n            username: 'WinStreak',\n            totalWins: 134,\n            totalWagered: 16750,\n            winRate: 0.66,\n            avatar: '🔥',\n            vipTier: 'Gold',\n            level: 13,\n          },\n          {\n            username: 'CasinoPro',\n            totalWins: 91,\n            totalWagered: 11300,\n            winRate: 0.59,\n            avatar: '🎯',\n            vipTier: 'Silver',\n            level: 10,\n          },\n        ]\n\n        set({\n          leaderboard: mockPlayers.map((player, index) => ({\n            ...player,\n            id: `player-${index + 1}`,\n          })),\n        })\n      },\n\n      updatePrizePools: () => {\n        set(state => ({\n          weeklyPrizePool:\n            state.weeklyPrizePool + Math.floor(Math.random() * 1000),\n          monthlyPrizePool:\n            state.monthlyPrizePool + Math.floor(Math.random() * 5000),\n        }))\n      },\n    }),\n    {\n      name: 'hilo-game-storage',\n      partialize: state => ({\n        hiloTokens: state.hiloTokens,\n        balance: state.balance,\n        gameHistory: state.gameHistory,\n        serverSeed: state.serverSeed,\n        clientSeed: state.clientSeed,\n        nonce: state.nonce,\n        xp: state.xp,\n        level: state.level,\n        vipTier: state.vipTier,\n        dailyChallenges: state.dailyChallenges,\n        soundEnabled: state.soundEnabled,\n        selectedDiceSkin: state.selectedDiceSkin,\n        muted: state.muted,\n        animationsEnabled: state.animationsEnabled,\n        hapticsEnabled: state.hapticsEnabled,\n        autoSaveEnabled: state.autoSaveEnabled,\n        masterVolume: state.masterVolume,\n        lastFaucetClaim: state.lastFaucetClaim,\n      }),\n    }\n  )\n)\n","import React, { createContext, useContext, useState, useEffect } from 'react'\r\n\r\nexport type Theme = 'dark' | 'light' | 'neon' | 'classic'\r\nexport type ColorScheme = 'default' | 'ocean' | 'forest' | 'sunset' | 'purple'\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme\r\n  colorScheme: ColorScheme\r\n  setTheme: (theme: Theme) => void\r\n  setColorScheme: (scheme: ColorScheme) => void\r\n  toggleTheme: () => void\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined)\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeContext)\r\n  if (!context) {\r\n    throw new Error('useTheme must be used within a ThemeProvider')\r\n  }\r\n  return context\r\n}\r\n\r\ninterface ThemeProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({ children }) => {\r\n  const [theme, setTheme] = useState<Theme>('dark')\r\n  const [colorScheme, setColorScheme] = useState<ColorScheme>('default')\r\n\r\n  useEffect(() => {\r\n    // Load theme from localStorage\r\n    const savedTheme = localStorage.getItem('hilo-theme') as Theme\r\n    const savedColorScheme = localStorage.getItem(\r\n      'hilo-color-scheme'\r\n    ) as ColorScheme\r\n\r\n    if (savedTheme) setTheme(savedTheme)\r\n    if (savedColorScheme) setColorScheme(savedColorScheme)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // Save theme to localStorage\r\n    localStorage.setItem('hilo-theme', theme)\r\n    localStorage.setItem('hilo-color-scheme', colorScheme)\r\n\r\n    // Apply theme to document\r\n    document.documentElement.setAttribute('data-theme', theme)\r\n    document.documentElement.setAttribute('data-color-scheme', colorScheme)\r\n  }, [theme, colorScheme])\r\n\r\n  const toggleTheme = () => {\r\n    setTheme(prev => (prev === 'dark' ? 'light' : 'dark'))\r\n  }\r\n\r\n  return (\r\n    <ThemeContext.Provider\r\n      value={{\r\n        theme,\r\n        colorScheme,\r\n        setTheme,\r\n        setColorScheme,\r\n        toggleTheme,\r\n      }}\r\n    >\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  )\r\n}\r\n\r\n// Theme selector component\r\nexport const ThemeSelector: React.FC = () => {\r\n  const { theme, colorScheme, setTheme, setColorScheme } = useTheme()\r\n\r\n  const themes = [\r\n    { id: 'dark', name: 'Dark', icon: '🌙' },\r\n    { id: 'light', name: 'Light', icon: '☀️' },\r\n  ] as const\r\n\r\n  const colorSchemes = [\r\n    {\r\n      id: 'default',\r\n      name: 'Default',\r\n      colors: ['#FFD700', '#FF2D2D', '#00C853'],\r\n    },\r\n    { id: 'ocean', name: 'Ocean', colors: ['#00BFFF', '#FF6B6B', '#4ECDC4'] },\r\n    { id: 'forest', name: 'Forest', colors: ['#32CD32', '#FF4500', '#228B22'] },\r\n    { id: 'sunset', name: 'Sunset', colors: ['#FF8C00', '#FF1493', '#FFD700'] },\r\n    { id: 'purple', name: 'Purple', colors: ['#9370DB', '#FF69B4', '#00CED1'] },\r\n  ] as const\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Theme Selection */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-white mb-3\">Theme</h3>\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          {themes.map(themeOption => (\r\n            <button\r\n              key={themeOption.id}\r\n              onClick={() => setTheme(themeOption.id)}\r\n              className={`\r\n                p-3 rounded-lg border transition-all duration-200\r\n                ${\r\n                  theme === themeOption.id\r\n                    ? 'border-hilo-gold bg-hilo-gold/20 text-hilo-gold'\r\n                    : 'border-gray-600 bg-gray-800 text-gray-300 hover:border-gray-500'\r\n                }\r\n              `}\r\n            >\r\n              <div className=\"text-2xl mb-1\">{themeOption.icon}</div>\r\n              <div className=\"text-sm font-medium\">{themeOption.name}</div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Color Scheme Selection */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-white mb-3\">Color Scheme</h3>\r\n        <div className=\"space-y-2\">\r\n          {colorSchemes.map(scheme => (\r\n            <button\r\n              key={scheme.id}\r\n              onClick={() => setColorScheme(scheme.id)}\r\n              className={`\r\n                w-full p-3 rounded-lg border transition-all duration-200 flex items-center gap-3\r\n                ${\r\n                  colorScheme === scheme.id\r\n                    ? 'border-hilo-gold bg-hilo-gold/20 text-hilo-gold'\r\n                    : 'border-gray-600 bg-gray-800 text-gray-300 hover:border-gray-500'\r\n                }\r\n              `}\r\n            >\r\n              <div className=\"flex gap-1\">\r\n                {scheme.colors.map((color, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"w-4 h-4 rounded-full\"\r\n                    style={{ backgroundColor: color }}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <span className=\"font-medium\">{scheme.name}</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport { motion } from 'framer-motion'\n\ninterface LoadingSpinnerProps {\n  size?: 'sm' | 'md' | 'lg' | 'xl'\n  color?: 'primary' | 'secondary' | 'success' | 'error'\n  text?: string\n  className?: string\n}\n\nexport const LoadingSpinner: React.FC<LoadingSpinnerProps> = ({\n  size = 'md',\n  color = 'primary',\n  text,\n  className = '',\n}) => {\n  const getSizeClasses = () => {\n    switch (size) {\n      case 'sm':\n        return 'w-4 h-4'\n      case 'md':\n        return 'w-6 h-6'\n      case 'lg':\n        return 'w-8 h-8'\n      case 'xl':\n        return 'w-12 h-12'\n      default:\n        return 'w-6 h-6'\n    }\n  }\n\n  const getColorClasses = () => {\n    switch (color) {\n      case 'primary':\n        return 'border-hilo-gold'\n      case 'secondary':\n        return 'border-gray-400'\n      case 'success':\n        return 'border-green-400'\n      case 'error':\n        return 'border-red-400'\n      default:\n        return 'border-hilo-gold'\n    }\n  }\n\n  return (\n    <div className={`flex flex-col items-center justify-center ${className}`}>\n      <motion.div\n        className={`\n          ${getSizeClasses()} \n          ${getColorClasses()}\n          border-2 border-t-transparent rounded-full\n        `}\n        animate={{ rotate: 360 }}\n        transition={{\n          duration: 1,\n          repeat: Infinity,\n          ease: 'linear',\n        }}\n      />\n      {text && (\n        <motion.p\n          className=\"mt-2 text-sm text-gray-400\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.2 }}\n        >\n          {text}\n        </motion.p>\n      )}\n    </div>\n  )\n}\n\n// Button loading state component\ninterface LoadingButtonProps {\n  loading: boolean\n  children: React.ReactNode\n  className?: string\n  disabled?: boolean\n  onClick?: () => void\n  loadingText?: string\n}\n\nexport const LoadingButton: React.FC<LoadingButtonProps> = ({\n  loading,\n  children,\n  className = '',\n  disabled = false,\n  onClick,\n  loadingText = 'Loading...',\n}) => {\n  return (\n    <button\n      className={`\n        relative flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium\n        transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\n        ${className}\n      `}\n      disabled={disabled || loading}\n      onClick={onClick}\n    >\n      {loading && <LoadingSpinner size=\"sm\" color=\"primary\" />}\n      <span className={loading ? 'opacity-0' : 'opacity-100'}>\n        {loading ? loadingText : children}\n      </span>\n    </button>\n  )\n}\n\n// Page loading overlay\ninterface LoadingOverlayProps {\n  isVisible: boolean\n  text?: string\n}\n\nexport const LoadingOverlay: React.FC<LoadingOverlayProps> = ({\n  isVisible,\n  text = 'Loading...',\n}) => {\n  if (!isVisible) return null\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n    >\n      <div className=\"bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700\">\n        <LoadingSpinner size=\"xl\" text={text} />\n      </div>\n    </motion.div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\r\nimport Modal from './Modal'\r\nimport {\r\n  Settings,\r\n  Volume2,\r\n  Palette,\r\n  Download,\r\n  Trash2,\r\n  RotateCcw,\r\n} from 'lucide-react'\r\nimport { useGameStore } from '../store/gameStore'\r\nimport { ThemeSelector } from '../contexts/ThemeContext'\r\nimport { LoadingButton } from './LoadingSpinner'\r\nimport { useToast } from './Toast'\r\n\r\ninterface SettingsModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nexport const SettingsModal: React.FC<SettingsModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n}) => {\r\n  const { success, error } = useToast()\r\n  const {\r\n    soundEnabled,\r\n    muted,\r\n    selectedDiceSkin,\r\n    toggleSound,\r\n    toggleMute,\r\n    setDiceSkin,\r\n    clearHistory,\r\n    gameHistory,\r\n    animationsEnabled,\r\n    hapticsEnabled,\r\n    autoSaveEnabled,\r\n    masterVolume,\r\n    toggleAnimations,\r\n    toggleHaptics,\r\n    toggleAutoSave,\r\n    setMasterVolume,\r\n    resetEverything,\r\n  } = useGameStore()\r\n\r\n  const [isExporting, setIsExporting] = useState(false)\r\n  const [isClearing, setIsClearing] = useState(false)\r\n  const [isResetting, setIsResetting] = useState(false)\r\n  const [showResetConfirm, setShowResetConfirm] = useState(false)\r\n  const [resetConfirmText, setResetConfirmText] = useState('')\r\n\r\n  // Modal handles ESC and focus trapping\r\n\r\n  const diceSkins = [\r\n    { id: 'classic', name: 'Classic', description: 'Traditional casino style' },\r\n    { id: 'neon', name: 'Neon', description: 'Bright cyberpunk vibes' },\r\n    { id: 'gold', name: 'Gold', description: 'Luxury golden finish' },\r\n  ] as const\r\n\r\n  const handleExportHistory = async () => {\r\n    setIsExporting(true)\r\n    try {\r\n      const csvContent = [\r\n        [\r\n          'Date',\r\n          'Bet Amount',\r\n          'Side',\r\n          'Roll',\r\n          'Result',\r\n          'Won',\r\n          'Winnings',\r\n          'Hash',\r\n        ],\r\n        ...gameHistory.map(game => [\r\n          new Date(game.timestamp).toISOString(),\r\n          game.bet.toString(),\r\n          game.side,\r\n          game.roll.toString(),\r\n          game.result,\r\n          game.won ? 'Yes' : 'No',\r\n          (game.bet * game.multiplier).toString(),\r\n          game.hash,\r\n        ]),\r\n      ]\r\n        .map(row => row.join(','))\r\n        .join('\\n')\r\n\r\n      const blob = new Blob([csvContent], { type: 'text/csv' })\r\n      const url = window.URL.createObjectURL(blob)\r\n      const a = document.createElement('a')\r\n      a.href = url\r\n      a.download = `hilo-game-history-${new Date().toISOString().split('T')[0]}.csv`\r\n      a.click()\r\n      window.URL.revokeObjectURL(url)\r\n    } catch (error) {\r\n      console.error('Export failed:', error)\r\n    } finally {\r\n      setIsExporting(false)\r\n    }\r\n  }\r\n\r\n  const handleClearHistory = async () => {\r\n    setIsClearing(true)\r\n    try {\r\n      clearHistory()\r\n    } catch (error) {\r\n      console.error('Clear history failed:', error)\r\n    } finally {\r\n      setIsClearing(false)\r\n    }\r\n  }\r\n\r\n  const handleResetEverything = () => {\r\n    setResetConfirmText('')\r\n    setShowResetConfirm(true)\r\n  }\r\n\r\n  const confirmReset = async () => {\r\n    if (isResetting || resetConfirmText.trim().toUpperCase() !== 'OK') return\r\n    setIsResetting(true)\r\n    try {\r\n      resetEverything()\r\n      setShowResetConfirm(false)\r\n      success('Reset Complete', 'All game data has been reset to defaults')\r\n    } catch (error) {\r\n      console.error('Reset everything failed:', error)\r\n      error('Reset Failed', 'Something went wrong while resetting')\r\n    } finally {\r\n      setIsResetting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Modal isOpen={isOpen} onClose={onClose} maxWidth=\"md\" title=\"Settings\">\r\n      <div className=\"p-0\">\r\n        <div className=\"p-6 space-y-6\">\r\n          {/* Appearance Block */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-white mb-3\">Appearance</h3>\r\n            <div className=\"bg-hilo-black/50 rounded-lg p-4 border border-hilo-gray-light space-y-6\">\r\n              <div>\r\n                <h4 className=\"font-medium text-white mb-3\">Theme & Colors</h4>\r\n                <ThemeSelector />\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"font-medium text-white mb-3\">Dice Skin</h4>\r\n                <div className=\"grid grid-cols-1 gap-3\">\r\n                  {diceSkins.map(skin => (\r\n                    <button\r\n                      key={skin.id}\r\n                      onClick={() => setDiceSkin(skin.id)}\r\n                      className={`\r\n                        p-4 rounded-lg border transition-all duration-200 text-left\r\n                        ${\r\n                          selectedDiceSkin === skin.id\r\n                            ? 'border-hilo-gold bg-hilo-gold/20 text-hilo-gold'\r\n                            : 'border-hilo-gray-light bg-hilo-black/50 text-gray-300 hover:bg-hilo-gold/10 hover:border-hilo-gold/30'\r\n                        }\r\n                      `}\r\n                    >\r\n                      <div className=\"font-medium\">{skin.name}</div>\r\n                      <div className=\"text-sm opacity-75\">{skin.description}</div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* General Block */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-white mb-3\">General</h3>\r\n            <div className=\"bg-hilo-black/50 rounded-lg p-4 border border-hilo-gray-light space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h4 className=\"font-medium text-white\">Auto-save Game State</h4>\r\n                  <p className=\"text-sm text-gray-400\">Automatically save your progress</p>\r\n                </div>\r\n                <button\r\n                  onClick={toggleAutoSave}\r\n                  className={`w-12 h-6 rounded-full relative transition-colors ${autoSaveEnabled ? 'bg-hilo-gold' : 'bg-gray-600'}`}\r\n                >\r\n                  <div className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${autoSaveEnabled ? 'translate-x-6' : 'translate-x-0.5'}`} />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h4 className=\"font-medium text-white\">Show Animations</h4>\r\n                  <p className=\"text-sm text-gray-400\">Enable visual effects and transitions</p>\r\n                </div>\r\n                <button\r\n                  onClick={toggleAnimations}\r\n                  className={`w-12 h-6 rounded-full relative transition-colors ${animationsEnabled ? 'bg-hilo-gold' : 'bg-gray-600'}`}\r\n                >\r\n                  <div className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${animationsEnabled ? 'translate-x-6' : 'translate-x-0.5'}`} />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h4 className=\"font-medium text-white\">Haptic Feedback</h4>\r\n                  <p className=\"text-sm text-gray-400\">Vibration on mobile devices</p>\r\n                </div>\r\n                <button\r\n                  onClick={toggleHaptics}\r\n                  className={`w-12 h-6 rounded-full relative transition-colors ${hapticsEnabled ? 'bg-hilo-gold' : 'bg-gray-600'}`}\r\n                >\r\n                  <div className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${hapticsEnabled ? 'translate-x-6' : 'translate-x-0.5'}`} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Audio Block */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-white mb-3\">Audio</h3>\r\n            <div className=\"bg-hilo-black/50 rounded-lg p-4 border border-hilo-gray-light space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h4 className=\"font-medium text-white\">Sound Effects</h4>\r\n                  <p className=\"text-sm text-gray-400\">Play sounds for game actions</p>\r\n                </div>\r\n                <button\r\n                  onClick={toggleSound}\r\n                  className={`w-12 h-6 rounded-full relative transition-colors ${soundEnabled ? 'bg-hilo-gold' : 'bg-gray-600'}`}\r\n                >\r\n                  <div className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${soundEnabled ? 'translate-x-6' : 'translate-x-0.5'}`} />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h4 className=\"font-medium text-white\">Mute All</h4>\r\n                  <p className=\"text-sm text-gray-400\">Disable all audio</p>\r\n                </div>\r\n                <button\r\n                  onClick={toggleMute}\r\n                  className={`w-12 h-6 rounded-full relative transition-colors ${muted ? 'bg-red-500' : 'bg-gray-600'}`}\r\n                >\r\n                  <div className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${muted ? 'translate-x-6' : 'translate-x-0.5'}`} />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-white font-medium\">Master Volume</label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                  value={masterVolume}\r\n                  onChange={(e) => setMasterVolume(Number(e.target.value))}\r\n                  className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Data Block */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-white mb-3\">Data</h3>\r\n            <div className=\"bg-hilo-black/50 rounded-lg p-4 border border-hilo-gray-light space-y-4\">\r\n              <div>\r\n                <h4 className=\"font-medium text-white mb-2\">Game History</h4>\r\n                <p className=\"text-sm text-gray-400 mb-4\">{gameHistory.length} games recorded</p>\r\n                <div className=\"flex gap-3\">\r\n                  <LoadingButton\r\n                    loading={isExporting}\r\n                    loadingText=\"Exporting...\"\r\n                    onClick={handleExportHistory}\r\n                    className=\"bg-hilo-gold text-hilo-black hover:bg-hilo-gold-dark\"\r\n                  >\r\n                    <Download className=\"w-4 h-4\" />\r\n                    Export CSV\r\n                  </LoadingButton>\r\n\r\n                  <LoadingButton\r\n                    loading={isClearing}\r\n                    loadingText=\"Clearing...\"\r\n                    onClick={handleClearHistory}\r\n                    className=\"bg-red-600 text-white hover:bg-red-700\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                    Clear History\r\n                  </LoadingButton>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"font-medium text-white mb-2\">Reset Game</h4>\r\n                <p className=\"text-sm text-gray-400 mb-4\">Reset all progress and start fresh</p>\r\n                <button onClick={handleResetEverything} disabled={isResetting} className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed\">\r\n                  <RotateCcw className=\"w-4 h-4\" />\r\n                  {isResetting ? 'Resetting...' : 'Reset Everything'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n\r\n    {/* Reset Confirmation Modal */}\r\n    <Modal isOpen={showResetConfirm} onClose={() => setShowResetConfirm(false)} maxWidth=\"md\" title=\"Confirm Reset\" panelClassName={\"md:max-w-md\"}>\r\n      <div className=\"space-y-4\">\r\n        <p className=\"text-gray-300 text-sm\">This action will:</p>\r\n        <ul className=\"list-disc list-inside text-gray-300 text-sm space-y-1\">\r\n          <li>Clear game history and recent wins</li>\r\n          <li>Reset streaks, counters, and totals</li>\r\n          <li>Re-generate provably-fair seeds and reset nonce</li>\r\n          <li>Reset token balances to defaults</li>\r\n        </ul>\r\n        <div className=\"p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg text-yellow-200 text-sm\">\r\n          Type <span className=\"font-bold text-yellow-300\">OK</span> to confirm.\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          value={resetConfirmText}\r\n          onChange={(e) => setResetConfirmText(e.target.value)}\r\n          placeholder=\"Type OK\"\r\n          className=\"w-full px-4 py-3 bg-hilo-black border border-hilo-gray-light rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-hilo-gold focus:ring-1 focus:ring-hilo-gold\"\r\n        />\r\n        <div className=\"flex gap-3 pt-2\">\r\n          <button\r\n            onClick={() => setShowResetConfirm(false)}\r\n            className=\"flex-1 px-4 py-3 bg-hilo-gray-light text-white rounded-lg hover:bg-hilo-gray transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={confirmReset}\r\n            disabled={isResetting || resetConfirmText.trim().toUpperCase() !== 'OK'}\r\n            className=\"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed\"\r\n          >\r\n            {isResetting ? 'Resetting...' : 'Confirm Reset'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport Modal from './Modal'\r\nimport { Mail, HelpCircle } from 'lucide-react'\r\n\r\ninterface SupportModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nexport const SupportModal: React.FC<SupportModalProps> = ({ isOpen, onClose }) => {\r\n  const supportOptions = [\r\n    {\r\n      title: 'Email Support',\r\n      description: 'Send us an email and we\\'ll respond within 24 hours',\r\n      icon: Mail,\r\n      action: () => {\r\n        window.open('mailto:support@hilocasino.com?subject=Support Request')\r\n      }\r\n    },\r\n    {\r\n      title: 'FAQ',\r\n      description: 'Find answers to common questions',\r\n      icon: HelpCircle,\r\n      action: () => {\r\n        window.location.href = '/faq'\r\n      }\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} maxWidth=\"md\" title=\"Support\">\r\n      <div className=\"bg-hilo-gray border border-hilo-gray-light rounded-2xl\">\r\n        <div className=\"hidden\" />\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 space-y-4\">\r\n          <p className=\"text-gray-300 text-sm\">\r\n            Need help? Choose one of the support options below:\r\n          </p>\r\n\r\n          {supportOptions.map((option, index) => {\r\n            const IconComponent = option.icon\r\n            return (\r\n              <motion.button\r\n                key={option.title}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: index * 0.1 }}\r\n                onClick={option.action}\r\n                className=\"w-full p-4 bg-hilo-black/50 border border-hilo-gray-light rounded-xl hover:bg-hilo-gold/10 hover:border-hilo-gold/30 transition-all duration-300 text-left group\"\r\n              >\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"p-3 bg-hilo-gold/20 rounded-lg group-hover:bg-hilo-gold/30 transition-colors\">\r\n                    <IconComponent className=\"w-5 h-5 text-hilo-gold\" />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-white font-medium mb-1\">{option.title}</h3>\r\n                    <p className=\"text-gray-400 text-sm\">{option.description}</p>\r\n                  </div>\r\n                </div>\r\n              </motion.button>\r\n            )\r\n          })}\r\n\r\n          {/* Additional Info */}\r\n          <div className=\"mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded-xl\">\r\n            <div className=\"text-blue-300 text-sm\">\r\n              <strong>Response Times:</strong>\r\n              <ul className=\"mt-2 space-y-1 text-xs\">\r\n                <li>• Email: Within 24 hours</li>\r\n                <li>• FAQ: Instant answers for common questions</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default SupportModal\r\n","import React, { useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react'\r\n\r\nexport interface WheelSegment {\r\n  label: string\r\n  value: number\r\n  color: string\r\n}\r\n\r\nexport interface DailyWheelHandle {\r\n  spinToIndex: (index: number) => void\r\n}\r\n\r\ninterface DailyWheelProps {\r\n  segments: WheelSegment[]\r\n  size?: number\r\n  onSpinEnd?: (landedIndex: number) => void\r\n  volume?: number\r\n}\r\n\r\n/**\r\n * SVG-based daily wheel. Wedges (with gradients) are drawn first, then crisp\r\n * black divider lines are drawn on a top layer to ensure they remain visible.\r\n */\r\nexport const DailyWheel = React.forwardRef<DailyWheelHandle, DailyWheelProps>(\r\n  ({ segments, size = 280, onSpinEnd, volume = 0.5 }, ref) => {\r\n    const wheelRef = useRef<HTMLDivElement>(null)\r\n    const [rotation, setRotation] = useState(0)\r\n    const [isSpinning, setIsSpinning] = useState(false)\r\n    const spinAudioRef = useRef<HTMLAudioElement | null>(null)\r\n    const winAudioRef = useRef<HTMLAudioElement | null>(null)\r\n\r\n    const sliceAngle = 360 / Math.max(1, segments.length)\r\n    const startAngleDeg = 0.0001 // tiny offset to avoid seam overlap\r\n\r\n    useImperativeHandle(ref, () => ({\r\n      spinToIndex: (index: number) => {\r\n        if (isSpinning) return\r\n        const fullSpins = 5 + Math.floor(Math.random() * 3)\r\n\r\n        // Center of the target slice measured from 0deg pointing right\r\n        const segmentCenter = index * sliceAngle + sliceAngle / 2\r\n        // Pointer is visually at -90deg (top).\r\n        const desired = ((-90 - segmentCenter) % 360 + 360) % 360\r\n        const currentMod = ((rotation % 360) + 360) % 360\r\n        let delta = desired - currentMod\r\n        if (delta < 0) delta += 360\r\n\r\n        // Prepare and start spin sound\r\n        try {\r\n          if (spinAudioRef.current) {\r\n            spinAudioRef.current.pause()\r\n            spinAudioRef.current.currentTime = 0\r\n            spinAudioRef.current.volume = Math.max(0, Math.min(1, volume))\r\n            spinAudioRef.current.loop = true\r\n            void spinAudioRef.current.play()\r\n          }\r\n        } catch {}\r\n\r\n        setIsSpinning(true)\r\n        setRotation(prev => prev + fullSpins * 360 + delta)\r\n      },\r\n    }))\r\n\r\n    useEffect(() => {\r\n      if (!isSpinning) return\r\n      const handle = async () => {\r\n        setIsSpinning(false)\r\n        if (onSpinEnd) {\r\n          const normalized = ((rotation % 360) + 360) % 360\r\n          const pointerAngle = (450 - normalized) % 360\r\n          const index = Math.floor((pointerAngle % 360) / sliceAngle)\r\n          onSpinEnd(index)\r\n        }\r\n        // Fade and stop spin sound, then play win sound exactly at land\r\n        try {\r\n          await fadeOut(spinAudioRef.current, 200)\r\n          if (winAudioRef.current) {\r\n            winAudioRef.current.currentTime = 0\r\n            winAudioRef.current.volume = Math.max(0, Math.min(1, volume))\r\n            void winAudioRef.current.play()\r\n          }\r\n        } catch {}\r\n      }\r\n      const t = setTimeout(() => { void handle() }, 3500)\r\n      return () => clearTimeout(t)\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isSpinning])\r\n\r\n    const gradientIds = useMemo(\r\n      () => segments.map(() => `segGrad-${Math.random().toString(36).slice(2)}`),\r\n      [segments.length]\r\n    )\r\n\r\n    // Initialize audio elements\r\n    useEffect(() => {\r\n      spinAudioRef.current = new Audio('/assets/sounds/spin.mp3')\r\n      winAudioRef.current = new Audio('/assets/sounds/win.mp3')\r\n      if (spinAudioRef.current) {\r\n        spinAudioRef.current.volume = Math.max(0, Math.min(1, volume))\r\n        spinAudioRef.current.loop = true\r\n      }\r\n      if (winAudioRef.current) {\r\n        winAudioRef.current.volume = Math.max(0, Math.min(1, volume))\r\n      }\r\n      return () => {\r\n        try {\r\n          spinAudioRef.current?.pause()\r\n          winAudioRef.current?.pause()\r\n        } catch {}\r\n      }\r\n    }, [volume])\r\n\r\n    // Helper: fade out an audio element before pausing to avoid overlap\r\n    function fadeOut(audio: HTMLAudioElement | null, durationMs = 200) {\r\n      return new Promise<void>(resolve => {\r\n        if (!audio) return resolve()\r\n        const startVol = audio.volume\r\n        if (startVol <= 0) {\r\n          audio.pause()\r\n          audio.currentTime = 0\r\n          audio.volume = Math.max(0, Math.min(1, volume))\r\n          return resolve()\r\n        }\r\n        const steps = 8\r\n        const stepTime = Math.max(10, Math.floor(durationMs / steps))\r\n        let count = 0\r\n        const id = window.setInterval(() => {\r\n          count += 1\r\n          const next = Math.max(0, startVol * (1 - count / steps))\r\n          audio.volume = next\r\n          if (count >= steps) {\r\n            window.clearInterval(id)\r\n            audio.pause()\r\n            audio.currentTime = 0\r\n            audio.volume = Math.max(0, Math.min(1, volume))\r\n            resolve()\r\n          }\r\n        }, stepTime)\r\n      })\r\n    }\r\n\r\n    function lighten(hex: string, amount = 0.18) {\r\n      try {\r\n        const num = parseInt(hex.replace('#', ''), 16)\r\n        const r = Math.min(255, Math.max(0, ((num >> 16) & 0xff) + Math.round(255 * amount)))\r\n        const g = Math.min(255, Math.max(0, ((num >> 8) & 0xff) + Math.round(255 * amount)))\r\n        const b = Math.min(255, Math.max(0, (num & 0xff) + Math.round(255 * amount)))\r\n        return `#${(r << 16 | g << 8 | b).toString(16).padStart(6, '0')}`\r\n      } catch {\r\n        return hex\r\n      }\r\n    }\r\n\r\n    function polarToCartesian(cx: number, cy: number, r: number, angleDeg: number) {\r\n      const angleRad = (angleDeg * Math.PI) / 180\r\n      return {\r\n        x: cx + r * Math.cos(angleRad),\r\n        y: cy + r * Math.sin(angleRad),\r\n      }\r\n    }\r\n\r\n    function describeWedge(cx: number, cy: number, r: number, a0: number, a1: number) {\r\n      const start = polarToCartesian(cx, cy, r, a0)\r\n      const end = polarToCartesian(cx, cy, r, a1)\r\n      const largeArc = a1 - a0 <= 180 ? 0 : 1\r\n      return `M ${cx} ${cy} L ${start.x} ${start.y} A ${r} ${r} 0 ${largeArc} 1 ${end.x} ${end.y} Z`\r\n    }\r\n\r\n    const center = size / 2\r\n    const radius = center - 6\r\n\r\n    return (\r\n      <div className=\"relative\" style={{ perspective: 1000 }}>\r\n        {/* Pointer */}\r\n        <div className=\"absolute left-1/2 -top-4 -translate-x-1/2 z-20\">\r\n          <div className=\"w-0 h-0 border-l-8 border-r-8 border-b-[14px] border-l-transparent border-r-transparent border-b-hilo-gold drop-shadow-[0_2px_6px_rgba(255,215,0,.45)]\" />\r\n          <div className=\"w-1 h-3 bg-hilo-gold mx-auto\" />\r\n        </div>\r\n\r\n        {/* Shadow */}\r\n        <div\r\n          className=\"absolute inset-0 -bottom-6 blur-2xl opacity-60\"\r\n          style={{\r\n            transform: 'translateZ(0)',\r\n            background:\r\n              'radial-gradient(ellipse at center, rgba(0,0,0,.35) 0%, rgba(0,0,0,0) 60%)',\r\n          }}\r\n        />\r\n\r\n        {/* Wheel */}\r\n        <div\r\n          ref={wheelRef}\r\n          className=\"relative rounded-full border border-white/10 shadow-2xl overflow-visible bg-[#101217] z-10\"\r\n          style={{\r\n            width: size,\r\n            height: size,\r\n            transformStyle: 'preserve-3d',\r\n            transform: `rotate(${rotation}deg)`,\r\n            transition: isSpinning ? 'transform 3.5s cubic-bezier(.13,.77,.25,1.01)' : 'none',\r\n          }}\r\n        >\r\n          <svg\r\n            className=\"absolute inset-0\"\r\n            width={size}\r\n            height={size}\r\n            viewBox={`0 0 ${size} ${size}`}\r\n          >\r\n            <defs>\r\n              {segments.map((s, i) => (\r\n                <radialGradient id={gradientIds[i]} key={`g-${i}`} cx=\"50%\" cy=\"50%\" r=\"75%\">\r\n                  <stop offset=\"0%\" stopColor={lighten(s.color, 0.3)} />\r\n                  <stop offset=\"65%\" stopColor={s.color} />\r\n                  <stop offset=\"100%\" stopColor={s.color} />\r\n                </radialGradient>\r\n              ))}\r\n            </defs>\r\n\r\n            {/* 1) Draw all slices first with gradients */}\r\n            <g>\r\n              {segments.map((s, i) => {\r\n                const a0 = startAngleDeg + i * sliceAngle\r\n                const a1 = startAngleDeg + (i + 1) * sliceAngle\r\n                const d = describeWedge(center, center, radius, a0, a1)\r\n                return <path key={`wedge-${i}`} d={d} fill={`url(#${gradientIds[i]})`} />\r\n              })}\r\n            </g>\r\n\r\n            {/* 2) Labels above wedges but below dividers */}\r\n            <g>\r\n              {segments.map((s, i) => {\r\n                const angle = startAngleDeg + i * sliceAngle + sliceAngle / 2\r\n                const pos = polarToCartesian(center, center, radius * 0.6, angle)\r\n                return (\r\n                  <text\r\n                    key={`label-${i}`}\r\n                    x={pos.x}\r\n                    y={pos.y}\r\n                    fontSize={Math.max(12, Math.round(size * 0.05))}\r\n                    fontWeight={600}\r\n                    textAnchor=\"middle\"\r\n                    dominantBaseline=\"central\"\r\n                    fill=\"#ffffff\"\r\n                    style={{ paintOrder: 'stroke' }}\r\n                  >\r\n                    {s.label}\r\n                  </text>\r\n                )\r\n              })}\r\n            </g>\r\n\r\n            {/* 3) Divider lines on a separate top layer */}\r\n            <g style={{ mixBlendMode: 'normal' }}>\r\n              {Array.from({ length: segments.length }).map((_, i) => {\r\n                const a = startAngleDeg + i * sliceAngle\r\n                const end = polarToCartesian(center, center, radius, a)\r\n                return (\r\n                  <line\r\n                    key={`divider-${i}`}\r\n                    x1={center}\r\n                    y1={center}\r\n                    x2={end.x}\r\n                    y2={end.y}\r\n                    stroke=\"#000000\"\r\n                    strokeWidth={2}\r\n                    vectorEffect=\"non-scaling-stroke\"\r\n                    shapeRendering=\"geometricPrecision\"\r\n                    strokeLinecap=\"butt\"\r\n                  />\r\n                )\r\n              })}\r\n            </g>\r\n\r\n            {/* Outer rim on top */}\r\n            <circle\r\n              cx={center}\r\n              cy={center}\r\n              r={radius}\r\n              fill=\"none\"\r\n              stroke=\"rgba(212,177,50,0.4)\"\r\n              strokeWidth={4}\r\n              pointerEvents=\"none\"\r\n            />\r\n          </svg>\r\n\r\n          {/* Gloss overlay kept outside the svg for visual depth */}\r\n          <div className=\"absolute inset-0 rounded-full pointer-events-none\"\r\n            style={{\r\n              background:\r\n                'radial-gradient(ellipse at 30% 20%, rgba(255,255,255,.25), rgba(255,255,255,0) 45%)',\r\n              mixBlendMode: 'screen',\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nDailyWheel.displayName = 'DailyWheel'\r\n\r\nexport default DailyWheel\r\n\r\n","/**\n * Mock API layer for HILO Casino\n * Simulates backend API calls for game results, balance updates, etc.\n */\n\nexport interface GameResult {\n  roll: number\n  result: 'high' | 'low'\n  won: boolean\n  multiplier: number\n  hash: string\n  timestamp: Date\n}\n\nexport interface LiveFeedEntry {\n  id: string\n  username: string\n  amount: number\n  game: string\n  timestamp: Date\n  avatar: string\n}\n\nexport interface LeaderboardEntry {\n  id: string\n  username: string\n  totalWins: number\n  totalWagered: number\n  winRate: number\n  avatar: string\n  vipTier: string\n  level: number\n}\n\nexport interface PrizePool {\n  weekly: number\n  monthly: number\n}\n\nexport interface DailyChallenge {\n  id: string\n  title: string\n  description: string\n  reward: number\n  completed: boolean\n  progress: number\n  maxProgress: number\n}\n\n/**\n * Mock API class for simulating backend calls\n */\nexport class MockAPI {\n  private static instance: MockAPI\n  private liveFeedInterval: NodeJS.Timeout | null = null\n\n  static getInstance(): MockAPI {\n    if (!MockAPI.instance) {\n      MockAPI.instance = new MockAPI()\n    }\n    return MockAPI.instance\n  }\n\n  /**\n   * Simulate dice roll with house edge\n   */\n  async rollDice(\n    clientSeed: string,\n    serverSeed: string,\n    nonce: number,\n    selectedSide: 'high' | 'low',\n    houseEdge: number = 0.02\n  ): Promise<GameResult> {\n    // Simulate network delay\n    await new Promise(resolve =>\n      setTimeout(resolve, 500 + Math.random() * 1000)\n    )\n\n    // Generate provably fair result\n    const hash = this.generateHash(serverSeed, clientSeed, nonce)\n    const roll = this.hashToRoll(hash)\n    const result = roll > 3 ? 'high' : 'low'\n\n    // Player wins if their selected side matches the dice result\n    // House edge is built into the 1.98x multiplier (instead of 2x)\n    const won = selectedSide === result\n    const multiplier = won ? 1.98 : 0 // 1.98x multiplier (accounts for house edge)\n\n    return {\n      roll,\n      result,\n      won,\n      multiplier,\n      hash,\n      timestamp: new Date(),\n    }\n  }\n\n  /**\n   * Generate mock hash for provably fair verification\n   */\n  private generateHash(\n    serverSeed: string,\n    clientSeed: string,\n    nonce: number\n  ): string {\n    const combined = `${serverSeed}:${clientSeed}:${nonce}`\n    return btoa(combined)\n      .replace(/[^a-zA-Z0-9]/g, '')\n      .substring(0, 64)\n  }\n\n  /**\n   * Convert hash to dice roll (1-6)\n   */\n  private hashToRoll(hash: string): number {\n    let sum = 0\n    for (let i = 0; i < hash.length; i++) {\n      sum += hash.charCodeAt(i)\n    }\n    return (sum % 6) + 1\n  }\n\n  /**\n   * Get mock leaderboard data\n   */\n  async getLeaderboard(): Promise<LeaderboardEntry[]> {\n    await new Promise(resolve => setTimeout(resolve, 300))\n\n    const mockPlayers = [\n      {\n        username: 'DiceMaster99',\n        totalWins: 127,\n        totalWagered: 15420,\n        winRate: 0.68,\n        avatar: '🎲',\n        vipTier: 'Diamond',\n        level: 15,\n      },\n      {\n        username: 'HighRoller',\n        totalWins: 98,\n        totalWagered: 12850,\n        winRate: 0.62,\n        avatar: '💰',\n        vipTier: 'Gold',\n        level: 12,\n      },\n      {\n        username: 'LuckyStrike',\n        totalWins: 156,\n        totalWagered: 18900,\n        winRate: 0.71,\n        avatar: '🍀',\n        vipTier: 'Diamond',\n        level: 18,\n      },\n      {\n        username: 'GoldenBet',\n        totalWins: 89,\n        totalWagered: 11200,\n        winRate: 0.58,\n        avatar: '⭐',\n        vipTier: 'Silver',\n        level: 9,\n      },\n      {\n        username: 'DiceKing',\n        totalWins: 203,\n        totalWagered: 25600,\n        winRate: 0.74,\n        avatar: '👑',\n        vipTier: 'Diamond',\n        level: 20,\n      },\n      {\n        username: 'BetHigh',\n        totalWins: 76,\n        totalWagered: 9800,\n        winRate: 0.55,\n        avatar: '📈',\n        vipTier: 'Silver',\n        level: 8,\n      },\n      {\n        username: 'WinStreak',\n        totalWins: 134,\n        totalWagered: 16750,\n        winRate: 0.66,\n        avatar: '🔥',\n        vipTier: 'Gold',\n        level: 13,\n      },\n      {\n        username: 'CasinoPro',\n        totalWins: 91,\n        totalWagered: 11300,\n        winRate: 0.59,\n        avatar: '🎯',\n        vipTier: 'Silver',\n        level: 10,\n      },\n    ]\n\n    return mockPlayers.map((player, index) => ({\n      ...player,\n      id: `player-${index + 1}`,\n    }))\n  }\n\n  /**\n   * Get mock prize pool data\n   */\n  async getPrizePools(): Promise<PrizePool> {\n    await new Promise(resolve => setTimeout(resolve, 200))\n\n    return {\n      weekly: 50000 + Math.floor(Math.random() * 10000),\n      monthly: 200000 + Math.floor(Math.random() * 50000),\n    }\n  }\n\n  /**\n   * Get mock daily challenges\n   */\n  async getDailyChallenges(): Promise<DailyChallenge[]> {\n    await new Promise(resolve => setTimeout(resolve, 150))\n\n    return [\n      {\n        id: 'win-3-highs',\n        title: 'High Roller',\n        description: 'Win 3 high bets today',\n        reward: 100,\n        completed: false,\n        progress: 0,\n        maxProgress: 3,\n      },\n      {\n        id: 'streak-5',\n        title: 'Hot Streak',\n        description: 'Get a 5-game win streak',\n        reward: 250,\n        completed: false,\n        progress: 0,\n        maxProgress: 5,\n      },\n      {\n        id: 'wager-1000',\n        title: 'Big Spender',\n        description: 'Wager 1000 HILO tokens',\n        reward: 500,\n        completed: false,\n        progress: 0,\n        maxProgress: 1000,\n      },\n    ]\n  }\n\n  /**\n   * Start live feed simulation\n   */\n  startLiveFeed(callback: (entry: LiveFeedEntry) => void): void {\n    if (this.liveFeedInterval) {\n      clearInterval(this.liveFeedInterval)\n    }\n\n    const usernames = [\n      'DiceMaster99',\n      'HighRoller',\n      'LuckyStrike',\n      'GoldenBet',\n      'DiceKing',\n      'BetHigh',\n      'WinStreak',\n      'CasinoPro',\n      'RollerX',\n      'DiceQueen',\n      'LuckyDice',\n      'HighBet',\n      'CasinoKing',\n      'DiceLord',\n      'BetMaster',\n    ]\n\n    const avatars = ['🎲', '💰', '🍀', '⭐', '👑', '📈', '🔥', '🎯', '💎', '🎪']\n    const games = ['Dice High/Low', 'Dice Roll', 'Lucky Dice', 'High/Low Bet']\n\n    this.liveFeedInterval = setInterval(\n      () => {\n        const username = usernames[Math.floor(Math.random() * usernames.length)]\n        const amount = Math.floor(Math.random() * 5000) + 100\n        const game = games[Math.floor(Math.random() * games.length)]\n        const avatar = avatars[Math.floor(Math.random() * avatars.length)]\n\n        callback({\n          id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n          username,\n          amount,\n          game,\n          timestamp: new Date(),\n          avatar,\n        })\n      },\n      3000 + Math.random() * 5000\n    ) // Random interval between 3-8 seconds\n  }\n\n  /**\n   * Stop live feed simulation\n   */\n  stopLiveFeed(): void {\n    if (this.liveFeedInterval) {\n      clearInterval(this.liveFeedInterval)\n      this.liveFeedInterval = null\n    }\n  }\n\n  /**\n   * Simulate faucet claim\n   */\n  async claimFaucet(): Promise<{\n    success: boolean\n    amount: number\n    message: string\n  }> {\n    await new Promise(resolve => setTimeout(resolve, 1000))\n\n    const amount = 1000\n    return {\n      success: true,\n      amount,\n      message: `Successfully claimed ${amount} HILO tokens!`,\n    }\n  }\n\n  /**\n   * Simulate daily wheel spin\n   */\n  async spinDailyWheel(): Promise<{ reward: number; message: string }> {\n    await new Promise(resolve => setTimeout(resolve, 2000))\n\n    const rewards = [50, 100, 250, 500, 1000, 2000]\n    const reward = rewards[Math.floor(Math.random() * rewards.length)]\n\n    return {\n      reward,\n      message: `Congratulations! You won ${reward} HILO tokens!`,\n    }\n  }\n\n  /**\n   * Verify roll hash\n   */\n  verifyRoll(\n    serverSeed: string,\n    clientSeed: string,\n    nonce: number,\n    hash: string\n  ): boolean {\n    const expectedHash = this.generateHash(serverSeed, clientSeed, nonce)\n    return hash === expectedHash\n  }\n\n  /**\n   * Get house edge explanation\n   */\n  getHouseEdgeInfo(): {\n    houseEdge: number\n    playerWinChance: number\n    explanation: string\n  } {\n    const houseEdge = 0.02\n    const playerWinChance = 0.5 - houseEdge / 2\n\n    return {\n      houseEdge,\n      playerWinChance,\n      explanation: `The house edge is ${(houseEdge * 100).toFixed(1)}%, meaning players have a ${(playerWinChance * 100).toFixed(1)}% chance of winning each roll. This ensures the casino remains profitable while still providing fair gameplay.`,\n    }\n  }\n}\n\n// Export singleton instance\nexport const mockAPI = MockAPI.getInstance()\n","import React, { useRef, useState } from 'react'\r\nimport Modal from './Modal'\r\nimport DailyWheel, { DailyWheelHandle } from './DailyWheel'\r\nimport { mockAPI } from '../lib/api'\r\n\r\ninterface DailyWheelModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nexport const DailyWheelModal: React.FC<DailyWheelModalProps> = ({ isOpen, onClose }) => {\r\n  const [wheelSpinning, setWheelSpinning] = useState(false)\r\n  const [wheelResult, setWheelResult] = useState<number | null>(null)\r\n  const wheelRef = useRef<DailyWheelHandle | null>(null)\r\n\r\n  const handleDailyWheel = async () => {\r\n    setWheelSpinning(true)\r\n    setWheelResult(null)\r\n    try {\r\n      const result = await mockAPI.spinDailyWheel()\r\n      setWheelResult(result.reward)\r\n      const rewards = [50, 100, 250, 500, 1000, 2000]\r\n      const index = rewards.indexOf(result.reward)\r\n      const landingIndex = index >= 0 ? index : Math.floor(Math.random() * rewards.length)\r\n      wheelRef.current?.spinToIndex(landingIndex)\r\n    } catch (e) {\r\n      console.error('Failed to spin wheel:', e)\r\n    } finally {\r\n      setWheelSpinning(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} maxWidth=\"md\" title=\"Daily Wheel\">\r\n      <div className=\"text-center\">\r\n        <div className=\"mb-6 flex justify-center\">\r\n          <DailyWheel\r\n            ref={wheelRef as any}\r\n            size={300}\r\n            segments={[\r\n              { label: '50', value: 50, color: '#F59E0B' },\r\n              { label: '100', value: 100, color: '#10B981' },\r\n              { label: '250', value: 250, color: '#3B82F6' },\r\n              { label: '500', value: 500, color: '#A855F7' },\r\n              { label: '1000', value: 1000, color: '#EF4444' },\r\n              { label: '2000', value: 2000, color: '#EAB308' },\r\n            ]}\r\n          />\r\n        </div>\r\n\r\n        {wheelResult && (\r\n          <div className=\"mb-4 p-4 bg-hilo-green/20 border border-emerald-500/30 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-white\">You won {wheelResult} HILO tokens!</div>\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={handleDailyWheel}\r\n          disabled={wheelSpinning}\r\n          className=\"w-full py-3 bg-hilo-gold text-black font-bold rounded-lg hover:bg-hilo-gold/80 transition-colors disabled:opacity-50\"\r\n        >\r\n          {wheelSpinning ? 'Spinning...' : 'Spin Wheel'}\r\n        </button>\r\n\r\n        {/* Informational blocks */}\r\n        <div className=\"mt-6 grid gap-3 text-left\">\r\n          <div className=\"p-3 rounded-lg bg-blue-900/20 border border-blue-500/30\">\r\n            <div className=\"text-sm text-blue-300\">\r\n              Streak Bonus: +10% after 3 consecutive daily spins\r\n            </div>\r\n          </div>\r\n          <div className=\"p-3 rounded-lg bg-purple-900/20 border border-purple-500/30\">\r\n            <div className=\"text-sm text-purple-300\">\r\n              Next Free Spin Countdown: 23h 59m (placeholder)\r\n            </div>\r\n          </div>\r\n          <div className=\"p-3 rounded-lg bg-amber-900/20 border border-amber-500/30\">\r\n            <div className=\"text-sm text-amber-300\">\r\n              Recent Rewards: 250 • 50 • 1000 • 100 (placeholder)\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DailyWheelModal\r\n\r\n\r\n","import React, { useState, useRef } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { X, Upload, User, Image as ImageIcon, Check, AlertCircle, Calendar } from 'lucide-react'\r\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\r\nimport { useToast } from './Toast'\r\nimport Modal from './Modal'\r\n\r\ninterface EditProfileModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nexport const EditProfileModal: React.FC<EditProfileModalProps> = ({\r\n  isOpen,\r\n  onClose\r\n}) => {\r\n  const { userProfile, updateProfile } = useWalletContext()\r\n  const { success, error } = useToast()\r\n  const [username, setUsername] = useState(userProfile?.username || '')\r\n  const [profilePicture, setProfilePicture] = useState<string | null>(userProfile?.profilePicture || null)\r\n  const [isUpdating, setIsUpdating] = useState(false)\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  // Check if username was changed recently (within a week)\r\n  const canChangeUsername = () => {\r\n    if (!userProfile?.lastUsernameChange) return true\r\n    const oneWeek = 7 * 24 * 60 * 60 * 1000 // 7 days in milliseconds\r\n    return Date.now() - userProfile.lastUsernameChange > oneWeek\r\n  }\r\n\r\n  const daysUntilUsernameChange = () => {\r\n    if (!userProfile?.lastUsernameChange) return 0\r\n    const oneWeek = 7 * 24 * 60 * 60 * 1000\r\n    const timeLeft = oneWeek - (Date.now() - userProfile.lastUsernameChange)\r\n    return Math.ceil(timeLeft / (24 * 60 * 60 * 1000))\r\n  }\r\n\r\n  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (file) {\r\n      // Validate file type\r\n      if (!file.type.startsWith('image/')) {\r\n        setErrorMessage('Please select a valid image file')\r\n        return\r\n      }\r\n\r\n      // Validate file size (max 5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setErrorMessage('Image must be less than 5MB')\r\n        return\r\n      }\r\n\r\n      const reader = new FileReader()\r\n      reader.onload = (e) => {\r\n        setProfilePicture(e.target?.result as string)\r\n        setErrorMessage('')\r\n      }\r\n      reader.readAsDataURL(file)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setErrorMessage('')\r\n    \r\n    if (!username.trim()) {\r\n      setErrorMessage('Username is required')\r\n      return\r\n    }\r\n\r\n    if (username.length < 3 || username.length > 20) {\r\n      setErrorMessage('Username must be between 3 and 20 characters')\r\n      return\r\n    }\r\n\r\n    // Check if username is being changed and if it's allowed\r\n    const usernameChanged = username !== userProfile?.username\r\n    if (usernameChanged && !canChangeUsername()) {\r\n      setErrorMessage(`You can only change your username once per week. ${daysUntilUsernameChange()} days remaining.`)\r\n      return\r\n    }\r\n\r\n    setIsUpdating(true)\r\n    try {\r\n      const updates: any = {\r\n        profilePicture: profilePicture || undefined\r\n      }\r\n\r\n      // Only update username if it changed and is allowed\r\n      if (usernameChanged && canChangeUsername()) {\r\n        updates.username = username\r\n        updates.lastUsernameChange = Date.now()\r\n      }\r\n\r\n      await updateProfile(updates)\r\n      success('Profile Updated', 'Your profile has been updated successfully!')\r\n      onClose()\r\n    } catch (err) {\r\n      const errorMsg = err instanceof Error ? err.message : 'Failed to update profile'\r\n      setErrorMessage(errorMsg)\r\n      error('Update Failed', errorMsg)\r\n    } finally {\r\n      setIsUpdating(false)\r\n    }\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setUsername(userProfile?.username || '')\r\n    setProfilePicture(userProfile?.profilePicture || null)\r\n    setErrorMessage('')\r\n    onClose()\r\n  }\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={handleClose} maxWidth=\"md\" title=\"Edit Profile\" zIndexClass=\"z-[130]\">\r\n      <div className=\"space-y-6\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                {/* Profile Picture */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-white mb-3\">\r\n                    Profile Picture\r\n                  </label>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"relative\">\r\n                      <div className=\"w-20 h-20 rounded-full bg-hilo-gray-light border-2 border-hilo-gray-light overflow-hidden\">\r\n                        {profilePicture ? (\r\n                          <img\r\n                            src={profilePicture}\r\n                            alt=\"Profile\"\r\n                            className=\"w-full h-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"w-full h-full flex items-center justify-center\">\r\n                            <User className=\"w-8 h-8 text-gray-400\" />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <input\r\n                        ref={fileInputRef}\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleImageUpload}\r\n                        className=\"hidden\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => fileInputRef.current?.click()}\r\n                        className=\"flex items-center gap-2 px-4 py-2 bg-hilo-gold text-hilo-black rounded-lg hover:bg-hilo-gold-dark transition-colors font-medium\"\r\n                      >\r\n                        <Upload className=\"w-4 h-4\" />\r\n                        Choose Image\r\n                      </button>\r\n                      <p className=\"text-xs text-gray-400 mt-1\">\r\n                        Max 5MB, JPG/PNG recommended\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Username */}\r\n                <div>\r\n                  <label htmlFor=\"username\" className=\"block text-sm font-medium text-white mb-2\">\r\n                    Username\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      id=\"username\"\r\n                      type=\"text\"\r\n                      value={username}\r\n                      onChange={(e) => setUsername(e.target.value)}\r\n                      className=\"w-full px-4 py-3 bg-hilo-black border border-hilo-gray-light rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-hilo-gold focus:ring-1 focus:ring-hilo-gold\"\r\n                      placeholder=\"Enter your username\"\r\n                      disabled={isUpdating}\r\n                      maxLength={20}\r\n                    />\r\n                    <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                      <User className=\"w-4 h-4 text-gray-400\" />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Username change limit warning */}\r\n                  {!canChangeUsername() && (\r\n                    <div className=\"flex items-center gap-2 mt-2 p-2 bg-yellow-900/20 border border-yellow-500/30 rounded-lg\">\r\n                      <Calendar className=\"w-4 h-4 text-yellow-400 flex-shrink-0\" />\r\n                      <p className=\"text-xs text-yellow-300\">\r\n                        Username changes are limited to once per week. {daysUntilUsernameChange()} days remaining.\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {errorMessage && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, y: -10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className=\"flex items-center gap-2 p-3 bg-red-900/20 border border-red-500/30 rounded-lg\"\r\n                  >\r\n                    <AlertCircle className=\"w-4 h-4 text-red-400 flex-shrink-0\" />\r\n                    <p className=\"text-sm text-red-300\">{errorMessage}</p>\r\n                  </motion.div>\r\n                )}\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex gap-3 pt-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleClose}\r\n                    disabled={isUpdating}\r\n                    className=\"flex-1 px-4 py-3 bg-hilo-gray-light text-white rounded-lg hover:bg-hilo-gray transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={isUpdating || !username.trim()}\r\n                    className=\"flex-1 px-4 py-3 bg-hilo-gold text-hilo-black rounded-lg hover:bg-hilo-gold-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    {isUpdating ? (\r\n                      <>\r\n                        <div className=\"w-4 h-4 border-2 border-hilo-black border-t-transparent rounded-full animate-spin\" />\r\n                        Updating...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Check className=\"w-4 h-4\" />\r\n                        Update Profile\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n        </form>\r\n        {/* Footer */}\r\n        <div className=\"pt-4 border-t border-hilo-gray-light\">\r\n          <div className=\"flex items-center gap-2 text-xs text-gray-400\">\r\n            <div className=\"w-2 h-2 bg-blue-400 rounded-full\" />\r\n            <span>Profile changes are saved automatically</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default EditProfileModal\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport Modal from './Modal'\nimport { X, User, Copy, RefreshCw, ExternalLink, Edit, Share2 } from 'lucide-react'\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\nimport { useToast } from './Toast'\nimport { EditProfileModal } from './EditProfileModal'\n\ninterface AccountModalProps {\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport const AccountModal: React.FC<AccountModalProps> = ({ isOpen, onClose }) => {\n  const { \n    userProfile, \n    gameWalletAddress, \n    gameWalletBalance, \n    refreshGameBalance,\n    isInitializing \n  } = useWalletContext()\n  const { success, error } = useToast()\n  const [showEditProfile, setShowEditProfile] = useState(false)\n\n  // Close on Escape\n  useEffect(() => {\n    if (!isOpen) return\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose()\n    }\n    window.addEventListener('keydown', onKey)\n    return () => window.removeEventListener('keydown', onKey)\n  }, [isOpen, onClose])\n\n  const copyToClipboard = async (text: string) => {\n    try {\n      await navigator.clipboard.writeText(text)\n      success('Copied to Clipboard', 'Address copied!')\n    } catch (err) {\n      error('Copy Failed', 'Failed to copy to clipboard')\n    }\n  }\n\n  const displayName = userProfile?.username || `Player${gameWalletAddress?.slice(-6) || ''}`\n  const profilePicture = userProfile?.profilePicture\n\n  return (\n    <>\n      <Modal isOpen={isOpen} onClose={onClose} maxWidth=\"md\" title=\"Account\">\n        <div className=\"max-h-[70vh] overflow-y-auto\">\n            {/* Header */}\n            <div className=\"hidden\" />\n\n            {/* Content */}\n            <div className=\"p-6 space-y-6\">\n              {/* Profile Section */}\n              <div>\n                <h3 className=\"text-sm font-semibold text-white mb-3\">Profile</h3>\n                <div className=\"bg-hilo-black/50 rounded-lg p-4 border border-hilo-gold/30\">\n                  <div className=\"flex items-center gap-4 mb-4\">\n                    {profilePicture ? (\n                      <img\n                        src={profilePicture}\n                        alt=\"Profile\"\n                        className=\"w-16 h-16 rounded-full border border-hilo-gold/30\"\n                      />\n                    ) : (\n                      <div className=\"w-16 h-16 rounded-full bg-hilo-gold/20 flex items-center justify-center\">\n                        <User className=\"w-8 h-8 text-hilo-gold\" />\n                      </div>\n                    )}\n                    <div className=\"flex-1\">\n                      <div className=\"text-lg font-semibold text-white\">{displayName}</div>\n                      <div className=\"text-sm text-gray-400\">\n                        {userProfile?.vipTier || 'Bronze'} • {userProfile?.xp || 0} XP\n                      </div>\n                    </div>\n                    {/* Removed inline Edit button to focus on the main Edit Profile action below */}\n                  </div>\n                  \n                  {/* Stats */}\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div className=\"text-center\">\n                      <div className=\"text-gray-400\">Games Played</div>\n                      <div className=\"text-white font-medium\">{userProfile?.gamesPlayed || 0}</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-gray-400\">Win Rate</div>\n                      <div className=\"text-white font-medium\">\n                        {userProfile?.winRate ? `${(userProfile.winRate * 100).toFixed(1)}%` : '0%'}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Wallet Section */}\n              {gameWalletAddress && (\n                <div>\n                  <h3 className=\"text-sm font-semibold text-white mb-3\">Game Wallet</h3>\n                  <div className=\"bg-hilo-black/50 rounded-lg p-4 border border-hilo-gray-light\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"text-xs text-gray-400\">Address</span>\n                      <button\n                        onClick={() => copyToClipboard(gameWalletAddress)}\n                        className=\"text-hilo-gold hover:text-hilo-gold-dark transition-colors\"\n                      >\n                        <Copy className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                    <div className=\"text-sm font-mono text-white break-all mb-4\">\n                      {gameWalletAddress}\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-xs text-gray-400\">Balance</span>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-lg font-semibold text-hilo-gold\">\n                          {gameWalletBalance?.toFixed(4) || '0.0000'} SOL\n                        </span>\n                        <button\n                          onClick={refreshGameBalance}\n                          disabled={isInitializing}\n                          className=\"text-hilo-gold hover:text-hilo-gold-dark transition-colors disabled:opacity-50\"\n                        >\n                          <RefreshCw className={`w-4 h-4 ${isInitializing ? 'animate-spin' : ''}`} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Actions */}\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => {\n                    setShowEditProfile(true)\n                  }}\n                  className=\"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-hilo-gold text-hilo-black rounded-lg hover:bg-hilo-gold-dark transition-colors\"\n                >\n                  <User className=\"w-4 h-4\" />\n                  <span className=\"text-sm font-medium\">Edit Profile</span>\n                </button>\n                \n                <button\n                  onClick={async () => {\n                    try {\n                      const shareUrl = gameWalletAddress\n                        ? `https://solscan.io/account/${gameWalletAddress}`\n                        : window.location.origin\n                      const shareData = {\n                        title: 'HILO Casino',\n                        text: 'Check out my game wallet on HILO Casino',\n                        url: shareUrl,\n                      } as any\n                      if (navigator.share && typeof navigator.share === 'function') {\n                        await navigator.share(shareData)\n                        success('Shared', 'Share sheet opened')\n                      } else {\n                        await navigator.clipboard.writeText(shareUrl)\n                        success('Link Copied', 'Wallet link copied to clipboard')\n                      }\n                    } catch (e) {\n                      error('Share Failed', 'Unable to share at the moment')\n                    }\n                  }}\n                  className=\"flex items-center justify-center gap-2 px-4 py-3 bg-hilo-gray-light text-white rounded-lg hover:bg-hilo-gray transition-colors\"\n                  title=\"Share wallet link\"\n                >\n                  <Share2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n\n              {/* Info */}\n              <div className=\"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg\">\n                <div className=\"text-xs text-blue-300\">\n                  <strong>Note:</strong> Your game wallet is automatically generated and managed securely. You can view transactions on Solscan using the external link button.\n                </div>\n              </div>\n            </div>\n        </div>\n      </Modal>\n\n      {/* Edit Profile Modal */}\n      <EditProfileModal\n        isOpen={showEditProfile}\n        onClose={() => setShowEditProfile(false)}\n      />\n    </>\n  )\n}\n\nexport default AccountModal\n","export default \"__VITE_ASSET__CnyEn1F3__\"","import React from 'react'\r\nimport { Wallet, ExternalLink, AlertTriangle } from 'lucide-react'\r\nimport Modal from './Modal'\r\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\r\nimport { useWallet } from '@solana/wallet-adapter-react'\r\nimport { useWalletModal } from '@solana/wallet-adapter-react-ui'\r\n\r\ninterface WalletRequiredModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  featureName?: string\r\n}\r\n\r\nexport const WalletRequiredModal: React.FC<WalletRequiredModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  featureName = 'this feature'\r\n}) => {\r\n  const { connect, connecting } = useWalletContext() as any\r\n  const { connected, wallets, select } = useWallet()\r\n  const { setVisible } = useWalletModal()\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} maxWidth=\"md\" title=\"Wallet Required\">\r\n      {/* Warning Message */}\r\n      <div className=\"flex items-start gap-3 p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg\">\r\n        <AlertTriangle className=\"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5\" />\r\n        <div>\r\n          <p className=\"text-yellow-300 font-medium mb-1\">Phantom Wallet Required</p>\r\n          <p className=\"text-yellow-200 text-sm\">\r\n            You need to connect your Phantom wallet to access {featureName}. This ensures secure transactions and account management.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Instructions */}\r\n      <div className=\"space-y-4 mt-6\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-white mb-3\">How to get started:</h3>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"w-6 h-6 bg-hilo-gold text-hilo-black rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5\">\r\n                1\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white font-medium\">Install Phantom Wallet</p>\r\n                <p className=\"text-gray-400 text-sm\">Download and install the Phantom browser extension</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"w-6 h-6 bg-hilo-gold text-hilo-black rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5\">\r\n                2\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white font-medium\">Create or Import Wallet</p>\r\n                <p className=\"text-gray-400 text-sm\">Set up your wallet with a new seed phrase or import existing</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"w-6 h-6 bg-hilo-gold text-hilo-black rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5\">\r\n                3\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white font-medium\">Connect to HILO Casino</p>\r\n                <p className=\"text-gray-400 text-sm\">Click the wallet button to connect and start playing</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Links */}\r\n      <div className=\"space-y-3 mt-6\">\r\n        <a\r\n          href=\"https://phantom.app/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"flex items-center gap-3 p-3 bg-hilo-black border border-hilo-gray-light rounded-lg hover:bg-hilo-gray transition-colors group\"\r\n        >\r\n          <Wallet className=\"w-5 h-5 text-hilo-gold\" />\r\n          <div className=\"flex-1\">\r\n            <p className=\"text-white font-medium group-hover:text-hilo-gold transition-colors\">Install Phantom Wallet</p>\r\n            <p className=\"text-gray-400 text-sm\">phantom.app</p>\r\n          </div>\r\n          <ExternalLink className=\"w-4 h-4 text-gray-400 group-hover:text-hilo-gold transition-colors\" />\r\n        </a>\r\n      </div>\r\n\r\n      {/* Footer Actions */}\r\n      <div className=\"mt-6 flex gap-3\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"flex-1 px-4 py-3 bg-hilo-gray-light text-white rounded-lg hover:bg-hilo-gray transition-colors\"\r\n        >\r\n          Got it\r\n        </button>\r\n        <button\r\n          onClick={async () => {\r\n            try {\r\n              // 1) Try programmatic Phantom connect for reliability\r\n              const phantom = wallets?.find(w => w.adapter?.name === 'Phantom')\r\n              if (phantom && select) {\r\n                select(phantom.adapter.name)\r\n                await connect()\r\n                onClose()\r\n                return\r\n              }\r\n\r\n              // 2) Otherwise, open the wallet adapter modal (same UX as header button)\r\n              if (setVisible) {\r\n                setVisible(true)\r\n                onClose()\r\n                return\r\n              }\r\n\r\n              // 3) Last resort: plain connect\r\n              await connect()\r\n              onClose()\r\n            } catch (e) {\r\n              // keep modal open on error\r\n            }\r\n          }}\r\n          disabled={!!connecting || connected}\r\n          className=\"flex-1 px-4 py-3 bg-hilo-gold text-hilo-black rounded-lg hover:bg-hilo-gold-dark transition-colors font-medium disabled:opacity-60 disabled:cursor-not-allowed\"\r\n        >\r\n          {connected ? 'Connected' : connecting ? 'Connecting...' : 'Connect Wallet'}\r\n        </button>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default WalletRequiredModal\r\n\r\n\r\n\r\n","import React, { useState, useEffect, useRef } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Link, useLocation } from 'react-router-dom'\nimport { Menu, X, User, Settings, HelpCircle, ArrowUpDown, Home, Gamepad2, ShieldCheck, Info, Trophy, Target, RefreshCw } from 'lucide-react'\nimport { HiloLogo } from './HiloLogo'\nimport { RealWalletButton } from './RealWalletButton'\nimport { AdminPanel } from './AdminPanel'\nimport { SettingsModal } from './SettingsModal'\nimport { SupportModal } from './SupportModal'\nimport DailyWheelModal from './DailyWheelModal'\nimport { AccountModal } from './AccountModal'\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\nimport { useGameStore } from '../store/gameStore'\n// Image assets\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore - declared in src/types/images.d.ts\nimport solanaLogo from '../../solanalogo.png'\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore - declared in src/types/images.d.ts\nimport usdcLogo from '../../usdclogo.png'\nimport { WalletRequiredModal } from './WalletRequiredModal'\n\ninterface NavigationProps {\n  className?: string\n}\ninterface NavItem {\n  path: string\n  label: string\n  icon: React.ElementType\n}\n\n/**\n * Main Navigation Component\n * Responsive navigation with mobile menu and wallet integration\n *\n * @param className - Additional CSS classes\n */\nexport const Navigation: React.FC<NavigationProps> = ({ className = '' }) => {\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\n  const [showAdminPanel, setShowAdminPanel] = useState(false)\n  const [showAccount, setShowAccount] = useState(false)\n  const [showSettings, setShowSettings] = useState(false)\n  const [showSupport, setShowSupport] = useState(false)\n  const [showDailyWheelModal, setShowDailyWheelModal] = useState(false)\n  const [showWalletRequired, setShowWalletRequired] = useState(false)\n  const [walletRequiredFeature, setWalletRequiredFeature] = useState('')\n  const { userProfile, gameWalletBalance, connected } = useWalletContext()\n  const { hiloTokens } = useGameStore()\n  const location = useLocation()\n  const dropdownRef = useRef<HTMLDivElement>(null)\n  const balanceRef = useRef<HTMLDivElement>(null)\n  const [isBalanceOpen, setIsBalanceOpen] = useState(false)\n  // Global listener to open wallet-required modal for gameplay guards\n  useEffect(() => {\n    const handler = (e: Event) => {\n      const detail = (e as CustomEvent).detail as any\n      setWalletRequiredFeature(detail?.feature || 'this feature')\n      setShowWalletRequired(true)\n    }\n    window.addEventListener('request-wallet-for-feature', handler as EventListener)\n    return () => window.removeEventListener('request-wallet-for-feature', handler as EventListener)\n  }, [])\n\n  const formatAmount = (value: number, maxFractionDigits: number = 4) => {\n    const safe = Number.isFinite(value) ? value : 0\n    return new Intl.NumberFormat('en-US', {\n      minimumFractionDigits: 0,\n      maximumFractionDigits: maxFractionDigits,\n    }).format(safe)\n  }\n\n  // Compact formatter for large values (e.g., 12,345,678 -> 12.3M)\n  const formatCompact = (value: number, maxFractionDigits: number = 2) => {\n    const safe = Number.isFinite(value) ? value : 0\n    // Use compact for values >= 10000; otherwise keep standard formatting\n    if (Math.abs(safe) >= 10000) {\n      return new Intl.NumberFormat('en-US', {\n        notation: 'compact',\n        compactDisplay: 'short',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: maxFractionDigits,\n      }).format(safe)\n    }\n    return formatAmount(safe, Math.min(4, Math.max(0, maxFractionDigits)))\n  }\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const targetNode = event.target as Node\n      if (dropdownRef.current && !dropdownRef.current.contains(targetNode)) {\n        setIsDropdownOpen(false)\n      }\n      if (balanceRef.current && !balanceRef.current.contains(targetNode)) {\n        setIsBalanceOpen(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [])\n\n  const navItems: NavItem[] = [\n    { path: '/', label: 'Home', icon: Home },\n    { path: '/games', label: 'Games', icon: Gamepad2 },\n    { path: '/about', label: 'About', icon: Info },\n    { path: '/provably-fair', label: 'Provably Fair', icon: ShieldCheck },\n  ]\n\n  const isActive = (path: string) => {\n    if (path === '/') {\n      return location.pathname === '/'\n    }\n    return location.pathname.startsWith(path)\n  }\n\n  const handleWalletRequiredFeature = (featureName: string) => {\n    if (!connected) {\n      setWalletRequiredFeature(featureName)\n      setShowWalletRequired(true)\n      setIsDropdownOpen(false)\n      return false\n    }\n    return true\n  }\n\n  return (\n    <motion.nav\n      className={`\n        fixed top-0 left-0 right-0 z-50 bg-hilo-black/80 backdrop-blur-xl border-b border-hilo-gray-light/50\n        shadow-2xl shadow-hilo-gold/10\n        ${className}\n      `}\n      initial={{ y: -100 }}\n      animate={{ y: 0 }}\n      transition={{ duration: 0.5, ease: 'easeOut' }}\n    >\n      <div className=\"w-full\">\n        <div className=\"flex items-center justify-between w-full h-16 px-6\">\n          {/* Left: Logo + text */}\n          <div className=\"flex items-center\">\n            <Link to=\"/\" className=\"flex items-center\">\n              <HiloLogo size=\"md\" animated={false} />\n            </Link>\n          </div>\n\n          {/* Right: Balance, Wallet, Hamburger */}\n          <div className=\"flex items-center gap-6\">\n            {/* Wallet and SOL Balance (desktop) */}\n            <div className=\"hidden md:flex items-center gap-4\">\n            {/* Balance Dropdown */}\n            <div className=\"relative\" ref={balanceRef}>\n              <button\n                onClick={() => {\n                  if (!connected) return\n                  setIsBalanceOpen(prev => !prev)\n                }}\n                className=\"flex items-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                title=\"View balances\"\n              >\n                <span className=\"w-6 h-6 flex items-center justify-center shrink-0\">\n                  <img src={solanaLogo} alt=\"Solana\" className=\"w-full h-full object-contain scale-110\" />\n                </span>\n                <span className=\"text-sm text-gray-300\">Balance:</span>\n                <span className=\"text-sm font-medium text-hilo-gold\">\n                  {connected ? `${formatAmount(gameWalletBalance || 0, 4)} SOL` : '—'}\n                </span>\n                <span className=\"text-gray-400\">▾</span>\n              </button>\n\n              <AnimatePresence>\n                {isBalanceOpen && connected && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -6, scale: 0.98 }}\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\n                    exit={{ opacity: 0, y: -6, scale: 0.98 }}\n                    transition={{ duration: 0.15 }}\n                    className=\"absolute top-full right-0 mt-2 w-64 bg-hilo-gray border border-hilo-gray-light rounded-xl shadow-2xl z-50\"\n                  >\n                    <div className=\"py-2\">\n                      <div className=\"px-4 py-2 flex items-center gap-3 text-gray-200\">\n                        <span className=\"w-6 h-6 flex items-center justify-center shrink-0\">\n                          <img src={solanaLogo} alt=\"Solana\" className=\"w-full h-full object-contain scale-110\" />\n                        </span>\n                        <div className=\"flex-1 flex items-center justify-between\">\n                          <span>SOL</span>\n                          <span\n                            className=\"text-hilo-gold font-medium font-mono tabular-nums whitespace-nowrap text-right max-w-[9rem] overflow-hidden text-ellipsis\"\n                            title={`${formatAmount(gameWalletBalance || 0, 9)} SOL`}\n                          >\n                            {formatCompact(gameWalletBalance || 0, 2)}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"px-4 py-2 flex items-center gap-3 text-gray-200\">\n                        <span className=\"w-6 h-6 flex items-center justify-center shrink-0 text-[16px] leading-none\">🎲</span>\n                        <div className=\"flex-1 flex items-center justify-between\">\n                          <span>HILO</span>\n                          <span\n                            className=\"text-hilo-gold font-medium font-mono tabular-nums whitespace-nowrap text-right max-w-[9rem] overflow-hidden text-ellipsis\"\n                            title={`${formatAmount(hiloTokens || 0, 9)} HILO`}\n                          >\n                            {formatCompact(hiloTokens || 0, 2)}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"px-4 py-2 flex items-center gap-3 text-gray-200\">\n                        <span className=\"w-6 h-6 flex items-center justify-center shrink-0\">\n                          <img src={usdcLogo} alt=\"USDC\" className=\"w-full h-full object-contain\" />\n                        </span>\n                        <div className=\"flex-1 flex items-center justify-between\">\n                          <span>USDC</span>\n                          <span\n                            className=\"text-hilo-gold font-medium font-mono tabular-nums whitespace-nowrap text-right max-w-[9rem] overflow-hidden text-ellipsis\"\n                            title={`${formatAmount(0, 9)} USDC`}\n                          >\n                            {formatCompact(0, 2)}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n            \n              {/* Admin Panel Button */}\n              {userProfile?.isAdmin && (\n                <button\n                  onClick={() => setShowAdminPanel(true)}\n                  className=\"px-3 py-2 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition-colors flex items-center gap-2\"\n                >\n                  <span className=\"text-sm\">🛡️</span>\n                  <span className=\"text-sm font-medium\">Admin</span>\n                </button>\n              )}\n\n              {/* Wallet Connect Button */}\n              <RealWalletButton />\n\n              {/* Hamburger Menu Button */}\n              <div className=\"relative\" ref={dropdownRef}>\n                <button\n                  onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n                  className=\"p-2 rounded-lg text-gray-300 hover:text-hilo-gold hover:bg-hilo-gold/10 transition-all duration-300\"\n                >\n                  <Menu className=\"w-5 h-5\" />\n                </button>\n\n                {/* Dropdown Menu */}\n                <AnimatePresence>\n                  {isDropdownOpen && (\n                    <motion.div\n                      initial={{ opacity: 0, y: -10, scale: 0.95 }}\n                      animate={{ opacity: 1, y: 0, scale: 1 }}\n                      exit={{ opacity: 0, y: -10, scale: 0.95 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"absolute top-full right-0 mt-2 w-48 bg-hilo-gray border border-hilo-gray-light rounded-xl shadow-2xl z-50\"\n                    >\n                      <div className=\"py-2\">\n                        {/* Navigation Items */}\n                        {navItems.map(item => (\n                          <Link\n                            key={item.path}\n                            to={item.path}\n                            onClick={() => setIsDropdownOpen(false)}\n                            className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                          >\n                            <item.icon className=\"w-4 h-4\" />\n                            <span>{item.label}</span>\n                          </Link>\n                        ))}\n\n                        {/* Separator */}\n                        <div className=\"border-t border-hilo-gray-light my-2\"></div>\n\n                        {/* Game Actions moved from in-game menu */}\n                        <Link\n                          to=\"/game?open=challenges\"\n                          onClick={() => setIsDropdownOpen(false)}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <Target className=\"w-4 h-4\" />\n                          <span>Challenges</span>\n                        </Link>\n\n                        <Link\n                          to=\"/leaderboard\"\n                          onClick={() => setIsDropdownOpen(false)}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <Trophy className=\"w-4 h-4\" />\n                          <span>Leaderboard</span>\n                        </Link>\n\n                        <button\n                          onClick={() => {\n                            if (!connected) {\n                              setWalletRequiredFeature('Daily Wheel')\n                              setShowWalletRequired(true)\n                              setIsDropdownOpen(false)\n                              return\n                            }\n                            setShowDailyWheelModal(true)\n                            setIsDropdownOpen(false)\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <RefreshCw className=\"w-4 h-4\" />\n                          <span>Daily Wheel</span>\n                        </button>\n\n                        {/* Separator */}\n                        <div className=\"border-t border-hilo-gray-light my-2\"></div>\n\n                        <button\n                          onClick={() => {\n                            if (handleWalletRequiredFeature('Account')) {\n                              setShowAccount(true)\n                              setIsDropdownOpen(false)\n                            }\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <User className=\"w-4 h-4\" />\n                          <span>Account</span>\n                        </button>\n\n                        {/* Wallet moved under Account */}\n                        <button\n                          onClick={() => {\n                            if (handleWalletRequiredFeature('Wallet')) {\n                              setIsDropdownOpen(false)\n                              // Navigate to wallet page\n                              window.location.href = '/wallet'\n                            }\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <ArrowUpDown className=\"w-4 h-4\" />\n                          <span>Wallet</span>\n                        </button>\n\n                        <button\n                          onClick={() => {\n                            if (handleWalletRequiredFeature('Settings')) {\n                              setShowSettings(true)\n                              setIsDropdownOpen(false)\n                            }\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <Settings className=\"w-4 h-4\" />\n                          <span>Settings</span>\n                        </button>\n\n                        <button\n                          onClick={() => {\n                            if (handleWalletRequiredFeature('Support')) {\n                              setShowSupport(true)\n                              setIsDropdownOpen(false)\n                            }\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <HelpCircle className=\"w-4 h-4\" />\n                          <span>Support</span>\n                        </button>\n                      </div>\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </div>\n            </div>\n\n            {/* Mobile Menu Button (separate icon when desktop actions hidden) */}\n            <button\n              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n              className=\"md:hidden p-2 rounded-lg text-gray-300 hover:text-hilo-gold hover:bg-hilo-gold/10 transition-all duration-300\"\n            >\n              <motion.div\n                animate={{ rotate: isMobileMenuOpen ? 90 : 0 }}\n                transition={{ duration: 0.3 }}\n              >\n                {isMobileMenuOpen ? '✕' : '☰'}\n              </motion.div>\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Menu */}\n        <motion.div\n          className=\"md:hidden\"\n          initial={false}\n          animate={{\n            height: isMobileMenuOpen ? 'auto' : 0,\n            opacity: isMobileMenuOpen ? 1 : 0,\n          }}\n          transition={{ duration: 0.3, ease: 'easeInOut' }}\n        >\n          <div className=\"py-4 space-y-2 border-t border-hilo-gray-light\">\n            {navItems.map((item, index) => (\n              <motion.div\n                key={item.path}\n                initial={{ opacity: 0, x: -20 }}\n                animate={{\n                  opacity: isMobileMenuOpen ? 1 : 0,\n                  x: isMobileMenuOpen ? 0 : -20,\n                }}\n                transition={{ delay: index * 0.1 }}\n              >\n                <Link\n                  to={item.path}\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className={`\n                    flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-300\n                    ${\n                      isActive(item.path)\n                        ? 'text-hilo-gold bg-hilo-gold/10 shadow-hilo-glow'\n                        : 'text-gray-300 hover:text-hilo-gold hover:bg-hilo-gold/5'\n                    }\n                  `}\n                >\n                  <item.icon className=\"w-5 h-5\" />\n                  <span>{item.label}</span>\n                </Link>\n              </motion.div>\n            ))}\n\n            {/* Mobile Wallet and Balance */}\n            <motion.div\n              className=\"pt-4 border-t border-hilo-gray-light space-y-3\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{\n                opacity: isMobileMenuOpen ? 1 : 0,\n                y: isMobileMenuOpen ? 0 : 20,\n              }}\n              transition={{ delay: 0.5 }}\n            >\n              {/* SOL Balance Display */}\n              {gameWalletBalance !== undefined && (\n                <div className=\"flex items-center justify-center gap-2 px-4 py-3 bg-hilo-gray border border-hilo-gray-light rounded-lg\">\n                  <span className=\"text-sm text-gray-300\">Balance:</span>\n                  <span className=\"text-sm font-medium text-hilo-gold\">\n                    {gameWalletBalance.toFixed(4)} SOL\n                  </span>\n                </div>\n              )}\n              \n              {userProfile?.isAdmin && (\n                <button\n                  onClick={() => {\n                    setShowAdminPanel(true)\n                    setIsMobileMenuOpen(false)\n                  }}\n                  className=\"w-full px-4 py-3 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <span className=\"text-sm\">🛡️</span>\n                  <span className=\"text-sm font-medium\">Admin Panel</span>\n                </button>\n              )}\n              \n              <RealWalletButton className=\"w-full justify-center\" />\n              \n              {/* Mobile Menu Options */}\n              <div className=\"grid grid-cols-2 gap-2\">\n                <Link\n                  to=\"/game?open=challenges\"\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <Target className=\"w-4 h-4 text-gray-300\" />\n                  <span className=\"text-sm text-gray-300\">Challenges</span>\n                </Link>\n\n                <Link\n                  to=\"/leaderboard\"\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <Trophy className=\"w-4 h-4 text-gray-300\" />\n                  <span className=\"text-sm text-gray-300\">Leaderboard</span>\n                </Link>\n\n                <button\n                  onClick={() => {\n                    if (!connected) {\n                      setWalletRequiredFeature('Daily Wheel')\n                      setShowWalletRequired(true)\n                      setIsMobileMenuOpen(false)\n                      return\n                    }\n                    setShowDailyWheelModal(true)\n                    setIsMobileMenuOpen(false)\n                  }}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <RefreshCw className=\"w-4 h-4 text-gray-300\" />\n                  <span className=\"text-sm text-gray-300\">Daily Wheel</span>\n                </button>\n\n                <button\n                  onClick={() => {\n                    setShowAccount(true)\n                    setIsMobileMenuOpen(false)\n                  }}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <User className=\"w-4 h-4 text-gray-300\" />\n                  <span className=\"text-sm text-gray-300\">Account</span>\n                </button>\n                \n                <Link\n                  to=\"/wallet\"\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <ArrowUpDown className=\"w-4 h-4 text-gray-300\" />\n                  <span className=\"text-sm text-gray-300\">Wallet</span>\n                </Link>\n                \n                <button\n                  onClick={() => {\n                    setShowSettings(true)\n                    setIsMobileMenuOpen(false)\n                  }}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <Settings className=\"w-4 h-4 text-gray-300\" />\n                  <span className=\"text-sm text-gray-300\">Settings</span>\n                </button>\n                \n                <button\n                  onClick={() => {\n                    setShowSupport(true)\n                    setIsMobileMenuOpen(false)\n                  }}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <HelpCircle className=\"w-4 h-4 text-gray-300\" />\n                  <span className=\"text-sm text-gray-300\">Support</span>\n                </button>\n                \n                <Link\n                  to=\"/leaderboard\"\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-hilo-gray border border-hilo-gray-light rounded-lg hover:bg-hilo-gold/10 transition-colors\"\n                >\n                  <span className=\"text-sm text-gray-300\">Leaderboard</span>\n                </Link>\n                \n                <div className=\"col-span-2\"></div> {/* Empty cell to balance the grid */}\n              </div>\n            </motion.div>\n          </div>\n        </motion.div>\n      </div>\n\n      {/* Admin Panel */}\n      <AdminPanel\n        isOpen={showAdminPanel}\n        onClose={() => setShowAdminPanel(false)}\n      />\n\n      {/* Account Modal */}\n      <AccountModal\n        isOpen={showAccount}\n        onClose={() => setShowAccount(false)}\n      />\n\n      {/* Settings Modal */}\n      <SettingsModal\n        isOpen={showSettings}\n        onClose={() => setShowSettings(false)}\n      />\n\n      {/* Support Modal */}\n      <SupportModal\n        isOpen={showSupport}\n        onClose={() => setShowSupport(false)}\n      />\n\n      {/* Wallet Required Modal */}\n      <WalletRequiredModal\n        isOpen={showWalletRequired}\n        onClose={() => setShowWalletRequired(false)}\n        featureName={walletRequiredFeature}\n      />\n\n      {/* Global Daily Wheel Modal */}\n      <DailyWheelModal\n        isOpen={showDailyWheelModal}\n        onClose={() => setShowDailyWheelModal(false)}\n      />\n    </motion.nav>\n  )\n}\n\nexport default Navigation\n","export default \"__VITE_ASSET__BPB8iTsR__\"","import React from 'react'\nimport { motion } from 'framer-motion'\nimport { HiloLogo } from './HiloLogo'\n\ninterface FooterProps {\n  className?: string\n}\n\n/**\n * Footer Component\n * Social links and disclaimer for mock gambling site\n *\n * @param className - Additional CSS classes\n */\nexport const Footer: React.FC<FooterProps> = ({ className = '' }) => {\n  const socialLinks = [\n    { name: 'Twitter', icon: '𝕏', url: 'https://twitter.com/hilocasino' },\n    { name: 'Discord', icon: '💬', url: 'https://discord.gg/hilocasino' },\n    { name: 'Telegram', icon: '📱', url: 'https://t.me/hilocasino' },\n  ]\n\n  const footerLinks = [\n    { name: 'Terms of Service', url: '/terms' },\n    { name: 'Privacy Policy', url: '/privacy' },\n    { name: 'Responsible Gaming', url: '/responsible' },\n    { name: 'Contact', url: '/contact' },\n  ]\n\n  return (\n    <footer\n      className={`bg-hilo-gray border-t border-hilo-gray-light ${className}`}\n    >\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          {/* Logo and Description */}\n          <div className=\"md:col-span-2\">\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5 }}\n              viewport={{ once: true }}\n            >\n              <HiloLogo size=\"md\" animated={false} className=\"mb-4\" />\n              <p className=\"text-gray-400 text-sm leading-relaxed mb-6 max-w-md\">\n                HILO Casino - The ultimate dice gaming experience. Bet high, bet\n                low, win big with our provably fair system.\n                <span className=\"block mt-2 text-hilo-red font-semibold\">\n                  ⚠️ This is a mock gambling site for demonstration purposes\n                  only.\n                </span>\n              </p>\n            </motion.div>\n          </div>\n\n          {/* Quick Links */}\n          <div>\n            <motion.h3\n              className=\"text-hilo-gold font-semibold text-lg mb-4\"\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.1 }}\n              viewport={{ once: true }}\n            >\n              Quick Links\n            </motion.h3>\n            <motion.ul\n              className=\"space-y-2\"\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n              viewport={{ once: true }}\n            >\n              {footerLinks.map((link, index) => (\n                <motion.li\n                  key={link.name}\n                  initial={{ opacity: 0, x: -20 }}\n                  whileInView={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.3, delay: 0.3 + index * 0.1 }}\n                  viewport={{ once: true }}\n                >\n                  <a\n                    href={link.url}\n                    className=\"text-gray-400 hover:text-hilo-gold transition-colors duration-300 text-sm\"\n                  >\n                    {link.name}\n                  </a>\n                </motion.li>\n              ))}\n            </motion.ul>\n          </div>\n\n          {/* Social Links */}\n          <div>\n            <motion.h3\n              className=\"text-hilo-gold font-semibold text-lg mb-4\"\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.1 }}\n              viewport={{ once: true }}\n            >\n              Follow Us\n            </motion.h3>\n            <motion.div\n              className=\"flex space-x-4\"\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n              viewport={{ once: true }}\n            >\n              {socialLinks.map((social, index) => (\n                <motion.a\n                  key={social.name}\n                  href={social.url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"\n                    w-10 h-10 bg-hilo-gray-light rounded-lg flex items-center justify-center\n                    text-gray-400 hover:text-hilo-gold hover:bg-hilo-gold/10\n                    transition-all duration-300 hover:scale-110\n                  \"\n                  whileHover={{ scale: 1.1 }}\n                  whileTap={{ scale: 0.95 }}\n                  initial={{ opacity: 0, scale: 0 }}\n                  whileInView={{ opacity: 1, scale: 1 }}\n                  transition={{ duration: 0.3, delay: 0.3 + index * 0.1 }}\n                  viewport={{ once: true }}\n                >\n                  <span className=\"text-lg\">{social.icon}</span>\n                </motion.a>\n              ))}\n            </motion.div>\n          </div>\n        </div>\n\n        {/* Bottom Bar */}\n        <motion.div\n          className=\"mt-8 pt-8 border-t border-hilo-gray-light\"\n          initial={{ opacity: 0 }}\n          whileInView={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.4 }}\n          viewport={{ once: true }}\n        >\n          <div className=\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\">\n            <p className=\"text-gray-500 text-sm\">\n              © 2024 HILO Casino. All rights reserved.\n            </p>\n            <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n              <span>🔒 SSL Secured</span>\n              <span>🛡️ Provably Fair</span>\n              <span>🎲 100% Random</span>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React, { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useGameStore } from '../store/gameStore'\nimport { mockAPI } from '../lib/api'\n\ninterface LiveFeedProps {\n  className?: string\n}\n\n/**\n * Live Feed Component\n * Shows recent wins from other players in real-time\n */\nexport const LiveFeed: React.FC<LiveFeedProps> = ({ className = '' }) => {\n  const { recentWins, addToLiveFeed } = useGameStore()\n  const [isExpanded, setIsExpanded] = useState(false)\n\n  useEffect(() => {\n    // Start live feed simulation\n    mockAPI.startLiveFeed(addToLiveFeed)\n\n    return () => {\n      mockAPI.stopLiveFeed()\n    }\n  }, [addToLiveFeed])\n\n  const formatTime = (timestamp: Date) => {\n    const now = new Date()\n    const diff = now.getTime() - timestamp.getTime()\n    const seconds = Math.floor(diff / 1000)\n\n    if (seconds < 60) return `${seconds}s ago`\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`\n    return `${Math.floor(seconds / 3600)}h ago`\n  }\n\n  const getAmountColor = (amount: number) => {\n    if (amount >= 5000) return 'text-purple-400'\n    if (amount >= 2000) return 'text-pink-400'\n    if (amount >= 1000) return 'text-hilo-gold'\n    if (amount >= 500) return 'text-hilo-green'\n    return 'text-gray-400'\n  }\n\n  return (\n    <div className={`bg-gray-900 rounded-lg p-4 ${className}`}>\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-bold text-hilo-gold flex items-center gap-2\">\n          🔥 Live Feed\n          <motion.div\n            className=\"w-2 h-2 bg-hilo-red rounded-full\"\n            animate={{ opacity: [1, 0.3, 1] }}\n            transition={{ duration: 1, repeat: Infinity }}\n          />\n        </h3>\n        <button\n          onClick={() => setIsExpanded(!isExpanded)}\n          className=\"text-gray-400 hover:text-white transition-colors\"\n        >\n          {isExpanded ? '▼' : '▶'}\n        </button>\n      </div>\n\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n              <AnimatePresence>\n                {recentWins.slice(0, 10).map((win, index) => (\n                  <motion.div\n                    key={win.id}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    exit={{ opacity: 0, x: 20 }}\n                    transition={{ delay: index * 0.1 }}\n                    className=\"flex items-center justify-between p-2 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors\"\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"text-2xl\">{win.avatar}</div>\n                      <div>\n                        <div className=\"text-sm font-medium text-white\">\n                          {win.username}\n                        </div>\n                        <div className=\"text-xs text-gray-400\">{win.game}</div>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div\n                        className={`font-bold ${getAmountColor(win.amount)}`}\n                      >\n                        {win.amount.toLocaleString()} HILO\n                      </div>\n                      <div className=\"text-xs text-gray-400\">\n                        {formatTime(win.timestamp)}\n                      </div>\n                    </div>\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n\n              {recentWins.length === 0 && (\n                <div className=\"text-center text-gray-400 py-8\">\n                  <div className=\"text-4xl mb-2\">🎲</div>\n                  <div>No recent wins yet</div>\n                  <div className=\"text-sm\">Be the first to win big!</div>\n                </div>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Compact view when collapsed */}\n      {!isExpanded && recentWins.length > 0 && (\n        <div className=\"space-y-1\">\n          {recentWins.slice(0, 3).map(win => (\n            <motion.div\n              key={win.id}\n              className=\"flex items-center justify-between text-sm\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.3 }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <span>{win.avatar}</span>\n                <span className=\"text-gray-300\">{win.username}</span>\n              </div>\n              <div className={`font-bold ${getAmountColor(win.amount)}`}>\n                {win.amount.toLocaleString()}\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default LiveFeed\n","import React from 'react'\nimport { motion } from 'framer-motion'\nimport { Link } from 'react-router-dom'\nimport { HiloLogo } from '../components/HiloLogo'\nimport { WalletButton } from '../components/WalletButton'\nimport { LiveFeed } from '../components/LiveFeed'\n\n/**\n * Home Page Component\n * Hero section with HILO branding and call-to-action\n */\nexport const HomePage: React.FC = () => {\n  const features = [\n    {\n      icon: '🎲',\n      title: 'Provably Fair',\n      description: 'Every roll is verifiable and transparent',\n    },\n    {\n      icon: '👑',\n      title: 'VIP Tiers',\n      description: 'Bronze, Silver, Gold, and Diamond levels',\n    },\n    {\n      icon: '🎯',\n      title: 'Daily Challenges',\n      description: 'Complete challenges to earn bonus tokens',\n    },\n    {\n      icon: '⚡',\n      title: 'Auto-Roll',\n      description: 'Set up automatic rolling with stop conditions',\n    },\n    {\n      icon: '🔊',\n      title: 'Sound Effects',\n      description: 'Immersive audio with customizable settings',\n    },\n    {\n      icon: '🎨',\n      title: 'Dice Skins',\n      description: 'Classic, Neon, and Gold themed dice',\n    },\n    {\n      icon: '📊',\n      title: 'Live Statistics',\n      description: 'Track streaks, wins, and performance',\n    },\n    {\n      icon: '🏆',\n      title: 'Leaderboards',\n      description: 'Compete with players worldwide',\n    },\n  ]\n\n  const stats = [\n    { number: '$2.5M+', label: 'Won Today' },\n    { number: '15K+', label: 'Active Players' },\n    { number: '99.9%', label: 'Uptime' },\n    { number: '50K+', label: 'Games Played' },\n  ]\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Hero Section */}\n      <section className=\"relative min-h-screen flex items-center justify-center overflow-hidden\">\n        {/* Background Effects */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-hilo-black via-hilo-gray to-hilo-black\" />\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,215,0,0.1),transparent_50%)]\" />\n\n        {/* Floating Dice */}\n        <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n          {[...Array(8)].map((_, i) => (\n            <motion.div\n              key={i}\n              className=\"absolute text-4xl md:text-6xl opacity-5\"\n              style={{\n                left: `${Math.random() * 100}%`,\n                top: `${Math.random() * 100}%`,\n              }}\n              animate={{\n                y: [0, -30, 0],\n                rotate: [0, 180, 360],\n                scale: [1, 1.1, 1],\n              }}\n              transition={{\n                duration: 8 + i * 2,\n                repeat: Infinity,\n                repeatType: 'reverse',\n                delay: i * 1.5,\n                ease: \"easeInOut\"\n              }}\n            >\n              🎲\n            </motion.div>\n          ))}\n        </div>\n\n        <div className=\"relative z-10 text-center px-4 max-w-4xl mx-auto\">\n          {/* Logo */}\n          <motion.div\n            initial={{ opacity: 0, y: -50 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 1, ease: 'easeOut' }}\n            className=\"mb-8\"\n          >\n            <HiloLogo size=\"xl\" animated={true} />\n          </motion.div>\n\n          {/* Tagline */}\n          <motion.h1\n            className=\"text-4xl md:text-6xl lg:text-7xl font-bold mb-6\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.3 }}\n          >\n            <span className=\"bg-gradient-to-r from-hilo-gold via-hilo-red to-hilo-green bg-clip-text text-transparent animate-gradient-x\">\n              HIGH OR LOW?\n            </span>\n          </motion.h1>\n\n          {/* CTA Button */}\n          <motion.div\n            className=\"flex justify-center items-center\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.7 }}\n          >\n            <Link to=\"/games\">\n              <motion.button\n                className=\"flex items-center gap-3 px-8 py-4 bg-hilo-gold text-hilo-black rounded-lg font-bold text-lg shadow-lg hover:shadow-hilo-glow-strong transition-all duration-300\"\n                whileHover={{ scale: 1.05, y: -2 }}\n                whileTap={{ scale: 0.95 }}\n              >\n                <span className=\"text-xl\">🎲</span>\n                <span>Start Playing</span>\n              </motion.button>\n            </Link>\n          </motion.div>\n\n          {/* Warning removed for cleaner landing page */}\n        </div>\n      </section>\n\n      {/* Stats Section */}\n      <section className=\"py-16 bg-gradient-to-r from-hilo-gray/50 via-hilo-black to-hilo-gray/50 border-y border-hilo-gray-light/30\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <motion.div\n            className=\"grid grid-cols-2 md:grid-cols-4 gap-8\"\n            initial={{ opacity: 0, y: 50 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8 }}\n            viewport={{ once: true }}\n          >\n            {stats.map((stat, index) => (\n              <motion.div\n                key={stat.label}\n                className=\"text-center p-4 rounded-xl bg-hilo-gray/30 border border-hilo-gray-light/20 hover:border-hilo-gold/30 transition-all duration-300\"\n                initial={{ opacity: 0, y: 30 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: index * 0.1 }}\n                viewport={{ once: true }}\n                whileHover={{ scale: 1.05, y: -2 }}\n              >\n                <div className=\"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-hilo-gold to-hilo-gold-dark bg-clip-text text-transparent mb-2\">\n                  {stat.number}\n                </div>\n                <div className=\"text-gray-300 text-sm md:text-base font-medium\">{stat.label}</div>\n              </motion.div>\n            ))}\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Features Section */}\n      <section className=\"py-24 bg-gradient-to-b from-hilo-black to-hilo-gray/20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <motion.div\n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8 }}\n            viewport={{ once: true }}\n          >\n            <h2 className=\"text-4xl font-bold text-hilo-gold mb-4\">\n              Why Choose HILO?\n            </h2>\n            <p className=\"text-xl text-gray-300 max-w-2xl mx-auto\">\n              Experience the future of online gaming with cutting-edge\n              technology and transparent gameplay.\n            </p>\n          </motion.div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n            {features.map((feature, index) => (\n              <motion.div\n                key={feature.title}\n                className=\"card-hilo text-center group hover:shadow-hilo-glow transition-all duration-300\"\n                initial={{ opacity: 0, y: 30 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: index * 0.1 }}\n                viewport={{ once: true }}\n                whileHover={{ scale: 1.05, y: -5 }}\n              >\n                <div className=\"text-5xl mb-6 group-hover:scale-110 transition-transform duration-300\">{feature.icon}</div>\n                <h3 className=\"text-xl font-bold text-hilo-gold mb-3 group-hover:text-hilo-gold-dark transition-colors\">\n                  {feature.title}\n                </h3>\n                <p className=\"text-gray-300 text-sm leading-relaxed\">{feature.description}</p>\n              </motion.div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Live Feed Section */}\n      <section className=\"py-24 bg-gradient-to-b from-hilo-gray/20 via-hilo-gray to-hilo-gray/20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <motion.div\n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8 }}\n            viewport={{ once: true }}\n          >\n            <h2 className=\"text-4xl font-bold text-hilo-gold mb-4\">\n              Live Wins Feed\n            </h2>\n            <p className=\"text-xl text-gray-300 max-w-2xl mx-auto\">\n              Watch real-time wins from players around the world\n            </p>\n          </motion.div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <LiveFeed />\n\n            <motion.div\n              className=\"bg-gray-900 rounded-lg p-6\"\n              initial={{ opacity: 0, x: 30 }}\n              whileInView={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.8 }}\n              viewport={{ once: true }}\n            >\n              <h3 className=\"text-2xl font-bold text-hilo-gold mb-4\">\n                Enhanced Features\n              </h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"text-2xl\">🎲</div>\n                  <div>\n                    <div className=\"font-semibold text-white\">\n                      Multiple Dice Skins\n                    </div>\n                    <div className=\"text-sm text-gray-400\">\n                      Classic, Neon, and Gold themes\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"text-2xl\">🔊</div>\n                  <div>\n                    <div className=\"font-semibold text-white\">\n                      Sound Effects\n                    </div>\n                    <div className=\"text-sm text-gray-400\">\n                      Immersive audio with mute option\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"text-2xl\">🎉</div>\n                  <div>\n                    <div className=\"font-semibold text-white\">\n                      Confetti Animations\n                    </div>\n                    <div className=\"text-sm text-gray-400\">\n                      Celebrate your big wins\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"text-2xl\">📊</div>\n                  <div>\n                    <div className=\"font-semibold text-white\">\n                      Detailed Statistics\n                    </div>\n                    <div className=\"text-sm text-gray-400\">\n                      Track your streaks and performance\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n\nexport default HomePage\n","import React from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\n\ninterface FloatingResultProps {\n  amount: number\n  isWin: boolean\n  isVisible: boolean\n  onComplete: () => void\n  className?: string\n}\n\n/**\n * FloatingResult Component\n * Shows animated earnings/losses that float up and fade out\n * Similar to slot machine or roulette win displays\n */\nexport const FloatingResult: React.FC<FloatingResultProps> = ({\n  amount,\n  isWin,\n  isVisible,\n  onComplete,\n  className = '',\n}) => {\n  const isPositive = amount > 0\n  const displayAmount = Math.abs(amount)\n\n  const getColorClasses = () => {\n    if (isWin && isPositive) {\n      return 'text-hilo-green bg-hilo-green/20 border-hilo-green/50'\n    } else if (!isWin && !isPositive) {\n      return 'text-hilo-red bg-hilo-red/20 border-hilo-red/50'\n    } else {\n      return 'text-hilo-gold bg-hilo-gold/20 border-hilo-gold/50'\n    }\n  }\n\n  const getGlowEffect = () => {\n    if (isWin && isPositive) {\n      return 'shadow-hilo-glow-green'\n    } else if (!isWin && !isPositive) {\n      return 'shadow-hilo-glow-red'\n    } else {\n      return 'shadow-hilo-glow'\n    }\n  }\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          className={`absolute inset-0 pointer-events-none flex items-center justify-center ${className}`}\n          initial={{ opacity: 0, scale: 0.5 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.8 }}\n          onAnimationComplete={() => {\n            setTimeout(() => onComplete(), 3000)\n          }}\n        >\n          {/* Main Floating Number */}\n          <motion.div\n            className={`\n              px-6 py-3 rounded-xl border-2 font-bold text-2xl\n              ${getColorClasses()}\n              ${getGlowEffect()}\n              backdrop-blur-md\n              shadow-2xl\n              z-50\n            `}\n            animate={{\n              y: [-20, -40, -60, -80],\n              scale: [1, 1.1, 1, 0.9],\n              opacity: [1, 0.9, 0.7, 0],\n              rotate: [0, 2, -2, 0],\n            }}\n            transition={{\n              duration: 2,\n              ease: 'easeOut',\n              times: [0, 0.3, 0.7, 1],\n            }}\n          >\n            <span className=\"flex items-center gap-2\">\n              {isPositive ? '🎉' : '💸'}\n              {isPositive ? '+' : '-'}\n              {displayAmount.toLocaleString()} HILO\n            </span>\n          </motion.div>\n\n          {/* Static Smaller Value (stays for 2 seconds) */}\n          <motion.div\n            className={`\n              absolute top-16 px-3 py-1.5 rounded-lg border\n              ${getColorClasses()}\n              text-base font-semibold\n              backdrop-blur-sm\n              shadow-lg\n              z-40\n            `}\n            initial={{ opacity: 0, scale: 0.8, y: 10 }}\n            animate={{\n              opacity: [0, 1, 1, 1, 0],\n              scale: [0.8, 1.05, 1, 1, 0.8],\n              y: [10, 0, 0, 0, -5],\n            }}\n            transition={{\n              duration: 2.5,\n              times: [0, 0.2, 0.3, 0.8, 1],\n              ease: 'easeInOut',\n            }}\n          >\n            {isPositive ? '+' : '-'}\n            {displayAmount.toLocaleString()}\n          </motion.div>\n\n          {/* Enhanced Particle Effects for Wins */}\n          {isWin && isPositive && (\n            <motion.div\n              className=\"absolute inset-0 pointer-events-none\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              {/* Gold Coins */}\n              {[...Array(12)].map((_, i) => (\n                <motion.div\n                  key={`coin-${i}`}\n                  className=\"absolute w-3 h-3 bg-hilo-gold rounded-full shadow-lg\"\n                  style={{\n                    left: '50%',\n                    top: '50%',\n                  }}\n                  animate={{\n                    x: [0, (Math.random() - 0.5) * 150],\n                    y: [0, -Math.random() * 120 - 60],\n                    scale: [1, 1.2, 0],\n                    opacity: [1, 0.8, 0],\n                    rotate: [0, 360, 720],\n                  }}\n                  transition={{\n                    duration: 2,\n                    delay: i * 0.08,\n                    ease: 'easeOut',\n                  }}\n                />\n              ))}\n\n              {/* Sparkles */}\n              {[...Array(20)].map((_, i) => (\n                <motion.div\n                  key={`sparkle-${i}`}\n                  className=\"absolute w-1 h-1 bg-white rounded-full\"\n                  style={{\n                    left: '50%',\n                    top: '50%',\n                  }}\n                  animate={{\n                    x: [0, (Math.random() - 0.5) * 200],\n                    y: [0, -Math.random() * 100 - 50],\n                    scale: [0, 1, 0],\n                    opacity: [0, 1, 0],\n                  }}\n                  transition={{\n                    duration: 1.5,\n                    delay: i * 0.05,\n                    ease: 'easeOut',\n                  }}\n                />\n              ))}\n            </motion.div>\n          )}\n\n          {/* Enhanced Loss Shake Effect */}\n          {!isWin && !isPositive && (\n            <motion.div\n              className=\"absolute inset-0 pointer-events-none\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <motion.div\n                className=\"absolute inset-0 bg-hilo-red/20 rounded-2xl\"\n                animate={{\n                  x: [-3, 3, -3, 3, -2, 2, 0],\n                  y: [-2, 2, -2, 2, -1, 1, 0],\n                  scale: [1, 1.05, 1, 1.02, 1],\n                  opacity: [0.4, 0.1, 0.4, 0.1, 0.3, 0.1, 0],\n                }}\n                transition={{\n                  duration: 1.2,\n                  ease: 'easeInOut',\n                }}\n              />\n\n              {/* Loss Particles */}\n              {[...Array(6)].map((_, i) => (\n                <motion.div\n                  key={`loss-${i}`}\n                  className=\"absolute w-2 h-2 bg-hilo-red/60 rounded-full\"\n                  style={{\n                    left: '50%',\n                    top: '50%',\n                  }}\n                  animate={{\n                    x: [0, (Math.random() - 0.5) * 80],\n                    y: [0, Math.random() * 60 + 30],\n                    scale: [1, 0.5, 0],\n                    opacity: [1, 0.5, 0],\n                  }}\n                  transition={{\n                    duration: 1,\n                    delay: i * 0.1,\n                    ease: 'easeOut',\n                  }}\n                />\n              ))}\n            </motion.div>\n          )}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n\nexport default FloatingResult\n","import React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { FloatingResult } from './FloatingResult'\r\nimport { formatCurrency } from '../lib/utils'\r\n\r\ninterface Dice3DProps {\r\n  targetNumber: number\r\n  isRolling: boolean\r\n  onRollEnd: () => void\r\n  onWin?: () => void\r\n  onLoss?: () => void\r\n  won?: boolean\r\n  betAmount?: number\r\n  winnings?: number\r\n  className?: string\r\n  soundEnabled?: boolean\r\n  muted?: boolean\r\n  skin?: 'classic' | 'neon' | 'gold'\r\n  masterVolume?: number\r\n}\r\n\r\n/**\r\n * 3D Dice Component with Physics-like Animation\r\n * Creates a realistic dice rolling experience with proper landing on target number\r\n */\r\nexport const Dice3D: React.FC<Dice3DProps> = ({\r\n  targetNumber,\r\n  isRolling,\r\n  onRollEnd,\r\n  onWin,\r\n  onLoss,\r\n  won,\r\n  betAmount = 0,\r\n  winnings = 0,\r\n  className = '',\r\n  soundEnabled = true,\r\n  muted = false,\r\n  skin = 'classic',\r\n  masterVolume = 100,\r\n}) => {\r\n  const [currentFace, setCurrentFace] = useState(1)\r\n  const [showResult, setShowResult] = useState(false)\r\n  const [animationComplete, setAnimationComplete] = useState(false)\r\n  const [showFloatingResult, setShowFloatingResult] = useState(false)\r\n  const [isLanding, setIsLanding] = useState(false)\r\n\r\n  // Sound effects with proper error handling\r\n  const playSound = React.useCallback((sound: 'roll' | 'win' | 'lose') => {\r\n    if (!soundEnabled || muted) return\r\n\r\n    try {\r\n      const AudioContext = window.AudioContext || (window as any).webkitAudioContext\r\n      if (!AudioContext) return\r\n\r\n      const audioContext = new AudioContext()\r\n      const oscillator = audioContext.createOscillator()\r\n      const gainNode = audioContext.createGain()\r\n\r\n      oscillator.connect(gainNode)\r\n      gainNode.connect(audioContext.destination)\r\n\r\n      // Scale all gains by master volume (0-100)\r\n      const volumeScale = Math.max(0, Math.min(1, masterVolume / 100))\r\n\r\n      switch (sound) {\r\n        case 'roll':\r\n          oscillator.frequency.setValueAtTime(200, audioContext.currentTime)\r\n          oscillator.frequency.exponentialRampToValueAtTime(\r\n            400,\r\n            audioContext.currentTime + 0.1\r\n          )\r\n          gainNode.gain.setValueAtTime(0.1 * volumeScale, audioContext.currentTime)\r\n          gainNode.gain.exponentialRampToValueAtTime(\r\n            0.01 * volumeScale,\r\n            audioContext.currentTime + 0.1\r\n          )\r\n          oscillator.start()\r\n          oscillator.stop(audioContext.currentTime + 0.1)\r\n          break\r\n        case 'win':\r\n          // Win chime sound\r\n          oscillator.frequency.setValueAtTime(523, audioContext.currentTime) // C5\r\n          oscillator.frequency.setValueAtTime(\r\n            659,\r\n            audioContext.currentTime + 0.1\r\n          ) // E5\r\n          oscillator.frequency.setValueAtTime(\r\n            784,\r\n            audioContext.currentTime + 0.2\r\n          ) // G5\r\n          oscillator.frequency.setValueAtTime(\r\n            1047,\r\n            audioContext.currentTime + 0.3\r\n          ) // C6\r\n          gainNode.gain.setValueAtTime(0.2 * volumeScale, audioContext.currentTime)\r\n          gainNode.gain.exponentialRampToValueAtTime(\r\n            0.01 * volumeScale,\r\n            audioContext.currentTime + 0.4\r\n          )\r\n          oscillator.start()\r\n          oscillator.stop(audioContext.currentTime + 0.4)\r\n          break\r\n        case 'lose':\r\n          // Muted thud sound\r\n          oscillator.frequency.setValueAtTime(150, audioContext.currentTime)\r\n          oscillator.frequency.exponentialRampToValueAtTime(\r\n            80,\r\n            audioContext.currentTime + 0.3\r\n          )\r\n          gainNode.gain.setValueAtTime(0.1 * volumeScale, audioContext.currentTime)\r\n          gainNode.gain.exponentialRampToValueAtTime(\r\n            0.01 * volumeScale,\r\n            audioContext.currentTime + 0.3\r\n          )\r\n          oscillator.start()\r\n          oscillator.stop(audioContext.currentTime + 0.3)\r\n          break\r\n      }\r\n    } catch (error) {\r\n      // Silently fail for audio - not critical functionality\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.warn('Audio playback failed:', error)\r\n      }\r\n    }\r\n  }, [soundEnabled, muted, masterVolume])\r\n\r\n  // Simple dice face display\r\n\r\n  // Update currentFace when targetNumber changes (when not rolling)\r\n  useEffect(() => {\r\n    if (!isRolling && targetNumber) {\r\n      setCurrentFace(targetNumber)\r\n      if (won !== null && won !== undefined) {\r\n        setShowResult(true)\r\n      }\r\n    }\r\n  }, [targetNumber, isRolling, won])\r\n\r\n  // Reset dice state when a new game starts (isRolling becomes true)\r\n  useEffect(() => {\r\n    if (isRolling) {\r\n      setShowResult(false)\r\n      setAnimationComplete(false)\r\n      setShowFloatingResult(false)\r\n      setIsLanding(false)\r\n    }\r\n  }, [isRolling])\r\n\r\n  // Handle rolling animation\r\n  useEffect(() => {\r\n    if (!isRolling) return\r\n\r\n    setShowResult(false)\r\n    setAnimationComplete(false)\r\n    setShowFloatingResult(false)\r\n\r\n    // Play roll sound\r\n    playSound('roll')\r\n\r\n    // Random dice faces during rolling\r\n    const rollInterval = setInterval(() => {\r\n      setCurrentFace(Math.floor(Math.random() * 6) + 1)\r\n    }, 80) // Slightly faster for smoother animation\r\n\r\n    // Stop rolling after 1.8 seconds and land on target\r\n    const rollTimeout = setTimeout(() => {\r\n      clearInterval(rollInterval)\r\n      // Set landing state for smooth transition\r\n      setIsLanding(true)\r\n      // Immediately set the target number to prevent dice from disappearing\r\n      setCurrentFace(targetNumber)\r\n\r\n      // Small delay to let the motion animation finish smoothly\r\n      const resultTimeout = setTimeout(() => {\r\n        // Show results after dice lands\r\n        setShowResult(true)\r\n        if (won === true) {\r\n          playSound('win')\r\n          onWin?.()\r\n        } else if (won === false) {\r\n          playSound('lose')\r\n          onLoss?.()\r\n        }\r\n        setAnimationComplete(true)\r\n        setShowFloatingResult(true)\r\n        onRollEnd()\r\n      }, 200) // Small delay for smooth transition\r\n\r\n      // Cleanup result timeout on unmount\r\n      return () => clearTimeout(resultTimeout)\r\n    }, 1800) // 1.8 second roll duration\r\n\r\n    return () => {\r\n      clearInterval(rollInterval)\r\n      clearTimeout(rollTimeout)\r\n    }\r\n  }, [isRolling, targetNumber, won, onWin, onLoss, onRollEnd, playSound])\r\n\r\n  // Simple dice display\r\n\r\n  const getSkinClasses = (skinType: 'classic' | 'neon' | 'gold') => {\r\n    switch (skinType) {\r\n      case 'neon':\r\n        return 'bg-gradient-to-br from-cyan-500 to-blue-600 border-cyan-400 shadow-cyan-500/50'\r\n      case 'gold':\r\n        return 'bg-gradient-to-br from-yellow-400 to-yellow-600 border-yellow-400 shadow-yellow-500/50'\r\n      default:\r\n        return 'bg-hilo-black border-hilo-gold shadow-hilo-glow'\r\n    }\r\n  }\r\n\r\n  const neutralSkinClasses = getSkinClasses(skin)\r\n  const dotColorDefault = skin === 'classic' ? 'bg-white' : 'bg-black'\r\n\r\n  return (\r\n    <div className={`relative ${className}`}>\r\n      {/* Simple Dice Container */}\r\n      <div className=\"relative w-32 h-32 mx-auto mb-6 flex items-center justify-center\">\r\n        {/* Simple Dice */}\r\n        <div className=\"absolute inset-0 flex items-center justify-center\">\r\n          <motion.div\r\n            className=\"relative w-20 h-20\"\r\n            animate={\r\n              isRolling\r\n                ? {\r\n                    rotate: [0, 180, 360, 540, 720],\r\n                    scale: [1, 1.1, 0.9, 1.05, 1],\r\n                    y: [0, -8, 4, -6, 0],\r\n                  }\r\n                : {\r\n                    rotate: 0,\r\n                    scale: 1,\r\n                    y: 0,\r\n                  }\r\n            }\r\n            transition={\r\n              isRolling\r\n                ? {\r\n                    duration: 1.5,\r\n                    ease: 'easeInOut',\r\n                  }\r\n                : {\r\n                    duration: 0.3,\r\n                    ease: 'easeOut',\r\n                  }\r\n            }\r\n          >\r\n            {/* Simple Dice */}\r\n            <div\r\n              className={`w-full h-full rounded-lg shadow-lg border-2 transition-all duration-300 flex items-center justify-center ${\r\n                showResult && won === true\r\n                  ? 'bg-green-500 border-green-600 shadow-green-500/30'\r\n                  : showResult && won === false\r\n                    ? 'bg-red-500 border-red-600 shadow-red-500/30'\r\n                    : neutralSkinClasses\r\n              }`}\r\n            >\r\n              {/* Dice Dots */}\r\n              <div className=\"grid grid-cols-3 grid-rows-3 gap-1 w-16 h-16\">\r\n                {getDiceDots(Math.max(1, Math.min(6, currentFace))).map((dot, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`w-3 h-3 rounded-full ${\r\n                      dot ? (showResult ? 'bg-black' : dotColorDefault) : 'bg-transparent'\r\n                    }`}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Simple Result Glow */}\r\n            {showResult && (won === true || won === false) && (\r\n              <motion.div\r\n                className={`absolute inset-0 rounded-lg ${\r\n                  won ? 'bg-green-400/20' : 'bg-red-400/20'\r\n                }`}\r\n                initial={{ opacity: 0, scale: 1 }}\r\n                animate={{\r\n                  opacity: [0, 0.4, 0],\r\n                  scale: [1, 1.05, 1],\r\n                }}\r\n                transition={{\r\n                  duration: 0.8,\r\n                  repeat: 1,\r\n                  repeatType: 'reverse',\r\n                }}\r\n              />\r\n            )}\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Simple Shadow */}\r\n        <div className=\"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-16 h-2 bg-black/20 rounded-full\" />\r\n\r\n        {/* Floating Result Display */}\r\n        <FloatingResult\r\n          amount={winnings - betAmount}\r\n          isWin={won || false}\r\n          isVisible={showFloatingResult}\r\n          onComplete={() => setShowFloatingResult(false)}\r\n          className=\"z-50\"\r\n        />\r\n\r\n        {/* Result Display - Cloud bubble next to dice */}\r\n        {showResult && (won === true || won === false) && (\r\n          <motion.div\r\n            className=\"absolute -right-52 top-1/4 transform -translate-y-1/2 z-40\"\r\n            initial={{ opacity: 0, scale: 0.8, x: 20 }}\r\n            animate={{\r\n              opacity: [0, 1, 1, 0],\r\n              scale: [0.8, 1, 1, 0.9],\r\n              x: [20, 0, 0, -10],\r\n            }}\r\n            transition={{\r\n              duration: 6,\r\n              times: [0, 0.1, 0.8, 1],\r\n              ease: 'easeInOut',\r\n            }}\r\n            onAnimationComplete={() => setShowResult(false)}\r\n          >\r\n            <div className=\"relative\">\r\n              {/* Cloud bubble */}\r\n              <div\r\n                className={`\r\n                bg-gradient-to-br from-white/95 to-gray-100/95 backdrop-blur-sm \r\n                rounded-3xl px-4 py-3 shadow-2xl border-2\r\n                ${won ? 'border-green-300 shadow-green-500/30' : 'border-red-300 shadow-red-500/30'}\r\n                relative\r\n              `}\r\n              >\r\n                <div className=\"text-center\">\r\n                  <div\r\n                    className={`text-lg font-bold ${won ? 'text-green-600' : 'text-red-600'} mb-1`}\r\n                  >\r\n                    {won ? '🎉 WIN!' : '💸 LOSE!'}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-700 font-semibold\">\r\n                    {won\r\n                      ? `Rolled: ${currentFace}`\r\n                      : `Amount Lost: ${formatCurrency(betAmount)} HILO`}\r\n                  </div>\r\n                  {won && (\r\n                    <div className=\"text-xs text-green-600 font-bold mt-1\">\r\n                      +{formatCurrency(winnings - betAmount)} HILO\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Cloud tail */}\r\n                <div\r\n                  className={`\r\n                  absolute -left-2 top-1/2 transform -translate-y-1/2 w-0 h-0\r\n                  border-t-8 border-b-8 border-r-8 border-transparent\r\n                  ${won ? 'border-r-green-300' : 'border-r-red-300'}\r\n                `}\r\n                />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Simple Win Effects Only */}\r\n      <AnimatePresence>\r\n        {showResult && won && (\r\n          <motion.div\r\n            className=\"absolute inset-0 pointer-events-none flex items-center justify-center\"\r\n            initial={{ opacity: 0, scale: 0.5 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            exit={{ opacity: 0, scale: 0.5 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <div className=\"text-4xl font-bold text-green-500\">WIN!</div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n\r\n/**\r\n * Generate dice dot pattern for a given face (1-6)\r\n */\r\nfunction getDiceDots(face: number): boolean[] {\r\n  const patterns = {\r\n    1: [false, false, false, false, true, false, false, false, false],\r\n    2: [true, false, false, false, false, false, false, false, true],\r\n    3: [true, false, false, false, true, false, false, false, true],\r\n    4: [true, false, true, false, false, false, true, false, true],\r\n    5: [true, false, true, false, true, false, true, false, true],\r\n    6: [true, false, true, true, false, true, true, false, true],\r\n  }\r\n\r\n  return patterns[face as keyof typeof patterns] || patterns[1]\r\n}\r\n\r\nexport default Dice3D\r\n","import React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { useGameStore } from '../store/gameStore'\r\nimport { getDiceEmoji, formatCurrency } from '../lib/utils'\r\nimport { Dice3D } from './Dice3D'\r\n\r\ninterface DiceRollerProps {\r\n  className?: string\r\n}\r\n\r\n/**\r\n * Dice Roller Component\r\n * Animated dice with physics-like roll animation\r\n *\r\n * @param className - Additional CSS classes\r\n */\r\nexport const DiceRoller: React.FC<DiceRollerProps> = ({ className = '' }) => {\r\n  const {\r\n    lastRoll,\r\n    isRolling,\r\n    lastResult,\r\n    lastWin,\r\n    currentBet,\r\n    selectedDiceSkin,\r\n    masterVolume,\r\n    autoRollEnabled,\r\n    autoRollCount,\r\n    autoRollMax,\r\n    soundEnabled,\r\n    muted,\r\n  } = useGameStore()\r\n\r\n  const [displayRoll, setDisplayRoll] = useState<number>(1)\r\n  const [isAnimating, setIsAnimating] = useState(false)\r\n  const [showConfetti, setShowConfetti] = useState(false)\r\n  const [showResultModal, setShowResultModal] = useState(false)\r\n\r\n  // Play sound effects\r\n  const playSound = (sound: 'roll' | 'win' | 'lose') => {\r\n    if (!soundEnabled || muted) return\r\n\r\n    try {\r\n      const audioContext = new (window.AudioContext ||\r\n        (window as any).webkitAudioContext)()\r\n      const oscillator = audioContext.createOscillator()\r\n      const gainNode = audioContext.createGain()\r\n\r\n      oscillator.connect(gainNode)\r\n      gainNode.connect(audioContext.destination)\r\n\r\n      switch (sound) {\r\n        case 'roll':\r\n          oscillator.frequency.setValueAtTime(200, audioContext.currentTime)\r\n          oscillator.frequency.exponentialRampToValueAtTime(\r\n            400,\r\n            audioContext.currentTime + 0.1\r\n          )\r\n          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime)\r\n          gainNode.gain.exponentialRampToValueAtTime(\r\n            0.01,\r\n            audioContext.currentTime + 0.1\r\n          )\r\n          oscillator.start()\r\n          oscillator.stop(audioContext.currentTime + 0.1)\r\n          break\r\n        case 'win':\r\n          oscillator.frequency.setValueAtTime(523, audioContext.currentTime) // C5\r\n          oscillator.frequency.setValueAtTime(\r\n            659,\r\n            audioContext.currentTime + 0.1\r\n          ) // E5\r\n          oscillator.frequency.setValueAtTime(\r\n            784,\r\n            audioContext.currentTime + 0.2\r\n          ) // G5\r\n          gainNode.gain.setValueAtTime(0.2, audioContext.currentTime)\r\n          gainNode.gain.exponentialRampToValueAtTime(\r\n            0.01,\r\n            audioContext.currentTime + 0.3\r\n          )\r\n          oscillator.start()\r\n          oscillator.stop(audioContext.currentTime + 0.3)\r\n          break\r\n        case 'lose':\r\n          oscillator.frequency.setValueAtTime(200, audioContext.currentTime)\r\n          oscillator.frequency.exponentialRampToValueAtTime(\r\n            100,\r\n            audioContext.currentTime + 0.2\r\n          )\r\n          gainNode.gain.setValueAtTime(0.15, audioContext.currentTime)\r\n          gainNode.gain.exponentialRampToValueAtTime(\r\n            0.01,\r\n            audioContext.currentTime + 0.2\r\n          )\r\n          oscillator.start()\r\n          oscillator.stop(audioContext.currentTime + 0.2)\r\n          break\r\n      }\r\n    } catch (error) {\r\n      // Silently fail for audio - not critical functionality\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.warn('Audio playback failed:', error)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Update display roll when game state changes\r\n  useEffect(() => {\r\n    if (lastRoll && lastRoll >= 1 && lastRoll <= 6) {\r\n      setDisplayRoll(lastRoll)\r\n    }\r\n  }, [lastRoll])\r\n\r\n  // Handle rolling animation and sounds\r\n  useEffect(() => {\r\n    if (isRolling) {\r\n      setIsAnimating(true)\r\n      playSound('roll')\r\n      // Show random dice during animation\r\n      const interval = setInterval(() => {\r\n        setDisplayRoll(Math.floor(Math.random() * 6) + 1)\r\n      }, 100)\r\n\r\n      return () => clearInterval(interval)\r\n    } else {\r\n      setIsAnimating(false)\r\n    }\r\n  }, [isRolling])\r\n\r\n  const getDiceSkinStyles = (skin: string) => {\r\n    switch (skin) {\r\n      case 'neon':\r\n        return 'bg-gradient-to-br from-cyan-500 to-blue-600 border-cyan-400 shadow-cyan-500/50'\r\n      case 'gold':\r\n        return 'bg-gradient-to-br from-yellow-400 to-yellow-600 border-yellow-400 shadow-yellow-500/50'\r\n      default: // classic\r\n        return 'bg-hilo-black border-hilo-gold shadow-hilo-glow'\r\n    }\r\n  }\r\n\r\n  const diceVariants = {\r\n    initial: {\r\n      rotate: 0,\r\n      scale: 1,\r\n      y: 0,\r\n    },\r\n    rolling: {\r\n      rotate: [0, 180, 360, 540, 720],\r\n      scale: [1, 1.2, 0.8, 1.1, 1],\r\n      y: [0, -10, 10, -5, 0],\r\n      transition: {\r\n        duration: 2,\r\n        ease: 'easeInOut',\r\n        times: [0, 0.2, 0.4, 0.6, 1],\r\n      },\r\n    },\r\n    landed: {\r\n      rotate: 0,\r\n      scale: 1,\r\n      y: 0,\r\n      transition: {\r\n        type: 'spring',\r\n        stiffness: 200,\r\n        damping: 20,\r\n      },\r\n    },\r\n  }\r\n\r\n  const resultVariants = {\r\n    hidden: {\r\n      opacity: 0,\r\n      scale: 0.8,\r\n      y: 20,\r\n    },\r\n    visible: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      y: 0,\r\n      transition: {\r\n        type: 'spring',\r\n        stiffness: 300,\r\n        damping: 20,\r\n        delay: 0.5,\r\n      },\r\n    },\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`dice-container relative flex flex-col items-center justify-center ${className}`}\r\n      data-testid=\"dice-container\"\r\n    >\r\n      {/* Auto-roll indicator */}\r\n      {autoRollEnabled && (\r\n        <motion.div\r\n          className=\"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-hilo-red text-white text-xs px-3 py-2 rounded-full z-10 shadow-lg\"\r\n          initial={{ opacity: 0, scale: 0.8 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n        >\r\n          Auto: {autoRollCount}/{autoRollMax}\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* 3D Dice Display */}\r\n      <div className=\"flex justify-center items-center w-full\">\r\n        <Dice3D\r\n          targetNumber={lastRoll || 1}\r\n          isRolling={isRolling}\r\n          onRollEnd={() => {\r\n            // Show result modal after dice animation completes\r\n            if (lastWin === true || lastWin === false) {\r\n              setShowResultModal(true)\r\n            }\r\n          }}\r\n          onWin={() => {\r\n            setShowConfetti(true)\r\n            setTimeout(() => setShowConfetti(false), 3000)\r\n          }}\r\n          onLoss={() => {\r\n            // Loss effects handled by Dice3D\r\n          }}\r\n          won={lastWin === true || lastWin === false ? lastWin : undefined}\r\n          betAmount={currentBet}\r\n          winnings={lastWin ? currentBet * 1.98 : 0}\r\n          soundEnabled={soundEnabled}\r\n          muted={muted}\r\n          masterVolume={masterVolume}\r\n          skin={selectedDiceSkin as any}\r\n          className=\"\"\r\n        />\r\n      </div>\r\n\r\n      {/* Confetti Animation */}\r\n      <AnimatePresence>\r\n        {showConfetti && (\r\n          <motion.div\r\n            className=\"absolute inset-0 pointer-events-none z-20\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n          >\r\n            {[...Array(20)].map((_, i) => (\r\n              <motion.div\r\n                key={i}\r\n                className=\"absolute w-2 h-2 bg-hilo-gold rounded-full\"\r\n                style={{\r\n                  left: `${Math.random() * 100}%`,\r\n                  top: `${Math.random() * 100}%`,\r\n                }}\r\n                animate={{\r\n                  y: [-20, 100],\r\n                  x: [0, (Math.random() - 0.5) * 100],\r\n                  rotate: [0, 360],\r\n                  scale: [1, 0],\r\n                }}\r\n                transition={{\r\n                  duration: 2,\r\n                  delay: Math.random() * 0.5,\r\n                  ease: 'easeOut',\r\n                }}\r\n              />\r\n            ))}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Result Modal */}\r\n      <AnimatePresence>\r\n        {showResultModal && (\r\n          <motion.div\r\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={() => setShowResultModal(false)}\r\n          >\r\n            <motion.div\r\n              className=\"bg-gray-900 rounded-lg p-8 max-w-md w-full mx-4 text-center border-2 border-hilo-gold shadow-2xl\"\r\n              initial={{ scale: 0.5, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.5, opacity: 0 }}\r\n              transition={{ type: 'spring', stiffness: 300, damping: 30 }}\r\n              onClick={e => e.stopPropagation()}\r\n            >\r\n              {/* Result Icon */}\r\n              <motion.div\r\n                className=\"text-8xl mb-4\"\r\n                animate={{\r\n                  scale: [1, 1.2, 1],\r\n                  rotate: [0, 10, -10, 0],\r\n                }}\r\n                transition={{\r\n                  duration: 0.6,\r\n                  repeat: 2,\r\n                  repeatType: 'reverse',\r\n                }}\r\n              >\r\n                {lastWin ? '🎉' : '😞'}\r\n              </motion.div>\r\n\r\n              {/* Result Text */}\r\n              <motion.h2\r\n                className={`text-4xl font-bold mb-4 ${\r\n                  lastWin ? 'text-hilo-green' : 'text-hilo-red'\r\n                }`}\r\n                initial={{ y: 20, opacity: 0 }}\r\n                animate={{ y: 0, opacity: 1 }}\r\n                transition={{ delay: 0.2 }}\r\n              >\r\n                {lastWin ? 'YOU WIN!' : 'YOU LOSE!'}\r\n              </motion.h2>\r\n\r\n              {/* Roll Details */}\r\n              <motion.div\r\n                className=\"text-lg text-gray-300 mb-6\"\r\n                initial={{ y: 20, opacity: 0 }}\r\n                animate={{ y: 0, opacity: 1 }}\r\n                transition={{ delay: 0.4 }}\r\n              >\r\n                <div className=\"mb-2\">\r\n                  <span className=\"text-hilo-gold font-semibold\">\r\n                    {lastWin ? 'Roll:' : 'Amount Lost:'}\r\n                  </span>{' '}\r\n                  {lastWin ? lastRoll : `${formatCurrency(currentBet)} HILO`}\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <span className=\"text-hilo-gold font-semibold\">Result:</span>{' '}\r\n                  {lastResult?.toUpperCase()}\r\n                </div>\r\n                {lastWin && (\r\n                  <div className=\"text-hilo-green font-semibold\">\r\n                    <span className=\"text-hilo-gold\">Multiplier:</span> 1.98x\r\n                  </div>\r\n                )}\r\n              </motion.div>\r\n\r\n              {/* OK Button */}\r\n              <motion.button\r\n                onClick={() => setShowResultModal(false)}\r\n                className={`px-8 py-3 rounded-lg font-bold text-xl transition-all duration-300 ${\r\n                  lastWin\r\n                    ? 'bg-hilo-green text-white hover:bg-hilo-green/80 hover:shadow-hilo-glow-green'\r\n                    : 'bg-hilo-red text-white hover:bg-hilo-red/80 hover:shadow-hilo-glow-red'\r\n                }`}\r\n                initial={{ y: 20, opacity: 0 }}\r\n                animate={{ y: 0, opacity: 1 }}\r\n                transition={{ delay: 0.6 }}\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                OK\r\n              </motion.button>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DiceRoller\r\n","import React, { useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useGameStore } from '../store/gameStore'\nimport { formatCurrency } from '../lib/utils'\nimport DiceRoller from '../components/DiceRoller'\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\nimport { WalletRequiredModal } from '../components/WalletRequiredModal'\n\n/**\n * Game Page Component\n * Main dice game interface with betting and rolling functionality\n */\nexport const GamePage: React.FC = () => {\n  const {\n    currentBet,\n    selectedSide,\n    isRolling,\n    lastWin,\n    balance,\n    setBet,\n    selectSide,\n    rollDice,\n    resetGame,\n    gameHistory,\n  } = useGameStore()\n\n  const [betAmount, setBetAmount] = useState(currentBet.toString())\n  const { connected } = useWalletContext() as any\n  const [showWalletRequired, setShowWalletRequired] = useState(false)\n\n  const handleBetChange = (value: string) => {\n    const numValue = parseInt(value) || 0\n    setBetAmount(value)\n    setBet(numValue)\n  }\n\n  const handleSideSelect = (side: 'high' | 'low') => {\n    if (!isRolling) {\n      selectSide(side)\n    }\n  }\n\n  const handleRoll = async () => {\n    if (!connected) {\n      setShowWalletRequired(true)\n      return\n    }\n    if (selectedSide && currentBet > 0 && currentBet <= balance && !isRolling) {\n      await rollDice()\n    }\n  }\n\n  const quickBets = [10, 25, 50, 100, 250, 500]\n\n  return (\n    <div className=\"min-h-screen py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <motion.div\n          className=\"text-center mb-12\"\n          initial={{ opacity: 0, y: -30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <h1 className=\"text-4xl font-bold text-hilo-gold mb-4\">\n            🎲 Dice High/Low\n          </h1>\n          <p className=\"text-xl text-gray-300\">\n            Choose your side and roll the dice!\n          </p>\n        </motion.div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Game Area */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card-hilo-glow\">\n              {/* Balance Display */}\n              <motion.div\n                className=\"text-center mb-8\"\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ duration: 0.5 }}\n              >\n                <div className=\"text-2xl font-bold text-hilo-gold\">\n                  Balance: {formatCurrency(balance)}\n                </div>\n              </motion.div>\n\n              {/* Bet Amount Input */}\n              <div className=\"mb-8\">\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Bet Amount\n                </label>\n                <div className=\"flex gap-2 mb-4\">\n                  <input\n                    type=\"number\"\n                    value={betAmount}\n                    onChange={e => handleBetChange(e.target.value)}\n                    className=\"flex-1 px-4 py-3 bg-hilo-gray-light border border-hilo-gray-light rounded-lg text-white focus:outline-none focus:border-hilo-gold focus:ring-2 focus:ring-hilo-gold/20\"\n                    placeholder=\"Enter bet amount\"\n                    min=\"1\"\n                    max={balance}\n                    disabled={isRolling}\n                  />\n                  <button\n                    onClick={() => setBet(balance)}\n                    className=\"px-4 py-3 bg-hilo-red text-white rounded-lg hover:bg-hilo-red-dark transition-colors\"\n                    disabled={isRolling}\n                  >\n                    Max\n                  </button>\n                </div>\n\n                {/* Quick Bet Buttons */}\n                <div className=\"flex flex-wrap gap-2\">\n                  {quickBets.map(amount => (\n                    <button\n                      key={amount}\n                      onClick={() => {\n                        setBetAmount(amount.toString())\n                        setBet(amount)\n                      }}\n                      className={`\n                        px-3 py-2 rounded-lg text-sm font-medium transition-all\n                        ${\n                          currentBet === amount\n                            ? 'bg-hilo-gold text-hilo-black'\n                            : 'bg-hilo-gray-light text-gray-300 hover:bg-hilo-gold/20'\n                        }\n                      `}\n                      disabled={isRolling || amount > balance}\n                    >\n                      {formatCurrency(amount)}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Side Selection */}\n              <div className=\"mb-8\">\n                <label className=\"block text-sm font-medium text-gray-300 mb-4\">\n                  Choose Your Side\n                </label>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <motion.button\n                    onClick={() => handleSideSelect('low')}\n                    className={`\n                      p-6 rounded-xl font-bold text-lg transition-all duration-300\n                      ${\n                        selectedSide === 'low'\n                          ? 'bg-hilo-green text-white shadow-hilo-glow-green'\n                          : 'bg-hilo-gray-light text-gray-300 hover:bg-hilo-green/20'\n                      }\n                    `}\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                    disabled={isRolling}\n                  >\n                    <div className=\"text-3xl mb-2\">📉</div>\n                    <div>LOW</div>\n                    <div className=\"text-sm opacity-75\">1-3</div>\n                  </motion.button>\n\n                  <motion.button\n                    onClick={() => handleSideSelect('high')}\n                    className={`\n                      p-6 rounded-xl font-bold text-lg transition-all duration-300\n                      ${\n                        selectedSide === 'high'\n                          ? 'bg-hilo-red text-white shadow-hilo-glow-red'\n                          : 'bg-hilo-gray-light text-gray-300 hover:bg-hilo-red/20'\n                      }\n                    `}\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                    disabled={isRolling}\n                  >\n                    <div className=\"text-3xl mb-2\">📈</div>\n                    <div>HIGH</div>\n                    <div className=\"text-sm opacity-75\">4-6</div>\n                  </motion.button>\n                </div>\n              </div>\n\n              {/* Dice Roller */}\n              <div className=\"mb-12 flex justify-center px-4\">\n                <div className=\"bg-gradient-to-br from-gray-900/50 to-gray-800/50 rounded-3xl p-8 backdrop-blur-sm border border-hilo-gold/20 shadow-2xl w-full max-w-md\">\n                  <DiceRoller />\n                </div>\n              </div>\n\n              {/* Roll Button */}\n              <motion.button\n                onClick={handleRoll}\n                disabled={\n                  !selectedSide ||\n                  !connected ||\n                  currentBet <= 0 ||\n                  currentBet > balance ||\n                  isRolling\n                }\n                className={`\n                  w-full py-4 rounded-xl font-bold text-lg transition-all duration-300\n                  ${\n                    selectedSide && connected &&\n                    currentBet > 0 &&\n                    currentBet <= balance &&\n                    !isRolling\n                      ? 'bg-hilo-gold text-hilo-black hover:bg-hilo-gold-dark hover:shadow-hilo-glow-strong'\n                      : 'bg-hilo-gray-light text-gray-500 cursor-not-allowed'\n                  }\n                `}\n                whileHover={\n                  selectedSide && connected &&\n                  currentBet > 0 &&\n                  currentBet <= balance &&\n                  !isRolling\n                    ? { scale: 1.02 }\n                    : {}\n                }\n                whileTap={\n                  selectedSide && connected &&\n                  currentBet > 0 &&\n                  currentBet <= balance &&\n                  !isRolling\n                    ? { scale: 0.98 }\n                    : {}\n                }\n              >\n                {!connected ? 'Connect Wallet to Play' : isRolling ? 'Rolling...' : '🎲 Roll Dice'}\n              </motion.button>\n\n              {/* Reset Button */}\n              {lastWin !== null && (\n                <motion.button\n                  onClick={resetGame}\n                  className=\"w-full mt-4 py-2 text-hilo-gold hover:text-hilo-gold-dark transition-colors\"\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.5 }}\n                >\n                  Play Again\n                </motion.button>\n              )}\n            </div>\n          </div>\n\n          {/* Enhanced Player History */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-gradient-to-br from-gray-900/90 to-gray-800/90 rounded-2xl p-6 backdrop-blur-sm border border-hilo-gold/20 shadow-2xl\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-2xl font-bold text-hilo-gold flex items-center gap-3\">\n                  <span className=\"text-3xl\">📊</span>\n                  Player History\n                </h3>\n                <div className=\"text-sm text-gray-400 bg-gray-800/50 px-3 py-1 rounded-full\">\n                  Last {Math.min(gameHistory.length, 10)} games\n                </div>\n              </div>\n\n              <div className=\"space-y-3 max-h-96 overflow-y-auto custom-scrollbar\">\n                <AnimatePresence>\n                  {gameHistory.length === 0 ? (\n                    <motion.div\n                      initial={{ opacity: 0, scale: 0.9 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      className=\"text-center py-12\"\n                    >\n                      <div className=\"text-6xl mb-4\">🎲</div>\n                      <p className=\"text-gray-400 text-lg font-medium\">\n                        No games played yet\n                      </p>\n                      <p className=\"text-gray-500 text-sm mt-2\">\n                        Start playing to see your history here!\n                      </p>\n                    </motion.div>\n                  ) : (\n                    gameHistory.slice(0, 10).map((game, index) => (\n                      <motion.div\n                        key={game.id}\n                        className={`\n                          p-4 rounded-xl border transition-all duration-300 hover:scale-[1.02] hover:shadow-lg\n                          ${\n                            game.won\n                              ? 'border-hilo-green/40 bg-gradient-to-r from-hilo-green/10 to-hilo-gold/5'\n                              : 'border-hilo-red/40 bg-gradient-to-r from-hilo-red/10 to-gray-800/20'\n                          }\n                        `}\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, y: -20 }}\n                        transition={{ delay: index * 0.1, duration: 0.3 }}\n                      >\n                        <div className=\"flex justify-between items-center\">\n                          <div className=\"flex items-center gap-4\">\n                            <div className=\"flex flex-col items-center\">\n                              <div\n                                className={`w-4 h-4 rounded-full ${game.won ? 'bg-hilo-green' : 'bg-hilo-red'} shadow-lg`}\n                              />\n                              <div className=\"text-xs text-gray-400 mt-1\">\n                                #{gameHistory.length - index}\n                              </div>\n                            </div>\n\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"text-2xl\">\n                                {game.roll === 1\n                                  ? '⚀'\n                                  : game.roll === 2\n                                    ? '⚁'\n                                    : game.roll === 3\n                                      ? '⚂'\n                                      : game.roll === 4\n                                        ? '⚃'\n                                        : game.roll === 5\n                                          ? '⚄'\n                                          : '⚅'}\n                              </div>\n                              <div>\n                                <div className=\"font-semibold text-white flex items-center gap-2\">\n                                  <span className=\"text-lg\">\n                                    {game.side === 'high' ? '📈' : '📉'}\n                                  </span>\n                                  {game.side.toUpperCase()}\n                                </div>\n                                <div className=\"text-sm text-gray-400\">\n                                  Bet:{' '}\n                                  <span className=\"font-mono text-hilo-gold\">\n                                    {formatCurrency(game.bet)}\n                                  </span>\n                                  <span className=\"mx-2\">•</span>\n                                  Result:{' '}\n                                  <span className=\"font-mono\">\n                                    {game.result.toUpperCase()}\n                                  </span>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"text-right\">\n                            <div\n                              className={`text-lg font-bold ${game.won ? 'text-hilo-green' : 'text-hilo-red'}`}\n                            >\n                              {game.won ? '+' : '-'}\n                              {formatCurrency(game.bet * game.multiplier)}\n                            </div>\n                            <div className=\"text-xs text-gray-400\">\n                              {new Date(game.timestamp).toLocaleString()}\n                            </div>\n                            {game.won && (\n                              <div className=\"text-xs text-hilo-gold font-semibold\">\n                                {game.multiplier}x Multiplier\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </motion.div>\n                    ))\n                  )}\n                </AnimatePresence>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <WalletRequiredModal\n        isOpen={showWalletRequired}\n        onClose={() => setShowWalletRequired(false)}\n        featureName=\"playing the Dice game\"\n      />\n    </div>\n  )\n}\n\nexport default GamePage\n","import React from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport {\r\n  X,\r\n  Dice1,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  Info,\r\n  Trophy,\r\n  Zap,\r\n} from 'lucide-react'\r\n\r\ninterface GameRulesModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nexport const GameRulesModal: React.FC<GameRulesModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n}) => {\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div\r\n          className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          onClick={onClose}\r\n        >\r\n          <motion.div\r\n            className=\"bg-gray-900 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700 shadow-2xl\"\r\n            initial={{ scale: 0.9, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            exit={{ scale: 0.9, opacity: 0 }}\r\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n            onClick={e => e.stopPropagation()}\r\n          >\r\n            {/* Header */}\r\n            <div className=\"sticky top-0 bg-gray-900 border-b border-gray-700 p-6 rounded-t-2xl\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-hilo-gold flex items-center gap-3\">\r\n                  <Dice1 className=\"w-8 h-8\" />\r\n                  How to Play HILO Dice\r\n                </h2>\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-2 hover:bg-gray-800 rounded-lg transition-colors\"\r\n                >\r\n                  <X className=\"w-6 h-6 text-gray-400\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Objective */}\r\n              <section>\r\n                <h3 className=\"text-xl font-semibold text-white mb-3 flex items-center gap-2\">\r\n                  <Trophy className=\"w-5 h-5 text-hilo-gold\" />\r\n                  Objective\r\n                </h3>\r\n                <p className=\"text-gray-300 leading-relaxed\">\r\n                  Predict whether the dice will roll HIGH (4-6) or LOW (1-3). If\r\n                  you guess correctly, you win! The game uses a 1.98x multiplier\r\n                  with a 2% house edge for fair gameplay.\r\n                </p>\r\n              </section>\r\n\r\n              {/* How to Play */}\r\n              <section>\r\n                <h3 className=\"text-xl font-semibold text-white mb-3 flex items-center gap-2\">\r\n                  <Zap className=\"w-5 h-5 text-hilo-gold\" />\r\n                  How to Play\r\n                </h3>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex-shrink-0 w-8 h-8 bg-hilo-gold text-hilo-black rounded-full flex items-center justify-center font-bold text-sm\">\r\n                      1\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-white mb-1\">\r\n                        Set Your Bet\r\n                      </h4>\r\n                      <p className=\"text-gray-300 text-sm\">\r\n                        Choose your bet amount using the input field or quick\r\n                        bet buttons. You can bet between 1 and your total HILO\r\n                        tokens.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex-shrink-0 w-8 h-8 bg-hilo-gold text-hilo-black rounded-full flex items-center justify-center font-bold text-sm\">\r\n                      2\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-white mb-1\">\r\n                        Choose Your Side\r\n                      </h4>\r\n                      <p className=\"text-gray-300 text-sm\">\r\n                        Select either HIGH (4-6) or LOW (1-3) to predict the\r\n                        dice outcome.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex-shrink-0 w-8 h-8 bg-hilo-gold text-hilo-black rounded-full flex items-center justify-center font-bold text-sm\">\r\n                      3\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-white mb-1\">\r\n                        Roll the Dice\r\n                      </h4>\r\n                      <p className=\"text-gray-300 text-sm\">\r\n                        Click the &quot;Roll Dice&quot; button and watch the 3D\r\n                        dice animation. The dice will land on a number between\r\n                        1-6.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex-shrink-0 w-8 h-8 bg-hilo-gold text-hilo-black rounded-full flex items-center justify-center font-bold text-sm\">\r\n                      4\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-white mb-1\">\r\n                        Collect Winnings\r\n                      </h4>\r\n                      <p className=\"text-gray-300 text-sm\">\r\n                        If you guessed correctly, you win 1.98x your bet amount!\r\n                        Your winnings are automatically added to your balance.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n              {/* Betting Options */}\r\n              <section>\r\n                <h3 className=\"text-xl font-semibold text-white mb-3 flex items-center gap-2\">\r\n                  <TrendingUp className=\"w-5 h-5 text-hilo-gold\" />\r\n                  Betting Options\r\n                </h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div className=\"bg-green-900/20 border border-green-500/30 rounded-lg p-4\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                      <TrendingUp className=\"w-5 h-5 text-green-400\" />\r\n                      <h4 className=\"font-semibold text-green-400\">\r\n                        HIGH (4-6)\r\n                      </h4>\r\n                    </div>\r\n                    <p className=\"text-gray-300 text-sm\">\r\n                      Bet that the dice will land on 4, 5, or 6. Win rate: ~49%\r\n                      (accounting for house edge)\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"bg-red-900/20 border border-red-500/30 rounded-lg p-4\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                      <TrendingDown className=\"w-5 h-5 text-red-400\" />\r\n                      <h4 className=\"font-semibold text-red-400\">LOW (1-3)</h4>\r\n                    </div>\r\n                    <p className=\"text-gray-300 text-sm\">\r\n                      Bet that the dice will land on 1, 2, or 3. Win rate: ~49%\r\n                      (accounting for house edge)\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n              {/* Payouts */}\r\n              <section>\r\n                <h3 className=\"text-xl font-semibold text-white mb-3 flex items-center gap-2\">\r\n                  <Trophy className=\"w-5 h-5 text-hilo-gold\" />\r\n                  Payouts & Odds\r\n                </h3>\r\n                <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-300\">Multiplier</span>\r\n                      <span className=\"text-hilo-gold font-bold\">1.98x</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-300\">House Edge</span>\r\n                      <span className=\"text-gray-400\">2%</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-300\">Win Probability</span>\r\n                      <span className=\"text-green-400\">~49%</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-gray-300\">Loss Probability</span>\r\n                      <span className=\"text-red-400\">~51%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n              {/* Keyboard Shortcuts */}\r\n              <section>\r\n                <h3 className=\"text-xl font-semibold text-white mb-3 flex items-center gap-2\">\r\n                  <Zap className=\"w-5 h-5 text-hilo-gold\" />\r\n                  Keyboard Shortcuts\r\n                </h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                  <div className=\"flex justify-between items-center bg-gray-800 rounded-lg p-3\">\r\n                    <span className=\"text-gray-300\">Roll Dice</span>\r\n                    <kbd className=\"px-2 py-1 bg-gray-700 rounded text-xs\">\r\n                      Enter\r\n                    </kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center bg-gray-800 rounded-lg p-3\">\r\n                    <span className=\"text-gray-300\">Select HIGH</span>\r\n                    <kbd className=\"px-2 py-1 bg-gray-700 rounded text-xs\">\r\n                      H\r\n                    </kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center bg-gray-800 rounded-lg p-3\">\r\n                    <span className=\"text-gray-300\">Select LOW</span>\r\n                    <kbd className=\"px-2 py-1 bg-gray-700 rounded text-xs\">\r\n                      L\r\n                    </kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center bg-gray-800 rounded-lg p-3\">\r\n                    <span className=\"text-gray-300\">Quick Bet 10</span>\r\n                    <kbd className=\"px-2 py-1 bg-gray-700 rounded text-xs\">\r\n                      1\r\n                    </kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center bg-gray-800 rounded-lg p-3\">\r\n                    <span className=\"text-gray-300\">Quick Bet 50</span>\r\n                    <kbd className=\"px-2 py-1 bg-gray-700 rounded text-xs\">\r\n                      5\r\n                    </kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center bg-gray-800 rounded-lg p-3\">\r\n                    <span className=\"text-gray-300\">Max Bet</span>\r\n                    <kbd className=\"px-2 py-1 bg-gray-700 rounded text-xs\">\r\n                      M\r\n                    </kbd>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n              {/* Tips */}\r\n              <section>\r\n                <h3 className=\"text-xl font-semibold text-white mb-3 flex items-center gap-2\">\r\n                  <Info className=\"w-5 h-5 text-hilo-gold\" />\r\n                  Pro Tips\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <div className=\"w-2 h-2 bg-hilo-gold rounded-full mt-2 flex-shrink-0\" />\r\n                    <p className=\"text-gray-300 text-sm\">\r\n                      Start with small bets to get familiar with the game\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <div className=\"w-2 h-2 bg-hilo-gold rounded-full mt-2 flex-shrink-0\" />\r\n                    <p className=\"text-gray-300 text-sm\">\r\n                      Use the auto-roll feature for consistent betting patterns\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <div className=\"w-2 h-2 bg-hilo-gold rounded-full mt-2 flex-shrink-0\" />\r\n                    <p className=\"text-gray-300 text-sm\">\r\n                      Check your game history to track your performance\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <div className=\"w-2 h-2 bg-hilo-gold rounded-full mt-2 flex-shrink-0\" />\r\n                    <p className=\"text-gray-300 text-sm\">\r\n                      Remember: This is a mock casino - no real money is\r\n                      involved!\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"sticky bottom-0 bg-gray-900 border-t border-gray-700 p-6 rounded-b-2xl\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"w-full bg-hilo-gold text-hilo-black font-bold py-3 px-6 rounded-lg hover:bg-hilo-gold/90 transition-colors\"\r\n              >\r\n                Got it! Let&apos;s Play\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  )\r\n}\r\n","import React from 'react'\nimport { motion } from 'framer-motion'\nimport {\n  TrendingUp,\n  TrendingDown,\n  Target,\n  DollarSign,\n  Clock,\n  Award,\n  BarChart3,\n  Zap,\n} from 'lucide-react'\nimport { useGameStore } from '../store/gameStore'\nimport { formatCurrency } from '../lib/utils'\n\nexport const AdvancedStats: React.FC = () => {\n  const {\n    totalGames,\n    totalWon,\n    totalWagered,\n    currentWinStreak,\n    currentLossStreak,\n    maxWinStreak,\n    maxLossStreak,\n    gameHistory,\n    hiloTokens,\n    balance,\n  } = useGameStore()\n\n  // Calculate advanced statistics\n  const winRate =\n    totalGames > 0\n      ? (gameHistory.filter(game => game.won).length / totalGames) * 100\n      : 0\n  const averageBet = totalGames > 0 ? totalWagered / totalGames : 0\n  const profitLoss = totalWon - totalWagered\n  const netWorth = hiloTokens + balance\n  const biggestWin = Math.max(\n    ...gameHistory.map(game => (game.won ? game.bet * game.multiplier : 0)),\n    0\n  )\n  const biggestLoss = Math.max(\n    ...gameHistory.map(game => (!game.won ? game.bet : 0)),\n    0\n  )\n\n  // Calculate recent performance (last 10 games)\n  const recentGames = gameHistory.slice(0, 10)\n  const recentWinRate =\n    recentGames.length > 0\n      ? (recentGames.filter(game => game.won).length / recentGames.length) * 100\n      : 0\n\n  // Calculate hourly stats\n  const now = new Date()\n  const oneHourAgo = new Date(now.getTime() - 60 * 60 * 1000)\n  const recentHourGames = gameHistory.filter(\n    game => new Date(game.timestamp) > oneHourAgo\n  )\n  const gamesPerHour = recentHourGames.length\n\n  const stats = [\n    {\n      title: 'Win Rate',\n      value: `${winRate.toFixed(1)}%`,\n      icon: Target,\n      color: 'text-green-400',\n      bgColor: 'bg-green-900/20',\n      borderColor: 'border-green-500/30',\n      trend:\n        recentWinRate > winRate\n          ? 'up'\n          : recentWinRate < winRate\n            ? 'down'\n            : 'stable',\n    },\n    {\n      title: 'Average Bet',\n      value: formatCurrency(averageBet),\n      icon: DollarSign,\n      color: 'text-hilo-gold',\n      bgColor: 'bg-yellow-900/20',\n      borderColor: 'border-yellow-500/30',\n    },\n    {\n      title: 'Profit/Loss',\n      value: formatCurrency(profitLoss),\n      icon: profitLoss >= 0 ? TrendingUp : TrendingDown,\n      color: profitLoss >= 0 ? 'text-green-400' : 'text-red-400',\n      bgColor: profitLoss >= 0 ? 'bg-green-900/20' : 'bg-red-900/20',\n      borderColor:\n        profitLoss >= 0 ? 'border-green-500/30' : 'border-red-500/30',\n    },\n    {\n      title: 'Net Worth',\n      value: formatCurrency(netWorth),\n      icon: Award,\n      color: 'text-blue-400',\n      bgColor: 'bg-blue-900/20',\n      borderColor: 'border-blue-500/30',\n    },\n    {\n      title: 'Biggest Win',\n      value: formatCurrency(biggestWin),\n      icon: TrendingUp,\n      color: 'text-green-400',\n      bgColor: 'bg-green-900/20',\n      borderColor: 'border-green-500/30',\n    },\n    {\n      title: 'Biggest Loss',\n      value: formatCurrency(biggestLoss),\n      icon: TrendingDown,\n      color: 'text-red-400',\n      bgColor: 'bg-red-900/20',\n      borderColor: 'border-red-500/30',\n    },\n    {\n      title: 'Games/Hour',\n      value: gamesPerHour.toString(),\n      icon: Clock,\n      color: 'text-purple-400',\n      bgColor: 'bg-purple-900/20',\n      borderColor: 'border-purple-500/30',\n    },\n    {\n      title: 'Max Win Streak',\n      value: maxWinStreak.toString(),\n      icon: Zap,\n      color: 'text-orange-400',\n      bgColor: 'bg-orange-900/20',\n      borderColor: 'border-orange-500/30',\n    },\n  ]\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-2xl font-bold text-white flex items-center gap-3\">\n          <BarChart3 className=\"w-7 h-7 text-hilo-gold\" />\n          Advanced Statistics\n        </h3>\n        <div className=\"text-sm text-gray-400\">{totalGames} total games</div>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        {stats.map((stat, index) => (\n          <motion.div\n            key={stat.title}\n            className={`\n              ${stat.bgColor} ${stat.borderColor}\n              border rounded-xl p-4 backdrop-blur-sm\n            `}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.1 }}\n          >\n            <div className=\"flex items-center justify-between mb-2\">\n              <stat.icon className={`w-5 h-5 ${stat.color}`} />\n              {stat.trend && (\n                <div\n                  className={`text-xs ${\n                    stat.trend === 'up'\n                      ? 'text-green-400'\n                      : stat.trend === 'down'\n                        ? 'text-red-400'\n                        : 'text-gray-400'\n                  }`}\n                >\n                  {stat.trend === 'up'\n                    ? '↗'\n                    : stat.trend === 'down'\n                      ? '↘'\n                      : '→'}\n                </div>\n              )}\n            </div>\n            <div className={`text-2xl font-bold ${stat.color} mb-1`}>\n              {stat.value}\n            </div>\n            <div className=\"text-xs text-gray-400\">{stat.title}</div>\n          </motion.div>\n        ))}\n      </div>\n\n      {/* Performance Chart Placeholder */}\n      <div className=\"bg-gray-800 rounded-xl p-6 border border-gray-700\">\n        <h4 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n          <BarChart3 className=\"w-5 h-5 text-hilo-gold\" />\n          Recent Performance\n        </h4>\n        <div className=\"space-y-3\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-400\">Last 10 Games Win Rate</span>\n            <span\n              className={`font-semibold ${recentWinRate >= 50 ? 'text-green-400' : 'text-red-400'}`}\n            >\n              {recentWinRate.toFixed(1)}%\n            </span>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-400\">Current Streak</span>\n            <span\n              className={`font-semibold ${currentWinStreak > 0 ? 'text-green-400' : 'text-red-400'}`}\n            >\n              {currentWinStreak > 0\n                ? `+${currentWinStreak}`\n                : currentLossStreak}\n            </span>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-400\">Games This Hour</span>\n            <span className=\"font-semibold text-hilo-gold\">{gamesPerHour}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"flex flex-wrap gap-3\">\n        <button className=\"px-4 py-2 bg-hilo-gold text-hilo-black rounded-lg font-semibold hover:bg-hilo-gold/90 transition-colors\">\n          Export History\n        </button>\n        <button className=\"px-4 py-2 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors\">\n          Reset Stats\n        </button>\n        <button className=\"px-4 py-2 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors\">\n          Share Stats\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useGameStore } from '../store/gameStore'\nimport { DiceRoller } from '../components/DiceRoller'\nimport { mockAPI } from '../lib/api'\nimport { useToast } from '../components/Toast'\nimport { LoadingSpinner, LoadingButton } from '../components/LoadingSpinner'\nimport { GameRulesModal } from '../components/GameRulesModal'\nimport { SettingsModal } from '../components/SettingsModal'\nimport DailyWheel, { DailyWheelHandle } from '../components/DailyWheel'\nimport { AdvancedStats } from '../components/AdvancedStats'\nimport { useKeyboardShortcuts } from '../hooks/useKeyboardShortcuts'\nimport { Settings, HelpCircle, BarChart3, Download, X, Menu } from 'lucide-react'\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\nimport { WalletRequiredModal } from '../components/WalletRequiredModal'\n\n/**\n * Enhanced Game Page Component\n * Full-featured dice game with auto-roll, streaks, challenges, and crypto features\n */\nexport const EnhancedGamePage: React.FC = () => {\n  const {\n    // Game state\n    currentBet,\n    selectedSide,\n    isRolling,\n    lastRoll,\n    lastResult,\n    lastWin,\n    hiloTokens,\n\n    // Streaks & Stats\n    currentWinStreak,\n    currentLossStreak,\n    maxWinStreak,\n    maxLossStreak,\n    totalWagered,\n    totalWon,\n    totalGames,\n\n    // Auto-roll\n    autoRollEnabled,\n    autoRollCount,\n    autoRollMax,\n    autoRollStopOnWin,\n    autoRollStopOnLoss,\n\n    // Progression\n    xp,\n    level,\n    vipTier,\n    dailyChallenges,\n\n    // Settings\n    soundEnabled,\n    selectedDiceSkin,\n    muted,\n\n    // Actions\n    setBet,\n    selectSide,\n    rollDice,\n    resetGame,\n    toggleAutoRoll,\n    setAutoRollSettings,\n    setDiceSkin,\n    toggleSound,\n    toggleMute,\n    completeChallenge,\n    spinDailyWheel,\n    validateGameState,\n    recoverGameState,\n  } = useGameStore()\n\n  const [showSettings, setShowSettings] = useState(false)\n  const [showChallenges, setShowChallenges] = useState(false)\n  const [showDailyWheel, setShowDailyWheel] = useState(false)\n  const [wheelSpinning, setWheelSpinning] = useState(false)\n  const [wheelResult, setWheelResult] = useState<number | null>(null)\n  const wheelRef = useRef<DailyWheelHandle | null>(null)\n\n  // New enhanced features state\n  const [showRules, setShowRules] = useState(false)\n  const [showAdvancedStats, setShowAdvancedStats] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [showExportModal, setShowExportModal] = useState(false)\n  const [autorollDelay, setAutorollDelay] = useState(false)\n  const [showGameMenu, setShowGameMenu] = useState(false)\n  const gameMenuRef = useRef<HTMLDivElement>(null)\n  const { connected } = useWalletContext() as any\n  const [showWalletRequired, setShowWalletRequired] = useState(false)\n  const location = useLocation()\n  const navigate = useNavigate()\n\n  const { success, error, warning, info } = useToast()\n\n  // Close game menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (gameMenuRef.current && !gameMenuRef.current.contains(event.target as Node)) {\n        setShowGameMenu(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [])\n\n  // Open context-specific modals based on query params from the header menu\n  useEffect(() => {\n    const params = new URLSearchParams(location.search)\n    const open = params.get('open')\n    if (open === 'challenges') {\n      setShowChallenges(true)\n      setShowGameMenu(false)\n      // Clean URL\n      navigate('/game', { replace: true })\n    } else if (open === 'daily-wheel') {\n      setShowDailyWheel(true)\n      setShowGameMenu(false)\n      navigate('/game', { replace: true })\n    }\n  }, [location.search, navigate])\n\n  const handleBetChange = (amount: number) => {\n    setBet(Math.max(1, Math.min(amount, hiloTokens)))\n  }\n\n  const handleSideSelect = (side: 'high' | 'low') => {\n    selectSide(side)\n  }\n\n  // Enhanced roll dice with loading and feedback\n  const handleRollDice = useCallback(async () => {\n    if (!connected) {\n      setShowWalletRequired(true)\n      return\n    }\n    if (isRolling || !selectedSide || currentBet > hiloTokens) {\n      if (currentBet > hiloTokens) {\n        error(\n          'Insufficient Funds',\n          'You need more HILO tokens to place this bet'\n        )\n      }\n      return\n    }\n\n    setIsLoading(true)\n    try {\n      await rollDice()\n      if (lastWin) {\n        success('You Won!', `+${(currentBet * 1.98).toLocaleString()} HILO`)\n      } else if (lastWin === false) {\n        warning('You Lost', `-${currentBet.toLocaleString()} HILO`)\n      }\n    } catch (err) {\n      error('Roll Failed', 'Something went wrong. Please try again.')\n    } finally {\n      setIsLoading(false)\n    }\n  }, [\n    isRolling,\n    selectedSide,\n    currentBet,\n    hiloTokens,\n    rollDice,\n    lastWin,\n    success,\n    error,\n    warning,\n  ])\n\n  const handleRoll = () => {\n    if (!connected) {\n      setShowWalletRequired(true)\n      return\n    }\n    if (!isRolling && selectedSide && currentBet <= hiloTokens) {\n      handleRollDice()\n    }\n  }\n\n  // Game state validation and recovery\n  useEffect(() => {\n    const isValid = validateGameState()\n    if (!isValid) {\n      console.warn('🚨 Invalid game state detected, attempting recovery...')\n      recoverGameState()\n    }\n  }, [validateGameState, recoverGameState])\n\n  // Auto-roll logic - Continue automatically regardless of win/loss\n  useEffect(() => {\n    if (\n      !autoRollEnabled ||\n      isRolling ||\n      !selectedSide ||\n      currentBet > hiloTokens ||\n      autoRollCount >= autoRollMax\n    ) {\n      setAutorollDelay(false)\n      return\n    }\n\n    // Determine delay based on last result - wins get delay, losses are immediate\n    const delay = lastWin === true ? 2000 : 0 // 2 seconds for wins, immediate for losses\n\n    // Show delay indicator only for wins\n    if (lastWin === true) {\n      setAutorollDelay(true)\n    }\n\n    const timer = setTimeout(() => {\n      setAutorollDelay(false)\n      try {\n        handleRollDice()\n      } catch (error) {\n        console.error('🚨 Error in auto-roll:', error)\n        // Disable auto-roll on error to prevent infinite loops\n        toggleAutoRoll()\n      }\n    }, delay)\n\n    return () => {\n      clearTimeout(timer)\n      setAutorollDelay(false)\n    }\n  }, [\n    autoRollEnabled,\n    isRolling,\n    selectedSide,\n    currentBet,\n    hiloTokens,\n    handleRollDice,\n    autoRollCount,\n    autoRollMax,\n    lastWin,\n    toggleAutoRoll,\n  ])\n\n  // Stop autoroll when max count reached\n  useEffect(() => {\n    if (autoRollEnabled && autoRollCount >= autoRollMax) {\n      toggleAutoRoll()\n    }\n  }, [autoRollEnabled, autoRollCount, autoRollMax, toggleAutoRoll])\n\n  const handleDailyWheel = async () => {\n    setWheelSpinning(true)\n    setWheelResult(null)\n\n    try {\n      const result = await mockAPI.spinDailyWheel()\n      setWheelResult(result.reward)\n      // Map reward to a segment index; placeholder deterministic mapping by value\n      const rewards = [50, 100, 250, 500, 1000, 2000]\n      const index = Math.max(0, rewards.indexOf(result.reward))\n      wheelRef.current?.spinToIndex(index === -1 ? Math.floor(Math.random() * 6) : index)\n      spinDailyWheel()\n    } catch (error) {\n      console.error('Failed to spin wheel:', error)\n    } finally {\n      setWheelSpinning(false)\n    }\n  }\n\n  const getVIPTierColor = (tier: string) => {\n    switch (tier) {\n      case 'Diamond':\n        return 'from-purple-500 to-pink-500'\n      case 'Gold':\n        return 'from-yellow-400 to-yellow-600'\n      case 'Silver':\n        return 'from-gray-300 to-gray-500'\n      default:\n        return 'from-orange-400 to-orange-600'\n    }\n  }\n\n  // Enhanced keyboard shortcuts\n  useKeyboardShortcuts({\n    onRollDice: () => {\n      if (connected && !isRolling && selectedSide && currentBet <= hiloTokens) {\n        handleRollDice()\n      }\n    },\n    onSelectHigh: () => selectSide('high'),\n    onSelectLow: () => selectSide('low'),\n    onQuickBet10: () => setBet(10),\n    onQuickBet25: () => setBet(25),\n    onQuickBet50: () => setBet(50),\n    onQuickBet100: () => setBet(100),\n    onMaxBet: () => setBet(hiloTokens),\n    onToggleSound: toggleSound,\n    onToggleMute: toggleMute,\n    onShowRules: () => setShowRules(true),\n    onShowHistory: () => setShowAdvancedStats(true),\n  })\n\n  return (\n    <div className=\"min-h-screen bg-hilo-black text-white p-6\">\n      <div className=\"max-w-8xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4\">\n          <div className=\"text-center lg:text-left\">\n            <div className=\"flex items-center justify-center lg:justify-start gap-4\">\n              <div\n                className={`px-3 py-1 rounded-full bg-gradient-to-r ${getVIPTierColor(vipTier)} text-white text-sm font-bold`}\n              >\n                {vipTier}\n              </div>\n              <div className=\"text-hilo-gold font-semibold\">Level {level}</div>\n              <div className=\"text-gray-400\">XP: {xp}</div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"max-w-6xl mx-auto\">\n          {/* Game Area */}\n          <div className=\"bg-gray-900 rounded-lg p-12 mb-8 relative\">\n            {/* Hamburger Menu Button */}\n            <div className=\"absolute top-4 right-4\" ref={gameMenuRef}>\n              <button\n                onClick={() => setShowGameMenu(!showGameMenu)}\n                className=\"p-2 rounded-lg text-gray-300 hover:text-hilo-gold hover:bg-hilo-gold/10 transition-all duration-300\"\n              >\n                <Menu className=\"w-6 h-6\" />\n              </button>\n              \n              {/* Game Menu Dropdown - restyled to match modal aesthetic */}\n              <AnimatePresence>\n                {showGameMenu && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -10, scale: 0.95 }}\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\n                    exit={{ opacity: 0, y: -10, scale: 0.95 }}\n                    transition={{ duration: 0.2 }}\n                    className=\"absolute top-full right-0 mt-2 z-50\"\n                  >\n                    <div className=\"relative w-64 rounded-2xl border border-hilo-gray-light bg-hilo-gray/95 backdrop-blur-xl shadow-2xl\">\n                      {/* arrow */}\n                      <div className=\"absolute -top-2 right-6 w-4 h-4 bg-hilo-gray/95 border-l border-t border-hilo-gray-light rotate-45\" />\n                      <div className=\"px-4 pt-3 pb-2 border-b border-hilo-gray-light rounded-t-2xl\">\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"text-sm font-semibold text-gray-200\">Game Menu</div>\n                          <button\n                            onClick={() => setShowGameMenu(false)}\n                            className=\"p-1 rounded-md text-gray-400 hover:text-white hover:bg-hilo-gold/10\"\n                          >\n                            <X className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </div>\n                      <div className=\"py-2\">\n                        <button\n                          onClick={() => {\n                            setShowRules(true)\n                            setShowGameMenu(false)\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <HelpCircle className=\"w-4 h-4\" />\n                          <span>Rules</span>\n                        </button>\n                        <button\n                          onClick={() => {\n                            setShowAdvancedStats(true)\n                            setShowGameMenu(false)\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <BarChart3 className=\"w-4 h-4\" />\n                          <span>Stats</span>\n                        </button>\n                        <div className=\"border-t border-hilo-gray-light my-1\" />\n                        <button\n                          onClick={() => {\n                            setShowSettings(true)\n                            setShowGameMenu(false)\n                          }}\n                          className=\"w-full px-4 py-3 text-left text-gray-300 hover:text-white hover:bg-hilo-gold/10 transition-colors flex items-center gap-3\"\n                        >\n                          <Settings className=\"w-4 h-4\" />\n                          <span>Settings</span>\n                        </button>\n                      </div>\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n            {/* Balance & Stats */}\n            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-8 mb-16\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-hilo-gold\">\n                  {hiloTokens.toLocaleString()}\n                </div>\n                <div className=\"text-sm text-gray-400\">HILO Tokens</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-hilo-green\">\n                  {currentWinStreak}\n                </div>\n                <div className=\"text-sm text-gray-400\">Win Streak</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-hilo-red\">\n                  {currentLossStreak}\n                </div>\n                <div className=\"text-sm text-gray-400\">Loss Streak</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-hilo-gold\">\n                  {totalGames}\n                </div>\n                <div className=\"text-sm text-gray-400\">Total Games</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-emerald-400\">\n                  {totalWon.toLocaleString()}\n                </div>\n                <div className=\"text-sm text-gray-400\">Total Won</div>\n              </div>\n            </div>\n\n            {/* Dice Roller */}\n            <div className=\"flex justify-center items-center mb-8 px-4\">\n              <div className=\"relative w-full max-w-lg\">\n                <DiceRoller />\n              </div>\n            </div>\n\n            {/* Bet Controls */}\n            <div className=\"space-y-10 max-w-4xl mx-auto\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-4 text-center\">\n                  Bet Amount (HILO Tokens)\n                </label>\n                <div className=\"flex gap-4 justify-center items-center\">\n                  <input\n                    type=\"number\"\n                    value={currentBet}\n                    onChange={e => handleBetChange(Number(e.target.value))}\n                    className=\"flex-1 px-6 py-4 bg-gray-800 border border-gray-600 rounded-lg text-white text-center font-semibold text-lg\"\n                    min=\"1\"\n                    max={hiloTokens}\n                  />\n                  <button\n                    onClick={() => handleBetChange(currentBet * 2)}\n                    className=\"px-8 py-4 bg-hilo-gold text-black rounded-lg hover:bg-hilo-gold/80 transition-colors font-bold text-lg\"\n                  >\n                    2x\n                  </button>\n                  <button\n                    onClick={() => handleBetChange(Math.floor(hiloTokens / 2))}\n                    className=\"px-8 py-4 bg-hilo-red text-white rounded-lg hover:bg-hilo-red/80 transition-colors font-bold text-lg\"\n                  >\n                    Half\n                  </button>\n                  <button\n                    onClick={() => handleBetChange(hiloTokens)}\n                    className=\"px-8 py-4 bg-hilo-green text-white rounded-lg hover:bg-hilo-green/80 transition-colors font-bold text-lg\"\n                  >\n                    Max\n                  </button>\n                </div>\n              </div>\n\n              {/* Side Selection */}\n              <div className=\"flex gap-8 justify-center\">\n                <button\n                  onClick={() => handleSideSelect('high')}\n                  className={`flex-1 max-w-md py-8 px-12 rounded-xl font-bold text-2xl transition-all duration-300 ${\n                    selectedSide === 'high'\n                      ? 'bg-hilo-green text-white shadow-hilo-glow-green transform scale-105'\n                      : 'bg-gray-700 text-gray-300 hover:bg-gray-600 hover:scale-105'\n                  }`}\n                >\n                  HIGH (4-6)\n                </button>\n                <button\n                  onClick={() => handleSideSelect('low')}\n                  className={`flex-1 max-w-md py-8 px-12 rounded-xl font-bold text-2xl transition-all duration-300 ${\n                    selectedSide === 'low'\n                      ? 'bg-hilo-red text-white shadow-hilo-glow-red transform scale-105'\n                      : 'bg-gray-700 text-gray-300 hover:bg-gray-600 hover:scale-105'\n                  }`}\n                >\n                  LOW (1-3)\n                </button>\n              </div>\n\n              {/* Roll Button and Auto-Roll Toggle */}\n              <div className=\"flex justify-center items-center gap-6 pt-8\">\n                <button\n                  onClick={handleRoll}\n                  disabled={\n                    !connected || isRolling || !selectedSide || currentBet > hiloTokens\n                  }\n                  className=\"flex-1 max-w-2xl py-8 px-12 bg-gradient-to-r from-hilo-gold to-hilo-red text-black font-bold text-3xl rounded-xl hover:from-hilo-gold/80 hover:to-hilo-red/80 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-2xl hover:shadow-hilo-gold/30 hover:scale-105 disabled:hover:scale-100\"\n                >\n                  {!connected ? 'Connect Wallet to Play' : isRolling ? '🎲 Rolling...' : '🎲 ROLL DICE'}\n                </button>\n\n                {/* Apple-style Auto-Roll Toggle */}\n                <div className=\"flex flex-col items-center gap-3\">\n                  <div className=\"text-sm text-gray-300 font-medium\">\n                    Auto-Roll\n                  </div>\n                  <button\n                    onClick={toggleAutoRoll}\n                    disabled={isRolling}\n                    className={`relative w-16 h-8 rounded-full transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-opacity-50 ${\n                      autoRollEnabled\n                        ? 'bg-green-500 focus:ring-green-500 hover:bg-green-600'\n                        : 'bg-gray-600 focus:ring-gray-500 hover:bg-gray-500'\n                    } ${isRolling || !selectedSide || currentBet > hiloTokens ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n                  >\n                    <div\n                      className={`absolute top-0.5 left-0.5 w-7 h-7 bg-white rounded-full shadow-lg transition-transform duration-300 ${\n                        autoRollEnabled ? 'translate-x-8' : 'translate-x-0'\n                      }`}\n                    />\n                  </button>\n                  {autoRollEnabled && (\n                    <div className=\"text-xs text-green-400 font-medium text-center\">\n                      <div>\n                        {autoRollCount}/{autoRollMax}\n                      </div>\n                      <div className=\"text-gray-400\">\n                        {autorollDelay ? 'Next roll...' : 'Auto-continues'}\n                      </div>\n                      {autorollDelay && (\n                        <div className=\"w-4 h-4 mx-auto mt-1\">\n                          <div className=\"w-4 h-4 border-2 border-green-400 border-t-transparent rounded-full animate-spin\"></div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Game Statistics - Underneath the game */}\n        <div className=\"bg-gray-800/50 rounded-xl p-6 mb-8 max-w-6xl mx-auto\">\n          <h3 className=\"text-xl font-bold text-hilo-gold mb-4 text-center\">\n            Game Statistics\n          </h3>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-hilo-green\">\n                {currentWinStreak}\n              </div>\n              <div className=\"text-sm text-gray-400\">Win Streak</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-hilo-red\">\n                {currentLossStreak}\n              </div>\n              <div className=\"text-sm text-gray-400\">Loss Streak</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-hilo-gold\">\n                {totalGames}\n              </div>\n              <div className=\"text-sm text-gray-400\">Total Games</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-emerald-400\">\n                {totalWon.toLocaleString()}\n              </div>\n              <div className=\"text-sm text-gray-400\">Total Won</div>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-2 gap-6 mt-4 pt-4 border-t border-gray-700\">\n            <div className=\"text-center\">\n              <div className=\"text-lg font-bold text-blue-400\">\n                {totalWagered.toLocaleString()} HILO\n              </div>\n              <div className=\"text-sm text-gray-400\">Total Wagered</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-lg font-bold text-purple-400\">\n                {totalGames > 0\n                  ? ((totalWon / totalWagered) * 100).toFixed(1)\n                  : 0}\n                %\n              </div>\n              <div className=\"text-sm text-gray-400\">Win Rate</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Modals */}\n        <AnimatePresence>\n          {/* Settings Modal */}\n          {showSettings && (\n            <motion.div\n              className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={() => setShowSettings(false)}\n            >\n              <motion.div\n                className=\"bg-gray-900 rounded-lg p-6 max-w-md w-full mx-4\"\n                initial={{ scale: 0.9, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.9, opacity: 0 }}\n                onClick={e => e.stopPropagation()}\n              >\n                <h2 className=\"text-2xl font-bold text-hilo-gold mb-4\">\n                  Settings\n                </h2>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-300\">Sound Effects</span>\n                    <button\n                      onClick={toggleSound}\n                      className={`w-12 h-6 rounded-full transition-colors ${\n                        soundEnabled ? 'bg-hilo-green' : 'bg-gray-600'\n                      }`}\n                    >\n                      <div\n                        className={`w-5 h-5 bg-white rounded-full transition-transform ${\n                          soundEnabled ? 'translate-x-6' : 'translate-x-0.5'\n                        }`}\n                      />\n                    </button>\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-300\">Mute All</span>\n                    <button\n                      onClick={toggleMute}\n                      className={`w-12 h-6 rounded-full transition-colors ${\n                        muted ? 'bg-hilo-red' : 'bg-gray-600'\n                      }`}\n                    >\n                      <div\n                        className={`w-5 h-5 bg-white rounded-full transition-transform ${\n                          muted ? 'translate-x-6' : 'translate-x-0.5'\n                        }`}\n                      />\n                    </button>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-gray-300 mb-2\">\n                      Dice Skin\n                    </label>\n                    <div className=\"flex gap-2\">\n                      {['classic', 'neon', 'gold'].map(skin => (\n                        <button\n                          key={skin}\n                          onClick={() => setDiceSkin(skin as any)}\n                          className={`px-3 py-2 rounded-lg text-sm capitalize transition-colors ${\n                            selectedDiceSkin === skin\n                              ? 'bg-hilo-gold text-black'\n                              : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                          }`}\n                        >\n                          {skin}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                <button\n                  onClick={() => setShowSettings(false)}\n                  className=\"w-full mt-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n                >\n                  Close\n                </button>\n              </motion.div>\n            </motion.div>\n          )}\n\n          {/* Challenges Modal */}\n          {showChallenges && (\n            <motion.div\n              className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={() => setShowChallenges(false)}\n            >\n              <motion.div\n                className=\"bg-gray-900 rounded-lg p-6 max-w-md w-full mx-4\"\n                initial={{ scale: 0.9, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.9, opacity: 0 }}\n                onClick={e => e.stopPropagation()}\n              >\n                <h2 className=\"text-2xl font-bold text-hilo-gold mb-4\">\n                  Daily Challenges\n                </h2>\n\n                <div className=\"space-y-3\">\n                  {dailyChallenges.map(challenge => (\n                    <div\n                      key={challenge.id}\n                      className=\"bg-gray-800 rounded-lg p-3\"\n                    >\n                      <div className=\"flex justify-between items-start mb-2\">\n                        <h3 className=\"font-semibold text-white\">\n                          {challenge.title}\n                        </h3>\n                        <span className=\"text-hilo-gold font-bold\">\n                          {challenge.reward} HILO\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-gray-400 mb-2\">\n                        {challenge.description}\n                      </p>\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex-1 bg-gray-700 rounded-full h-2 mr-2\">\n                          <div\n                            className=\"bg-hilo-green h-2 rounded-full transition-all\"\n                            style={{\n                              width: `${(challenge.progress / challenge.maxProgress) * 100}%`,\n                            }}\n                          />\n                        </div>\n                        <span className=\"text-xs text-gray-400\">\n                          {challenge.progress}/{challenge.maxProgress}\n                        </span>\n                      </div>\n                      {challenge.completed && (\n                        <button\n                          onClick={() => completeChallenge(challenge.id)}\n                          className=\"w-full mt-2 py-1 bg-hilo-green text-white rounded text-sm hover:bg-hilo-green/80 transition-colors\"\n                        >\n                          Claim Reward\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n\n                <button\n                  onClick={() => setShowChallenges(false)}\n                  className=\"w-full mt-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n                >\n                  Close\n                </button>\n              </motion.div>\n            </motion.div>\n          )}\n\n          {/* Daily Wheel Modal (kept for in-game access if triggered internally) */}\n          {showDailyWheel && (\n            <motion.div\n              className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={() => setShowDailyWheel(false)}\n            >\n              <motion.div\n                className=\"bg-hilo-gray border border-hilo-gray-light rounded-2xl p-6 max-w-md w-full mx-4 text-center\"\n                initial={{ scale: 0.9, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.9, opacity: 0 }}\n                onClick={e => e.stopPropagation()}\n              >\n                <h2 className=\"text-2xl font-bold text-white mb-4\">\n                  Daily Wheel\n                </h2>\n\n                {/* 3D Wheel */}\n                <div className=\"mb-6 flex justify-center\">\n                  <DailyWheel\n                    ref={wheelRef as any}\n                    segments={[\n                      { label: '50', value: 50, color: '#F59E0B' },\n                      { label: '100', value: 100, color: '#10B981' },\n                      { label: '250', value: 250, color: '#3B82F6' },\n                      { label: '500', value: 500, color: '#A855F7' },\n                      { label: '1000', value: 1000, color: '#EF4444' },\n                      { label: '2000', value: 2000, color: '#EAB308' },\n                    ]}\n                    size={300}\n                  />\n                </div>\n\n                {wheelResult && (\n                  <motion.div\n                    className=\"mb-4 p-4 bg-hilo-green/20 border border-emerald-500/30 rounded-lg\"\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{ type: 'spring', stiffness: 200 }}\n                  >\n                    <div className=\"text-2xl font-bold text-white\">\n                      You won {wheelResult} HILO tokens!\n                    </div>\n                  </motion.div>\n                )}\n\n                {/* CTA row */}\n                <button\n                  onClick={handleDailyWheel}\n                  disabled={wheelSpinning}\n                  className=\"w-full py-3 bg-hilo-gold text-black font-bold rounded-lg hover:bg-hilo-gold/80 transition-colors disabled:opacity-50\"\n                >\n                  {wheelSpinning ? 'Spinning...' : 'Spin Wheel'}\n                </button>\n\n                <button\n                  onClick={() => setShowDailyWheel(false)}\n                  className=\"w-full mt-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n                >\n                  Close\n                </button>\n\n                {/* Placeholders: streak bonus, countdown, recent winners */}\n                <div className=\"mt-6 grid gap-3 text-left\">\n                  <div className=\"p-3 rounded-lg bg-blue-900/20 border border-blue-500/30\">\n                    <div className=\"text-sm text-blue-300\">\n                      Streak Bonus: +10% after 3 consecutive daily spins\n                    </div>\n                  </div>\n                  <div className=\"p-3 rounded-lg bg-purple-900/20 border border-purple-500/30\">\n                    <div className=\"text-sm text-purple-300\">\n                      Next Free Spin Countdown: 23h 59m (placeholder)\n                    </div>\n                  </div>\n                  <div className=\"p-3 rounded-lg bg-amber-900/20 border border-amber-500/30\">\n                    <div className=\"text-sm text-amber-300\">\n                      Recent Rewards: 250 • 50 • 1000 • 100 (placeholder)\n                    </div>\n                  </div>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Enhanced Modals */}\n        <GameRulesModal\n          isOpen={showRules}\n          onClose={() => setShowRules(false)}\n        />\n        <SettingsModal\n          isOpen={showSettings}\n          onClose={() => setShowSettings(false)}\n        />\n\n        {/* Advanced Stats Modal */}\n        {showAdvancedStats && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={() => setShowAdvancedStats(false)}\n          >\n            <motion.div\n              className=\"bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-700 shadow-2xl\"\n              initial={{ scale: 0.9, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.9, opacity: 0 }}\n              onClick={e => e.stopPropagation()}\n            >\n              <div className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h2 className=\"text-2xl font-bold text-white flex items-center gap-3\">\n                    <BarChart3 className=\"w-8 h-8 text-hilo-gold\" />\n                    Advanced Statistics\n                  </h2>\n                  <button\n                    onClick={() => setShowAdvancedStats(false)}\n                    className=\"p-2 hover:bg-gray-800 rounded-lg transition-colors\"\n                  >\n                    <X className=\"w-6 h-6 text-gray-400\" />\n                  </button>\n                </div>\n                <AdvancedStats />\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n\n        {/* Loading Overlay */}\n        {isLoading && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            <div className=\"bg-gray-900 rounded-xl p-8 shadow-2xl border border-gray-700\">\n              <LoadingSpinner size=\"xl\" text=\"Rolling dice...\" />\n            </div>\n          </motion.div>\n        )}\n      </div>\n\n      <WalletRequiredModal\n        isOpen={showWalletRequired}\n        onClose={() => setShowWalletRequired(false)}\n        featureName=\"playing the Dice game\"\n      />\n    </div>\n  )\n}\n\nexport default EnhancedGamePage\n","import { useEffect, useCallback } from 'react'\n\ninterface KeyboardShortcuts {\n  onRollDice?: () => void\n  onSelectHigh?: () => void\n  onSelectLow?: () => void\n  onQuickBet10?: () => void\n  onQuickBet25?: () => void\n  onQuickBet50?: () => void\n  onQuickBet100?: () => void\n  onMaxBet?: () => void\n  onToggleSound?: () => void\n  onToggleMute?: () => void\n  onShowRules?: () => void\n  onShowHistory?: () => void\n  onClaimFaucet?: () => void\n}\n\nexport const useKeyboardShortcuts = (shortcuts: KeyboardShortcuts) => {\n  const handleKeyPress = useCallback(\n    (event: KeyboardEvent) => {\n      // Don't trigger shortcuts when typing in inputs\n      if (\n        event.target instanceof HTMLInputElement ||\n        event.target instanceof HTMLTextAreaElement ||\n        event.target instanceof HTMLSelectElement\n      ) {\n        return\n      }\n\n      const { key, ctrlKey, altKey, shiftKey } = event\n\n      // Prevent default for our custom shortcuts\n      const preventDefault = () => {\n        event.preventDefault()\n        event.stopPropagation()\n      }\n\n      switch (key.toLowerCase()) {\n        case 'enter':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onRollDice?.()\n            preventDefault()\n          }\n          break\n\n        case 'h':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onSelectHigh?.()\n            preventDefault()\n          }\n          break\n\n        case 'l':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onSelectLow?.()\n            preventDefault()\n          }\n          break\n\n        case '1':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onQuickBet10?.()\n            preventDefault()\n          }\n          break\n\n        case '2':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onQuickBet25?.()\n            preventDefault()\n          }\n          break\n\n        case '5':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onQuickBet50?.()\n            preventDefault()\n          }\n          break\n\n        case '0':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onQuickBet100?.()\n            preventDefault()\n          }\n          break\n\n        case 'm':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onMaxBet?.()\n            preventDefault()\n          }\n          break\n\n        case 's':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onToggleSound?.()\n            preventDefault()\n          }\n          break\n\n        case ' ':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onToggleMute?.()\n            preventDefault()\n          }\n          break\n\n        case '?':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onShowRules?.()\n            preventDefault()\n          }\n          break\n\n        case 'tab':\n          if (shiftKey && !ctrlKey && !altKey) {\n            shortcuts.onShowHistory?.()\n            preventDefault()\n          }\n          break\n\n        case 'f':\n          if (!ctrlKey && !altKey && !shiftKey) {\n            shortcuts.onClaimFaucet?.()\n            preventDefault()\n          }\n          break\n      }\n    },\n    [shortcuts]\n  )\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyPress)\n    return () => {\n      document.removeEventListener('keydown', handleKeyPress)\n    }\n  }, [handleKeyPress])\n}\n\n// Hook for specific game actions\nexport const useGameKeyboardShortcuts = (\n  onRollDice: () => void,\n  onSelectHigh: () => void,\n  onSelectLow: () => void,\n  onQuickBet: (amount: number) => void,\n  onMaxBet: () => void\n) => {\n  return useKeyboardShortcuts({\n    onRollDice,\n    onSelectHigh,\n    onSelectLow,\n    onQuickBet10: () => onQuickBet(10),\n    onQuickBet25: () => onQuickBet(25),\n    onQuickBet50: () => onQuickBet(50),\n    onQuickBet100: () => onQuickBet(100),\n    onMaxBet,\n  })\n}\n","import React, { useMemo, useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useNavigate } from 'react-router-dom'\nimport { Dice1, CreditCard, Trophy, Zap, Star, Crown, Search, Filter, LayoutGrid } from 'lucide-react'\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\nimport { WalletRequiredModal } from '../components/WalletRequiredModal'\n\nexport const GamesPage: React.FC = () => {\n  const navigate = useNavigate()\n  const [query, setQuery] = useState('')\n  const [filter, setFilter] = useState<'all' | 'live' | 'soon'>('all')\n  const [layout, setLayout] = useState<'grid' | 'comfortable'>('grid')\n  const { connected } = useWalletContext() as any\n  const [showWalletRequired, setShowWalletRequired] = useState(false)\n\n  const games = [\n    {\n      id: 'dice',\n      title: 'HILO Dice',\n      description: 'Bet high or low on dice rolls. Simple, fast, and exciting!',\n      icon: Dice1,\n      color: 'from-blue-500 to-purple-600',\n      borderColor: 'border-blue-400',\n      shadowColor: 'shadow-blue-500/30',\n      status: 'available',\n      players: '2.4k playing',\n      minBet: '1 HILO',\n      maxBet: '10,000 HILO',\n      houseEdge: '2%',\n      route: '/game',\n    },\n    {\n      id: 'territory-wars',\n      title: 'Territory Wars',\n      description: 'Turn-based artillery with wagers. Classic stick strategy vibes.',\n      icon: Trophy,\n      color: 'from-teal-500 to-cyan-600',\n      borderColor: 'border-teal-400',\n      shadowColor: 'shadow-teal-500/30',\n      status: 'available',\n      players: '312 playing',\n      minBet: '1 HILO',\n      maxBet: '10,000 HILO',\n      houseEdge: 'Skill-based',\n      route: '/territory-wars',\n    },\n    {\n      id: 'modern-territory-wars',\n      title: 'Modern Territory Wars',\n      description: 'Polished 3D tactical combat with modern UI and particle effects.',\n      icon: Star,\n      color: 'from-purple-500 to-pink-600',\n      borderColor: 'border-purple-400',\n      shadowColor: 'shadow-purple-500/30',\n      status: 'available',\n      players: '156 playing',\n      minBet: '1 HILO',\n      maxBet: '10,000 HILO',\n      houseEdge: 'Skill-based',\n      route: '/modern-territory-wars',\n    },\n    {\n      id: 'blackjack',\n      title: 'Blackjack',\n      description: 'Beat the dealer by getting as close to 21 as possible.',\n      icon: CreditCard,\n      color: 'from-green-500 to-emerald-600',\n      borderColor: 'border-green-400',\n      shadowColor: 'shadow-green-500/30',\n      status: 'coming-soon',\n      players: 'Coming Soon',\n      minBet: '5 HILO',\n      maxBet: '50,000 HILO',\n      houseEdge: '0.5%',\n      route: '/blackjack',\n    },\n    {\n      id: 'roulette',\n      title: 'Roulette',\n      description: 'Spin the wheel and bet on numbers, colors, or sections.',\n      icon: Zap,\n      color: 'from-red-500 to-pink-600',\n      borderColor: 'border-red-400',\n      shadowColor: 'shadow-red-500/30',\n      status: 'coming-soon',\n      players: 'Coming Soon',\n      minBet: '2 HILO',\n      maxBet: '25,000 HILO',\n      houseEdge: '2.7%',\n      route: '/roulette',\n    },\n    {\n      id: 'slots',\n      title: 'Slots',\n      description: 'Spin the reels and match symbols for big wins!',\n      icon: Star,\n      color: 'from-yellow-500 to-orange-600',\n      borderColor: 'border-yellow-400',\n      shadowColor: 'shadow-yellow-500/30',\n      status: 'coming-soon',\n      players: 'Coming Soon',\n      minBet: '1 HILO',\n      maxBet: '5,000 HILO',\n      houseEdge: '3-5%',\n      route: '/slots',\n    },\n    {\n      id: 'poker',\n      title: 'Poker',\n      description: 'Play against other players in exciting poker games.',\n      icon: Crown,\n      color: 'from-purple-500 to-indigo-600',\n      borderColor: 'border-purple-400',\n      shadowColor: 'shadow-purple-500/30',\n      status: 'coming-soon',\n      players: 'Coming Soon',\n      minBet: '10 HILO',\n      maxBet: '100,000 HILO',\n      houseEdge: '0%',\n      route: '/poker',\n    },\n    {\n      id: 'tournaments',\n      title: 'Tournaments',\n      description: 'Compete in daily and weekly tournaments for prizes.',\n      icon: Trophy,\n      color: 'from-amber-500 to-yellow-600',\n      borderColor: 'border-amber-400',\n      shadowColor: 'shadow-amber-500/30',\n      status: 'coming-soon',\n      players: 'Coming Soon',\n      minBet: 'Entry Fee',\n      maxBet: 'Varies',\n      houseEdge: '0%',\n      route: '/tournaments',\n    },\n  ]\n\n  const handleGameClick = (game: (typeof games)[0]) => {\n    if (game.status !== 'available') return\n    // Allow browsing into the game page, but gameplay will be guarded.\n    navigate(game.route)\n  }\n\n  const filteredGames = useMemo(() => {\n    const normalized = query.trim().toLowerCase()\n    return games.filter(g => {\n      const byFilter =\n        filter === 'all' ? true : filter === 'live' ? g.status === 'available' : g.status !== 'available'\n      const byQuery = !normalized\n        ? true\n        : [g.title, g.description].some(s => s.toLowerCase().includes(normalized))\n      return byFilter && byQuery\n    })\n  }, [games, filter, query])\n\n  return (\n    <div className=\"min-h-screen bg-hilo-black text-white\">\n      {/* Background accents */}\n      <div className=\"fixed inset-0 pointer-events-none\">\n        <div className=\"absolute -top-32 -left-32 w-80 h-80 rounded-full bg-hilo-gold/5 blur-3xl\" />\n        <div className=\"absolute -bottom-32 -right-32 w-96 h-96 rounded-full bg-hilo-green/5 blur-3xl\" />\n      </div>\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Hero */}\n        <section className=\"pt-28 px-4\">\n          <div className=\"text-center mb-10\">\n            <motion.h1\n              className=\"text-4xl md:text-5xl font-extrabold tracking-tight\"\n              initial={{ opacity: 0, y: -12 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5 }}\n            >\n              <span className=\"bg-gradient-to-r from-hilo-gold via-hilo-red to-hilo-green bg-clip-text text-transparent\">\n                Play Something Legendary\n              </span>\n            </motion.h1>\n            <motion.p\n              className=\"text-gray-300/90 mt-3 text-lg max-w-2xl mx-auto\"\n              initial={{ opacity: 0, y: -8 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.45, delay: 0.1 }}\n            >\n              Fast, fair, and beautiful on-chain gaming. Pick a title and jump in.\n            </motion.p>\n          </div>\n\n          {/* Controls */}\n          <div className=\"px-1 flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"relative\">\n                <Search className=\"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2\" />\n                <input\n                  value={query}\n                  onChange={e => setQuery(e.target.value)}\n                  placeholder=\"Search games\"\n                  className=\"pl-9 pr-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-hilo-gold/40\"\n                />\n              </div>\n              <div className=\"hidden md:flex items-center gap-2 bg-white/5 border border-white/10 rounded-lg p-1\">\n                <button\n                  onClick={() => setFilter('all')}\n                  className={`px-3 py-1.5 text-sm rounded-md ${filter === 'all' ? 'bg-hilo-gold/20 text-hilo-gold' : 'text-gray-300 hover:text-white'}`}\n                  title=\"All games\"\n                >\n                  All\n                </button>\n                <button\n                  onClick={() => setFilter('live')}\n                  className={`px-3 py-1.5 text-sm rounded-md ${filter === 'live' ? 'bg-hilo-gold/20 text-hilo-gold' : 'text-gray-300 hover:text-white'}`}\n                  title=\"Live\"\n                >\n                  Live\n                </button>\n                <button\n                  onClick={() => setFilter('soon')}\n                  className={`px-3 py-1.5 text-sm rounded-md ${filter === 'soon' ? 'bg-hilo-gold/20 text-hilo-gold' : 'text-gray-300 hover:text-white'}`}\n                  title=\"Coming soon\"\n                >\n                  Soon\n                </button>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"hidden md:flex items-center gap-2 text-gray-400\">\n                <Filter className=\"w-4 h-4\" />\n                <span className=\"text-sm\">Filters</span>\n              </div>\n              <button\n                onClick={() => setLayout(prev => (prev === 'grid' ? 'comfortable' : 'grid'))}\n                className=\"flex items-center gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-sm text-gray-300 hover:text-white\"\n              >\n                <LayoutGrid className=\"w-4 h-4\" />\n                {layout === 'grid' ? 'Compact' : 'Comfortable'}\n              </button>\n            </div>\n          </div>\n        </section>\n\n        {/* Games Grid */}\n        <div className={`px-4 grid ${layout === 'grid' ? 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3' : 'grid-cols-1 md:grid-cols-2'} gap-6 md:gap-8`}>\n          <AnimatePresence>\n          {filteredGames.map((game, index) => (\n            <motion.div\n              key={game.id}\n              className={`\n                relative group cursor-pointer transition-all duration-300\n                ${\n                  game.status === 'available'\n                    ? 'hover:scale-105 hover:shadow-2xl'\n                    : 'opacity-60 cursor-not-allowed'\n                }\n              `}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: 10 }}\n              transition={{ duration: 0.5, delay: index * 0.1 }}\n              onClick={() => handleGameClick(game)}\n            >\n              <div\n                className={`\n                bg-gradient-to-br ${game.color} rounded-2xl p-6 h-full\n                border-2 ${game.borderColor} shadow-xl ${game.shadowColor}\n                relative overflow-hidden\n              `}\n              >\n                {/* Status Badge */}\n                <div className=\"absolute top-4 right-4\">\n                  {game.status === 'available' ? (\n                    <div className=\"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold\">\n                      LIVE\n                    </div>\n                  ) : (\n                    <div className=\"bg-gray-500 text-white text-xs px-2 py-1 rounded-full font-bold\">\n                      SOON\n                    </div>\n                  )}\n                </div>\n\n                {/* Game Icon */}\n                <div className=\"mb-6\">\n                  <div className=\"w-16 h-16 rounded-xl bg-black/20 backdrop-blur-sm border border-white/10 flex items-center justify-center shadow-inner\">\n                    <game.icon className=\"w-9 h-9 text-white/90\" />\n                  </div>\n                </div>\n\n                {/* Game Info */}\n                <div className=\"space-y-4\">\n                  <div>\n                    <h3 className=\"text-2xl font-bold text-white mb-2\">\n                      {game.title}\n                    </h3>\n                    <p className=\"text-white/80 text-sm leading-relaxed\">\n                      {game.description}\n                    </p>\n                  </div>\n\n                  {/* Game Stats */}\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between items-center text-white/70 text-sm\">\n                      <span>Players:</span>\n                      <span className=\"font-semibold\">{game.players}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center text-white/70 text-sm\">\n                      <span>Min Bet:</span>\n                      <span className=\"font-semibold\">{game.minBet}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center text-white/70 text-sm\">\n                      <span>Max Bet:</span>\n                      <span className=\"font-semibold\">{game.maxBet}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center text-white/70 text-sm\">\n                      <span>House Edge:</span>\n                      <span className=\"font-semibold\">{game.houseEdge}</span>\n                    </div>\n                  </div>\n\n                  {/* Play Button */}\n                  <div className=\"pt-4\">\n                    {game.status === 'available' ? (\n                      <motion.button\n                        className=\"w-full bg-white/20 backdrop-blur-sm text-white font-bold py-3 px-6 rounded-xl\n                                 hover:bg-white/30 transition-all duration-200 border border-white/30\n                                 group-hover:scale-105\"\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                      >\n                        Play Now\n                      </motion.button>\n                    ) : (\n                      <div\n                        className=\"w-full bg-white/10 backdrop-blur-sm text-white/60 font-bold py-3 px-6 rounded-xl\n                                    border border-white/20 text-center\"\n                      >\n                        Coming Soon\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Hover Effect */}\n                <div className=\"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl\" />\n              </div>\n            </motion.div>\n          ))}\n          </AnimatePresence>\n        </div>\n\n        {/* Bottom Info */}\n        <motion.div\n          className=\"mx-4 text-center mt-16 p-8 bg-gray-900/50 rounded-2xl border border-gray-700\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.8 }}\n        >\n          <h3 className=\"text-2xl font-bold text-hilo-gold mb-4\">\n            🎰 More Games Coming Soon!\n          </h3>\n          <p className=\"text-gray-300 max-w-3xl mx-auto\">\n            We&apos;re constantly adding new and exciting games to our platform.\n            Stay tuned for Blackjack, Roulette, Slots, Poker, and exclusive\n            tournaments. Each game is designed with provably fair mechanics and\n            stunning visuals.\n          </p>\n        </motion.div>\n      </div>\n    </div>\n  )\n}\n\nexport default GamesPage\n","import React, { useEffect } from 'react'\nimport { motion } from 'framer-motion'\nimport { useGameStore } from '../store/gameStore'\nimport { formatCurrency } from '../lib/utils'\n\n/**\n * Leaderboard Page Component\n * Displays top players with mock data\n */\nexport const LeaderboardPage: React.FC = () => {\n  const { leaderboard, updateLeaderboard } = useGameStore()\n\n  useEffect(() => {\n    updateLeaderboard()\n  }, [updateLeaderboard])\n\n  const getRankIcon = (index: number) => {\n    switch (index) {\n      case 0:\n        return '🥇'\n      case 1:\n        return '🥈'\n      case 2:\n        return '🥉'\n      default:\n        return `#${index + 1}`\n    }\n  }\n\n  const getRankColor = (index: number) => {\n    switch (index) {\n      case 0:\n        return 'text-hilo-gold'\n      case 1:\n        return 'text-gray-300'\n      case 2:\n        return 'text-orange-400'\n      default:\n        return 'text-gray-400'\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen py-8\">\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <motion.div\n          className=\"text-center mb-12\"\n          initial={{ opacity: 0, y: -30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <h1 className=\"text-4xl font-bold text-hilo-gold mb-4\">\n            🏆 Leaderboard\n          </h1>\n          <p className=\"text-xl text-gray-300\">\n            Top players and their achievements\n          </p>\n        </motion.div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n          <motion.div\n            className=\"card-hilo-glow text-center\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.1 }}\n          >\n            <div className=\"text-3xl font-bold text-hilo-gold mb-2\">\n              {leaderboard.length}\n            </div>\n            <div className=\"text-gray-400\">Total Players</div>\n          </motion.div>\n\n          <motion.div\n            className=\"card-hilo-glow text-center\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.2 }}\n          >\n            <div className=\"text-3xl font-bold text-hilo-green mb-2\">\n              {formatCurrency(\n                leaderboard.reduce(\n                  (sum, player) => sum + player.totalWagered,\n                  0\n                )\n              )}\n            </div>\n            <div className=\"text-gray-400\">Total Wagered</div>\n          </motion.div>\n\n          <motion.div\n            className=\"card-hilo-glow text-center\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.3 }}\n          >\n            <div className=\"text-3xl font-bold text-hilo-red mb-2\">\n              {leaderboard.length > 0\n                ? Math.round(\n                    (leaderboard.reduce(\n                      (sum, player) => sum + player.winRate,\n                      0\n                    ) /\n                      leaderboard.length) *\n                      100\n                  )\n                : 0}\n              %\n            </div>\n            <div className=\"text-gray-400\">Average Win Rate</div>\n          </motion.div>\n        </div>\n\n        {/* Leaderboard Table */}\n        <motion.div\n          className=\"card-hilo-glow\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, delay: 0.4 }}\n        >\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead>\n                <tr className=\"border-b border-hilo-gray-light\">\n                  <th className=\"text-left py-4 px-6 text-hilo-gold font-semibold\">\n                    Rank\n                  </th>\n                  <th className=\"text-left py-4 px-6 text-hilo-gold font-semibold\">\n                    Player\n                  </th>\n                  <th className=\"text-right py-4 px-6 text-hilo-gold font-semibold\">\n                    Wins\n                  </th>\n                  <th className=\"text-right py-4 px-6 text-hilo-gold font-semibold\">\n                    Wagered\n                  </th>\n                  <th className=\"text-right py-4 px-6 text-hilo-gold font-semibold\">\n                    Win Rate\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {leaderboard.map((player, index) => (\n                  <motion.tr\n                    key={player.id}\n                    className={`\n                      border-b border-hilo-gray-light/50 hover:bg-hilo-gray-light/20 transition-colors\n                      ${index < 3 ? 'bg-gradient-to-r from-hilo-gold/5 to-transparent' : ''}\n                    `}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ duration: 0.3, delay: index * 0.1 }}\n                    whileHover={{ scale: 1.01 }}\n                  >\n                    <td className=\"py-4 px-6\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className={`text-2xl ${getRankColor(index)}`}>\n                          {getRankIcon(index)}\n                        </span>\n                        {index < 3 && (\n                          <motion.div\n                            className=\"w-2 h-2 bg-hilo-gold rounded-full\"\n                            animate={{ scale: [1, 1.2, 1] }}\n                            transition={{ duration: 1, repeat: Infinity }}\n                          />\n                        )}\n                      </div>\n                    </td>\n\n                    <td className=\"py-4 px-6\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"text-2xl\">{player.avatar}</div>\n                        <div>\n                          <div className=\"font-semibold text-white\">\n                            {player.username}\n                          </div>\n                          <div className=\"text-sm text-gray-400\">\n                            Player #{player.id.split('-')[1]}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n\n                    <td className=\"py-4 px-6 text-right\">\n                      <div className=\"font-semibold text-hilo-green\">\n                        {player.totalWins.toLocaleString()}\n                      </div>\n                    </td>\n\n                    <td className=\"py-4 px-6 text-right\">\n                      <div className=\"font-semibold text-hilo-gold\">\n                        {formatCurrency(player.totalWagered)}\n                      </div>\n                    </td>\n\n                    <td className=\"py-4 px-6 text-right\">\n                      <div className=\"flex items-center justify-end gap-2\">\n                        <div className=\"font-semibold text-white\">\n                          {Math.round(player.winRate * 100)}%\n                        </div>\n                        <div className=\"w-16 bg-hilo-gray-light rounded-full h-2\">\n                          <motion.div\n                            className=\"bg-hilo-green h-2 rounded-full\"\n                            initial={{ width: 0 }}\n                            animate={{ width: `${player.winRate * 100}%` }}\n                            transition={{ duration: 1, delay: index * 0.1 }}\n                          />\n                        </div>\n                      </div>\n                    </td>\n                  </motion.tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </motion.div>\n\n        {/* Call to Action */}\n        <motion.div\n          className=\"text-center mt-12\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, delay: 0.6 }}\n        >\n          <h3 className=\"text-2xl font-bold text-hilo-gold mb-4\">\n            Ready to Join the Competition?\n          </h3>\n          <p className=\"text-gray-300 mb-6\">\n            Start playing now and climb the leaderboard!\n          </p>\n          <motion.a\n            href=\"/game\"\n            className=\"btn-hilo-primary text-lg px-8 py-4 inline-block\"\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n          >\n            🎲 Start Playing\n          </motion.a>\n        </motion.div>\n      </div>\n    </div>\n  )\n}\n\nexport default LeaderboardPage\n","import React, { useState, useEffect } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { useGameStore } from '../store/gameStore'\r\nimport { mockAPI } from '../lib/api'\r\n\r\n/**\r\n * Enhanced Provably Fair Page\r\n * Shows house edge, verification tools, and detailed fairness information\r\n */\r\nexport const EnhancedProvablyFairPage: React.FC = () => {\r\n  const {\r\n    serverSeed,\r\n    clientSeed,\r\n    nonce,\r\n    houseEdge,\r\n    gameHistory,\r\n    verifyRoll,\r\n    generateNewSeeds,\r\n  } = useGameStore()\r\n\r\n  const [verificationResult, setVerificationResult] = useState<{\r\n    isValid: boolean\r\n    message: string\r\n  } | null>(null)\r\n  const [houseEdgeInfo, setHouseEdgeInfo] = useState<any>(null)\r\n\r\n  useEffect(() => {\r\n    // Get house edge information\r\n    const info = mockAPI.getHouseEdgeInfo()\r\n    setHouseEdgeInfo(info)\r\n  }, [])\r\n\r\n  const handleVerifyRoll = (hash: string) => {\r\n    const isValid = verifyRoll(hash)\r\n    setVerificationResult({\r\n      isValid,\r\n      message: isValid\r\n        ? '✅ Roll is valid and provably fair!'\r\n        : '❌ Roll verification failed!',\r\n    })\r\n  }\r\n\r\n  const generateNewSeedsHandler = () => {\r\n    generateNewSeeds()\r\n    setVerificationResult(null)\r\n  }\r\n\r\n  const getVIPTierColor = (tier: string) => {\r\n    switch (tier) {\r\n      case 'Diamond':\r\n        return 'from-purple-500 to-pink-500'\r\n      case 'Gold':\r\n        return 'from-yellow-400 to-yellow-600'\r\n      case 'Silver':\r\n        return 'from-gray-300 to-gray-500'\r\n      default:\r\n        return 'from-orange-400 to-orange-600'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-hilo-black text-white p-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-12\">\r\n          <h1 className=\"text-5xl font-bold text-hilo-gold mb-4\">\r\n            Provably Fair Gaming\r\n          </h1>\r\n          <p className=\"text-xl text-gray-300 max-w-2xl mx-auto\">\r\n            Complete transparency in every roll. Verify the fairness of our\r\n            games using cryptographic proofs.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n          {/* House Edge Information */}\r\n          <motion.div\r\n            className=\"bg-gray-900 rounded-lg p-6\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.1 }}\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-hilo-gold mb-4\">\r\n              House Edge\r\n            </h2>\r\n\r\n            {houseEdgeInfo && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <span className=\"text-gray-300\">House Edge</span>\r\n                    <span className=\"text-2xl font-bold text-hilo-red\">\r\n                      {(houseEdgeInfo.houseEdge * 100).toFixed(1)}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-gray-300\">Player Win Chance</span>\r\n                    <span className=\"text-2xl font-bold text-hilo-green\">\r\n                      {(houseEdgeInfo.playerWinChance * 100).toFixed(1)}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <p className=\"text-sm text-gray-400\">\r\n                  {houseEdgeInfo.explanation}\r\n                </p>\r\n\r\n                <div className=\"bg-hilo-gold/10 border border-hilo-gold rounded-lg p-4\">\r\n                  <h3 className=\"font-bold text-hilo-gold mb-2\">\r\n                    Why House Edge?\r\n                  </h3>\r\n                  <ul className=\"text-sm text-gray-300 space-y-1\">\r\n                    <li>• Ensures casino sustainability</li>\r\n                    <li>• Covers operational costs</li>\r\n                    <li>• Maintains fair gameplay</li>\r\n                    <li>• Industry standard practice</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n\r\n          {/* Current Seeds */}\r\n          <motion.div\r\n            className=\"bg-gray-900 rounded-lg p-6\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.2 }}\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-hilo-gold mb-4\">\r\n              Current Seeds\r\n            </h2>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Server Seed (Hash)\r\n                </label>\r\n                <div className=\"bg-gray-800 rounded-lg p-3 font-mono text-sm break-all\">\r\n                  {serverSeed}\r\n                </div>\r\n                <p className=\"text-xs text-gray-400 mt-1\">\r\n                  Generated by the server, revealed after each game\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Client Seed\r\n                </label>\r\n                <div className=\"bg-gray-800 rounded-lg p-3 font-mono text-sm break-all\">\r\n                  {clientSeed}\r\n                </div>\r\n                <p className=\"text-xs text-gray-400 mt-1\">\r\n                  You can change this to any value you want\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Nonce\r\n                </label>\r\n                <div className=\"bg-gray-800 rounded-lg p-3 font-mono text-sm\">\r\n                  {nonce}\r\n                </div>\r\n                <p className=\"text-xs text-gray-400 mt-1\">\r\n                  Increments with each roll\r\n                </p>\r\n              </div>\r\n\r\n              <button\r\n                onClick={generateNewSeedsHandler}\r\n                className=\"w-full py-2 bg-hilo-gold text-black font-bold rounded-lg hover:bg-hilo-gold/80 transition-colors\"\r\n              >\r\n                Generate New Seeds\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Verification Tool */}\r\n          <motion.div\r\n            className=\"bg-gray-900 rounded-lg p-6\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.3 }}\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-hilo-gold mb-4\">\r\n              Verify Roll\r\n            </h2>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Enter Hash to Verify\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Paste roll hash here...\"\r\n                  className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white font-mono text-sm\"\r\n                  onKeyPress={e => {\r\n                    if (e.key === 'Enter') {\r\n                      handleVerifyRoll(e.currentTarget.value)\r\n                    }\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              {verificationResult && (\r\n                <motion.div\r\n                  className={`p-4 rounded-lg ${\r\n                    verificationResult.isValid\r\n                      ? 'bg-green-900/50 border border-green-500'\r\n                      : 'bg-red-900/50 border border-red-500'\r\n                  }`}\r\n                  initial={{ opacity: 0, scale: 0.9 }}\r\n                  animate={{ opacity: 1, scale: 1 }}\r\n                  transition={{ type: 'spring', stiffness: 200 }}\r\n                >\r\n                  <div\r\n                    className={`font-bold ${\r\n                      verificationResult.isValid\r\n                        ? 'text-green-400'\r\n                        : 'text-red-400'\r\n                    }`}\r\n                  >\r\n                    {verificationResult.message}\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n\r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h3 className=\"font-bold text-white mb-2\">How to Verify:</h3>\r\n                <ol className=\"text-sm text-gray-300 space-y-1 list-decimal list-inside\">\r\n                  <li>Copy the hash from your game history</li>\r\n                  <li>Paste it in the input field above</li>\r\n                  <li>Click verify or press Enter</li>\r\n                  <li>Check if the result matches your roll</li>\r\n                </ol>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Recent Rolls */}\r\n          <motion.div\r\n            className=\"bg-gray-900 rounded-lg p-6\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.4 }}\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-hilo-gold mb-4\">\r\n              Recent Rolls\r\n            </h2>\r\n\r\n            <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n              {gameHistory.slice(0, 10).map((game, index) => (\r\n                <motion.div\r\n                  key={game.id}\r\n                  className=\"bg-gray-800 rounded-lg p-3 hover:bg-gray-700 transition-colors\"\r\n                  initial={{ opacity: 0, x: -20 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  transition={{ delay: index * 0.1 }}\r\n                >\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span\r\n                        className={`text-lg ${\r\n                          game.won ? 'text-hilo-green' : 'text-hilo-red'\r\n                        }`}\r\n                      >\r\n                        {game.won ? '🎉' : '😞'}\r\n                      </span>\r\n                      <span className=\"font-bold\">\r\n                        {game.side.toUpperCase()} - {game.roll}\r\n                      </span>\r\n                    </div>\r\n                    <span className=\"text-sm text-gray-400\">\r\n                      {new Date(game.timestamp || Date.now()).toLocaleTimeString()}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"flex justify-between items-center text-sm\">\r\n                    <span className=\"text-gray-300\">Bet: {game.bet} HILO</span>\r\n                    <span className=\"text-gray-300\">\r\n                      Multiplier: {game.multiplier}x\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"mt-2\">\r\n                    <div className=\"text-xs text-gray-400 font-mono break-all\">\r\n                      Hash: {game.hash}\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleVerifyRoll(game.hash)}\r\n                      className=\"mt-1 text-xs text-hilo-gold hover:text-hilo-gold/80 transition-colors\"\r\n                    >\r\n                      Verify this roll\r\n                    </button>\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n\r\n              {gameHistory.length === 0 && (\r\n                <div className=\"text-center text-gray-400 py-8\">\r\n                  <div className=\"text-4xl mb-2\">🎲</div>\r\n                  <div>No games played yet</div>\r\n                  <div className=\"text-sm\">\r\n                    Start playing to see your roll history\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Fairness Guarantee */}\r\n        <motion.div\r\n          className=\"mt-12 bg-gradient-to-r from-hilo-gold/10 to-hilo-red/10 border border-hilo-gold rounded-lg p-8 text-center\"\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.5 }}\r\n        >\r\n          <h2 className=\"text-3xl font-bold text-hilo-gold mb-4\">\r\n            Fairness Guarantee\r\n          </h2>\r\n          <p className=\"text-lg text-gray-300 mb-6 max-w-3xl mx-auto\">\r\n            Every roll is cryptographically verifiable. We use industry-standard\r\n            hashing algorithms to ensure complete transparency and fairness. You\r\n            can verify any roll at any time.\r\n          </p>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-4xl mb-2\">🔒</div>\r\n              <h3 className=\"font-bold text-white mb-2\">\r\n                Cryptographically Secure\r\n              </h3>\r\n              <p className=\"text-sm text-gray-400\">\r\n                Uses SHA-256 hashing for maximum security\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <div className=\"text-4xl mb-2\">👁️</div>\r\n              <h3 className=\"font-bold text-white mb-2\">Fully Transparent</h3>\r\n              <p className=\"text-sm text-gray-400\">\r\n                All seeds and hashes are publicly visible\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <div className=\"text-4xl mb-2\">✅</div>\r\n              <h3 className=\"font-bold text-white mb-2\">\r\n                Independently Verifiable\r\n              </h3>\r\n              <p className=\"text-sm text-gray-400\">\r\n                Verify any roll using our open-source tools\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EnhancedProvablyFairPage\r\n","import React from 'react'\nimport { motion } from 'framer-motion'\n\n/**\n * About Page Component\n * Disclaimer and information about the mock gambling site\n */\nexport const AboutPage: React.FC = () => {\n  const features = [\n    {\n      icon: '🎯',\n      title: 'Fair Gaming',\n      description:\n        'Provably fair system ensures every game is transparent and verifiable',\n    },\n    {\n      icon: '🔒',\n      title: 'Secure Platform',\n      description: 'Bank-level security protects your data and transactions',\n    },\n    {\n      icon: '⚡',\n      title: 'Instant Payouts',\n      description: 'Win instantly with no waiting periods or delays',\n    },\n    {\n      icon: '📱',\n      title: 'Mobile First',\n      description: 'Optimized for all devices with responsive design',\n    },\n    {\n      icon: '🏆',\n      title: 'Leaderboards',\n      description: 'Compete with players worldwide and climb the ranks',\n    },\n    {\n      icon: '🎨',\n      title: 'Modern UI',\n      description: 'Beautiful, intuitive interface with smooth animations',\n    },\n  ]\n\n  const team = [\n    {\n      name: 'Alex Developer',\n      role: 'Lead Developer',\n      avatar: '👨‍💻',\n      description: 'Full-stack developer with 5+ years experience',\n    },\n    {\n      name: 'Sarah Designer',\n      role: 'UI/UX Designer',\n      avatar: '👩‍🎨',\n      description: 'Creative designer specializing in gaming interfaces',\n    },\n    {\n      name: 'Mike Security',\n      role: 'Security Expert',\n      avatar: '👨‍🔒',\n      description: 'Cybersecurity specialist ensuring platform safety',\n    },\n  ]\n\n  return (\n    <div className=\"min-h-screen py-8\">\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <motion.div\n          className=\"text-center mb-12\"\n          initial={{ opacity: 0, y: -30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <h1 className=\"text-4xl font-bold text-hilo-gold mb-4\">\n            ℹ️ About HILO Casino\n          </h1>\n          <p className=\"text-xl text-gray-300\">\n            Learn more about our platform and mission\n          </p>\n        </motion.div>\n\n        {/* Important Disclaimer */}\n        <motion.div\n          className=\"card-hilo-glow mb-12 border-2 border-hilo-red\"\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.8, delay: 0.2 }}\n        >\n          <div className=\"text-center\">\n            <div className=\"text-6xl mb-4\">⚠️</div>\n            <h2 className=\"text-3xl font-bold text-hilo-red mb-4\">\n              IMPORTANT DISCLAIMER\n            </h2>\n            <div className=\"text-lg text-gray-300 space-y-4 max-w-4xl mx-auto\">\n              <p>\n                <strong>\n                  HILO Casino is a MOCK gambling website created for\n                  demonstration purposes only.\n                </strong>\n              </p>\n              <p>\n                This platform is designed to showcase modern web development\n                techniques, including React, TypeScript, Framer Motion, and\n                provably fair gaming concepts.\n              </p>\n              <p>\n                <strong>No real money is involved.</strong> All transactions,\n                balances, and winnings are simulated and have no monetary value.\n              </p>\n              <p>\n                This project is intended for educational and portfolio purposes\n                only. Please do not use this as a basis for real gambling\n                activities.\n              </p>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Mission Statement */}\n        <motion.div\n          className=\"card-hilo mb-12\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, delay: 0.4 }}\n        >\n          <h2 className=\"text-3xl font-bold text-hilo-gold mb-6 text-center\">\n            Our Mission\n          </h2>\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <p className=\"text-xl text-gray-300 leading-relaxed mb-6\">\n              HILO Casino was created to demonstrate the power of modern web\n              technologies in creating engaging, interactive gaming experiences.\n              Our goal is to showcase best practices in:\n            </p>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 text-left\">\n              <ul className=\"space-y-2\">\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>React & TypeScript development</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>Framer Motion animations</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>Tailwind CSS styling</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>State management with Zustand</span>\n                </li>\n              </ul>\n              <ul className=\"space-y-2\">\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>Provably fair gaming concepts</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>Responsive design principles</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>Modern testing practices</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <span className=\"text-hilo-green\">✓</span>\n                  <span>Clean, maintainable code</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Features */}\n        <motion.div\n          className=\"mb-12\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, delay: 0.6 }}\n        >\n          <h2 className=\"text-3xl font-bold text-hilo-gold mb-8 text-center\">\n            Platform Features\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {features.map((feature, index) => (\n              <motion.div\n                key={feature.title}\n                className=\"card-hilo text-center\"\n                initial={{ opacity: 0, y: 30 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: 0.8 + index * 0.1 }}\n                whileHover={{ scale: 1.05 }}\n              >\n                <div className=\"text-4xl mb-4\">{feature.icon}</div>\n                <h3 className=\"text-xl font-semibold text-hilo-gold mb-2\">\n                  {feature.title}\n                </h3>\n                <p className=\"text-gray-400 text-sm\">{feature.description}</p>\n              </motion.div>\n            ))}\n          </div>\n        </motion.div>\n\n        {/* Team */}\n        <motion.div\n          className=\"mb-12\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, delay: 0.8 }}\n        >\n          <h2 className=\"text-3xl font-bold text-hilo-gold mb-8 text-center\">\n            Development Team\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            {team.map((member, index) => (\n              <motion.div\n                key={member.name}\n                className=\"card-hilo text-center\"\n                initial={{ opacity: 0, y: 30 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: 1.0 + index * 0.1 }}\n                whileHover={{ scale: 1.05 }}\n              >\n                <div className=\"text-6xl mb-4\">{member.avatar}</div>\n                <h3 className=\"text-xl font-semibold text-hilo-gold mb-1\">\n                  {member.name}\n                </h3>\n                <p className=\"text-hilo-green font-medium mb-2\">\n                  {member.role}\n                </p>\n                <p className=\"text-gray-400 text-sm\">{member.description}</p>\n              </motion.div>\n            ))}\n          </div>\n        </motion.div>\n\n        {/* Technology Stack */}\n        <motion.div\n          className=\"card-hilo-glow\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, delay: 1.2 }}\n        >\n          <h2 className=\"text-3xl font-bold text-hilo-gold mb-8 text-center\">\n            Technology Stack\n          </h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n            {[\n              { name: 'React', icon: '⚛️', color: 'text-blue-400' },\n              { name: 'TypeScript', icon: '🔷', color: 'text-blue-500' },\n              { name: 'Vite', icon: '⚡', color: 'text-yellow-400' },\n              { name: 'Tailwind CSS', icon: '🎨', color: 'text-cyan-400' },\n              { name: 'Framer Motion', icon: '🎬', color: 'text-pink-400' },\n              { name: 'Zustand', icon: '🐻', color: 'text-orange-400' },\n              { name: 'Vitest', icon: '🧪', color: 'text-green-400' },\n              { name: 'ESLint', icon: '🔍', color: 'text-purple-400' },\n            ].map((tech, index) => (\n              <motion.div\n                key={tech.name}\n                className=\"text-center\"\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ duration: 0.3, delay: 1.4 + index * 0.05 }}\n                whileHover={{ scale: 1.1 }}\n              >\n                <div className=\"text-4xl mb-2\">{tech.icon}</div>\n                <div className={`font-semibold ${tech.color}`}>{tech.name}</div>\n              </motion.div>\n            ))}\n          </div>\n        </motion.div>\n\n        {/* Call to Action */}\n        <motion.div\n          className=\"text-center mt-12\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, delay: 1.6 }}\n        >\n          <h3 className=\"text-2xl font-bold text-hilo-gold mb-4\">\n            Ready to Explore?\n          </h3>\n          <p className=\"text-gray-300 mb-6\">\n            Experience our mock gambling platform and see what modern web\n            development can create!\n          </p>\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <motion.a\n              href=\"/game\"\n              className=\"btn-hilo-primary text-lg px-8 py-4\"\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n            >\n              🎲 Try the Game\n            </motion.a>\n            <motion.a\n              href=\"/provably-fair\"\n              className=\"btn-hilo-outline text-lg px-8 py-4\"\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n            >\n              🛡️ Learn About Fair Gaming\n            </motion.a>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  )\n}\n\nexport default AboutPage\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Section: React.FC<{ id: string; title: string }> = ({ id, title, children }) => (\r\n  <section id={id} className=\"scroll-mt-24\">\r\n    <h2 className=\"text-2xl font-semibold text-white mb-3 flex items-center gap-2\">\r\n      <span className=\"w-1.5 h-5 bg-hilo-gold inline-block rounded-sm\" />\r\n      {title}\r\n    </h2>\r\n    <div className=\"bg-hilo-black/50 border border-hilo-gray-light rounded-xl p-5 text-gray-300\">\r\n      {children}\r\n    </div>\r\n  </section>\r\n)\r\n\r\nexport const FAQPage: React.FC = () => {\r\n  const items = [\r\n    { id: 'wallets', label: 'Wallets & Accounts' },\r\n    { id: 'deposits', label: 'Deposits' },\r\n    { id: 'withdrawals', label: 'Withdrawals' },\r\n    { id: 'provably-fair', label: 'Provably Fair' },\r\n    { id: 'bonuses', label: 'Bonuses & Promotions' },\r\n    { id: 'limits', label: 'Limits & Fees' },\r\n    { id: 'security', label: 'Security & Safety' },\r\n    { id: 'compliance', label: 'Compliance & Eligibility' },\r\n    { id: 'troubleshooting', label: 'Troubleshooting' },\r\n    { id: 'support', label: 'Support' },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"px-4 sm:px-6 lg:px-8 max-w-5xl mx-auto\">\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold\">Frequently Asked Questions</h1>\r\n        <p className=\"text-gray-400 mt-2\">Everything you need to know about using our Solana crypto casino.</p>\r\n      </div>\r\n\r\n      {/* Table of contents */}\r\n      <div className=\"mb-8 bg-hilo-gray border border-hilo-gray-light rounded-xl p-4\">\r\n        <div className=\"grid sm:grid-cols-2 gap-2\">\r\n          {items.map(i => (\r\n            <a key={i.id} href={`#${i.id}`} className=\"text-sm text-gray-300 hover:text-hilo-gold transition-colors\">\r\n              {i.label}\r\n            </a>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-8\">\r\n        <Section id=\"wallets\" title=\"Wallets & Accounts\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>We are non-custodial — you connect a Solana wallet (e.g., Phantom, Solflare) instead of creating a traditional account.</li>\r\n            <li>Your wallet address is your identity. Keep your seed phrase private; we can never recover it.</li>\r\n            <li>You can disconnect your wallet at any time from the header wallet menu.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"deposits\" title=\"Deposits\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>Supported currencies: SOL and selected SPL tokens (e.g., USDC) as displayed in the UI.</li>\r\n            <li>Deposits are on-chain. After sending, confirmations are usually near-instant; occasionally it may take a minute.</li>\r\n            <li>Only send assets on Solana mainnet to the deposit addresses we provide. Other networks may result in permanent loss.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"withdrawals\" title=\"Withdrawals\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>Withdrawals are processed on-chain to the connected wallet unless you specify another valid address.</li>\r\n            <li>Network fees are paid in SOL; ensure your wallet has enough SOL for fees.</li>\r\n            <li>Large or unusual withdrawals may require additional verification to protect users and the platform.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"provably-fair\" title=\"Provably Fair\">\r\n          <p className=\"mb-3\">Every game outcome is generated using our provably fair system. Each round uses:</p>\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>A server seed (committed via hash) and a client seed (from your browser), combined with a nonce.</li>\r\n            <li>You can verify any result via the <Link to=\"/provably-fair\" className=\"text-hilo-gold hover:underline\">Provably Fair</Link> page.</li>\r\n            <li>Seeds rotate regularly; you can set a custom client seed for independent verification.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"bonuses\" title=\"Bonuses & Promotions\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>Daily Wheel and seasonal promotions credit rewards directly to your in-site balance.</li>\r\n            <li>Some bonuses include wagering requirements. Details are shown in the promotion terms.</li>\r\n            <li>Abuse or multi-accounting may void bonuses and winnings as outlined in our anti-abuse policy.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"limits\" title=\"Limits & Fees\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>Minimum bet and maximum payout vary by game and are shown in the game UI.</li>\r\n            <li>Deposits and withdrawals are subject to standard Solana network fees; we do not add hidden fees.</li>\r\n            <li>Responsible limits are available in <Link to=\"/wallet\" className=\"text-hilo-gold hover:underline\">Wallet</Link> and <Link to=\"/settings\" className=\"text-hilo-gold hover:underline\">Settings</Link> areas where applicable.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"security\" title=\"Security & Safety\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>We never ask for your seed phrase or private keys. Only sign transactions you understand.</li>\r\n            <li>Smart contracts and backend services are monitored; see <Link to=\"/provably-fair\" className=\"text-hilo-gold hover:underline\">Provably Fair</Link> for verification tools.</li>\r\n            <li>Enable security features in your wallet (e.g., transaction simulation, trusted app domains).</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"compliance\" title=\"Compliance & Eligibility\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>You must be of legal gambling age in your jurisdiction and accept our Terms.</li>\r\n            <li>Some regions may be restricted from real-money play due to local regulations.</li>\r\n            <li>We support fair play; anti-abuse and AML checks may apply to suspicious activity.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"troubleshooting\" title=\"Troubleshooting\">\r\n          <ul className=\"list-disc pl-5 space-y-2\">\r\n            <li>If a wallet action is stuck, try reconnecting your wallet and ensuring you have SOL for fees.</li>\r\n            <li>Clear site storage/cache and reload if UI appears out of sync.</li>\r\n            <li>For missing transactions, check a Solana explorer (e.g., Solscan) using your wallet address.</li>\r\n          </ul>\r\n        </Section>\r\n\r\n        <Section id=\"support\" title=\"Support\">\r\n          <p className=\"text-gray-300\">Still need help? Contact <a className=\"text-hilo-gold hover:underline\" href=\"mailto:support@hilocasino.com?subject=Support Request\">support@hilocasino.com</a>.</p>\r\n        </Section>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FAQPage\r\n\r\n\r\n","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\n//---------------------------------------------------------------------\n// qrcode\n//---------------------------------------------------------------------\n\n/**\n * qrcode\n * @param typeNumber 1 to 40\n * @param errorCorrectionLevel 'L','M','Q','H'\n */\nexport const qrcode = function(typeNumber, errorCorrectionLevel) {\n\n  const PAD0 = 0xEC;\n  const PAD1 = 0x11;\n\n  let _typeNumber = typeNumber;\n  const _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n  let _modules = null;\n  let _moduleCount = 0;\n  let _dataCache = null;\n  const _dataList = [];\n\n  const _this = {};\n\n  const makeImpl = function(test, maskPattern) {\n\n    _moduleCount = _typeNumber * 4 + 17;\n    _modules = function(moduleCount) {\n      const modules = new Array(moduleCount);\n      for (let row = 0; row < moduleCount; row += 1) {\n        modules[row] = new Array(moduleCount);\n        for (let col = 0; col < moduleCount; col += 1) {\n          modules[row][col] = null;\n        }\n      }\n      return modules;\n    }(_moduleCount);\n\n    setupPositionProbePattern(0, 0);\n    setupPositionProbePattern(_moduleCount - 7, 0);\n    setupPositionProbePattern(0, _moduleCount - 7);\n    setupPositionAdjustPattern();\n    setupTimingPattern();\n    setupTypeInfo(test, maskPattern);\n\n    if (_typeNumber >= 7) {\n      setupTypeNumber(test);\n    }\n\n    if (_dataCache == null) {\n      _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n    }\n\n    mapData(_dataCache, maskPattern);\n  };\n\n  const setupPositionProbePattern = function(row, col) {\n\n    for (let r = -1; r <= 7; r += 1) {\n\n      if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n      for (let c = -1; c <= 7; c += 1) {\n\n        if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n        if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n            || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n            || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n          _modules[row + r][col + c] = true;\n        } else {\n          _modules[row + r][col + c] = false;\n        }\n      }\n    }\n  };\n\n  const getBestMaskPattern = function() {\n\n    let minLostPoint = 0;\n    let pattern = 0;\n\n    for (let i = 0; i < 8; i += 1) {\n\n      makeImpl(true, i);\n\n      const lostPoint = QRUtil.getLostPoint(_this);\n\n      if (i == 0 || minLostPoint > lostPoint) {\n        minLostPoint = lostPoint;\n        pattern = i;\n      }\n    }\n\n    return pattern;\n  };\n\n  const setupTimingPattern = function() {\n\n    for (let r = 8; r < _moduleCount - 8; r += 1) {\n      if (_modules[r][6] != null) {\n        continue;\n      }\n      _modules[r][6] = (r % 2 == 0);\n    }\n\n    for (let c = 8; c < _moduleCount - 8; c += 1) {\n      if (_modules[6][c] != null) {\n        continue;\n      }\n      _modules[6][c] = (c % 2 == 0);\n    }\n  };\n\n  const setupPositionAdjustPattern = function() {\n\n    const pos = QRUtil.getPatternPosition(_typeNumber);\n\n    for (let i = 0; i < pos.length; i += 1) {\n\n      for (let j = 0; j < pos.length; j += 1) {\n\n        const row = pos[i];\n        const col = pos[j];\n\n        if (_modules[row][col] != null) {\n          continue;\n        }\n\n        for (let r = -2; r <= 2; r += 1) {\n\n          for (let c = -2; c <= 2; c += 1) {\n\n            if (r == -2 || r == 2 || c == -2 || c == 2\n                || (r == 0 && c == 0) ) {\n              _modules[row + r][col + c] = true;\n            } else {\n              _modules[row + r][col + c] = false;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  const setupTypeNumber = function(test) {\n\n    const bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n    for (let i = 0; i < 18; i += 1) {\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n      _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n    }\n\n    for (let i = 0; i < 18; i += 1) {\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n      _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n    }\n  };\n\n  const setupTypeInfo = function(test, maskPattern) {\n\n    const data = (_errorCorrectionLevel << 3) | maskPattern;\n    const bits = QRUtil.getBCHTypeInfo(data);\n\n    // vertical\n    for (let i = 0; i < 15; i += 1) {\n\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n\n      if (i < 6) {\n        _modules[i][8] = mod;\n      } else if (i < 8) {\n        _modules[i + 1][8] = mod;\n      } else {\n        _modules[_moduleCount - 15 + i][8] = mod;\n      }\n    }\n\n    // horizontal\n    for (let i = 0; i < 15; i += 1) {\n\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n\n      if (i < 8) {\n        _modules[8][_moduleCount - i - 1] = mod;\n      } else if (i < 9) {\n        _modules[8][15 - i - 1 + 1] = mod;\n      } else {\n        _modules[8][15 - i - 1] = mod;\n      }\n    }\n\n    // fixed module\n    _modules[_moduleCount - 8][8] = (!test);\n  };\n\n  const mapData = function(data, maskPattern) {\n\n    let inc = -1;\n    let row = _moduleCount - 1;\n    let bitIndex = 7;\n    let byteIndex = 0;\n    const maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n    for (let col = _moduleCount - 1; col > 0; col -= 2) {\n\n      if (col == 6) col -= 1;\n\n      while (true) {\n\n        for (let c = 0; c < 2; c += 1) {\n\n          if (_modules[row][col - c] == null) {\n\n            let dark = false;\n\n            if (byteIndex < data.length) {\n              dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n            }\n\n            const mask = maskFunc(row, col - c);\n\n            if (mask) {\n              dark = !dark;\n            }\n\n            _modules[row][col - c] = dark;\n            bitIndex -= 1;\n\n            if (bitIndex == -1) {\n              byteIndex += 1;\n              bitIndex = 7;\n            }\n          }\n        }\n\n        row += inc;\n\n        if (row < 0 || _moduleCount <= row) {\n          row -= inc;\n          inc = -inc;\n          break;\n        }\n      }\n    }\n  };\n\n  const createBytes = function(buffer, rsBlocks) {\n\n    let offset = 0;\n\n    let maxDcCount = 0;\n    let maxEcCount = 0;\n\n    const dcdata = new Array(rsBlocks.length);\n    const ecdata = new Array(rsBlocks.length);\n\n    for (let r = 0; r < rsBlocks.length; r += 1) {\n\n      const dcCount = rsBlocks[r].dataCount;\n      const ecCount = rsBlocks[r].totalCount - dcCount;\n\n      maxDcCount = Math.max(maxDcCount, dcCount);\n      maxEcCount = Math.max(maxEcCount, ecCount);\n\n      dcdata[r] = new Array(dcCount);\n\n      for (let i = 0; i < dcdata[r].length; i += 1) {\n        dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n      }\n      offset += dcCount;\n\n      const rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n      const rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n      const modPoly = rawPoly.mod(rsPoly);\n      ecdata[r] = new Array(rsPoly.getLength() - 1);\n      for (let i = 0; i < ecdata[r].length; i += 1) {\n        const modIndex = i + modPoly.getLength() - ecdata[r].length;\n        ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n      }\n    }\n\n    let totalCodeCount = 0;\n    for (let i = 0; i < rsBlocks.length; i += 1) {\n      totalCodeCount += rsBlocks[i].totalCount;\n    }\n\n    const data = new Array(totalCodeCount);\n    let index = 0;\n\n    for (let i = 0; i < maxDcCount; i += 1) {\n      for (let r = 0; r < rsBlocks.length; r += 1) {\n        if (i < dcdata[r].length) {\n          data[index] = dcdata[r][i];\n          index += 1;\n        }\n      }\n    }\n\n    for (let i = 0; i < maxEcCount; i += 1) {\n      for (let r = 0; r < rsBlocks.length; r += 1) {\n        if (i < ecdata[r].length) {\n          data[index] = ecdata[r][i];\n          index += 1;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  const createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n    const rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n    const buffer = qrBitBuffer();\n\n    for (let i = 0; i < dataList.length; i += 1) {\n      const data = dataList[i];\n      buffer.put(data.getMode(), 4);\n      buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n      data.write(buffer);\n    }\n\n    // calc num max data.\n    let totalDataCount = 0;\n    for (let i = 0; i < rsBlocks.length; i += 1) {\n      totalDataCount += rsBlocks[i].dataCount;\n    }\n\n    if (buffer.getLengthInBits() > totalDataCount * 8) {\n      throw 'code length overflow. ('\n        + buffer.getLengthInBits()\n        + '>'\n        + totalDataCount * 8\n        + ')';\n    }\n\n    // end code\n    if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n      buffer.put(0, 4);\n    }\n\n    // padding\n    while (buffer.getLengthInBits() % 8 != 0) {\n      buffer.putBit(false);\n    }\n\n    // padding\n    while (true) {\n\n      if (buffer.getLengthInBits() >= totalDataCount * 8) {\n        break;\n      }\n      buffer.put(PAD0, 8);\n\n      if (buffer.getLengthInBits() >= totalDataCount * 8) {\n        break;\n      }\n      buffer.put(PAD1, 8);\n    }\n\n    return createBytes(buffer, rsBlocks);\n  };\n\n  _this.addData = function(data, mode) {\n\n    mode = mode || 'Byte';\n\n    let newData = null;\n\n    switch(mode) {\n    case 'Numeric' :\n      newData = qrNumber(data);\n      break;\n    case 'Alphanumeric' :\n      newData = qrAlphaNum(data);\n      break;\n    case 'Byte' :\n      newData = qr8BitByte(data);\n      break;\n    case 'Kanji' :\n      newData = qrKanji(data);\n      break;\n    default :\n      throw 'mode:' + mode;\n    }\n\n    _dataList.push(newData);\n    _dataCache = null;\n  };\n\n  _this.isDark = function(row, col) {\n    if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n      throw row + ',' + col;\n    }\n    return _modules[row][col];\n  };\n\n  _this.getModuleCount = function() {\n    return _moduleCount;\n  };\n\n  _this.make = function() {\n    if (_typeNumber < 1) {\n      let typeNumber = 1;\n\n      for (; typeNumber < 40; typeNumber++) {\n        const rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n        const buffer = qrBitBuffer();\n\n        for (let i = 0; i < _dataList.length; i++) {\n          const data = _dataList[i];\n          buffer.put(data.getMode(), 4);\n          buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n          data.write(buffer);\n        }\n\n        let totalDataCount = 0;\n        for (let i = 0; i < rsBlocks.length; i++) {\n          totalDataCount += rsBlocks[i].dataCount;\n        }\n\n        if (buffer.getLengthInBits() <= totalDataCount * 8) {\n          break;\n        }\n      }\n\n      _typeNumber = typeNumber;\n    }\n\n    makeImpl(false, getBestMaskPattern() );\n  };\n\n  _this.createTableTag = function(cellSize, margin) {\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    let qrHtml = '';\n\n    qrHtml += '<table style=\"';\n    qrHtml += ' border-width: 0px; border-style: none;';\n    qrHtml += ' border-collapse: collapse;';\n    qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n    qrHtml += '\">';\n    qrHtml += '<tbody>';\n\n    for (let r = 0; r < _this.getModuleCount(); r += 1) {\n\n      qrHtml += '<tr>';\n\n      for (let c = 0; c < _this.getModuleCount(); c += 1) {\n        qrHtml += '<td style=\"';\n        qrHtml += ' border-width: 0px; border-style: none;';\n        qrHtml += ' border-collapse: collapse;';\n        qrHtml += ' padding: 0px; margin: 0px;';\n        qrHtml += ' width: ' + cellSize + 'px;';\n        qrHtml += ' height: ' + cellSize + 'px;';\n        qrHtml += ' background-color: ';\n        qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n        qrHtml += ';';\n        qrHtml += '\"/>';\n      }\n\n      qrHtml += '</tr>';\n    }\n\n    qrHtml += '</tbody>';\n    qrHtml += '</table>';\n\n    return qrHtml;\n  };\n\n  _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n    let opts = {};\n    if (typeof arguments[0] == 'object') {\n      // Called by options.\n      opts = arguments[0];\n      // overwrite cellSize and margin.\n      cellSize = opts.cellSize;\n      margin = opts.margin;\n      alt = opts.alt;\n      title = opts.title;\n    }\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    // Compose alt property surrogate\n    alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n    alt.text = alt.text || null;\n    alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n    // Compose title property surrogate\n    title = (typeof title === 'string') ? {text: title} : title || {};\n    title.text = title.text || null;\n    title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    let c, mc, r, mr, qrSvg='', rect;\n\n    rect = 'l' + cellSize + ',0 0,' + cellSize +\n      ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n    qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n    qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n    qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n    qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n    qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n        escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n    qrSvg += '>';\n    qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n        escapeXml(title.text) + '</title>' : '';\n    qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n        escapeXml(alt.text) + '</description>' : '';\n    qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n    qrSvg += '<path d=\"';\n\n    for (r = 0; r < _this.getModuleCount(); r += 1) {\n      mr = r * cellSize + margin;\n      for (c = 0; c < _this.getModuleCount(); c += 1) {\n        if (_this.isDark(r, c) ) {\n          mc = c*cellSize+margin;\n          qrSvg += 'M' + mc + ',' + mr + rect;\n        }\n      }\n    }\n\n    qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n    qrSvg += '</svg>';\n\n    return qrSvg;\n  };\n\n  _this.createDataURL = function(cellSize, margin) {\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    const min = margin;\n    const max = size - margin;\n\n    return createDataURL(size, size, function(x, y) {\n      if (min <= x && x < max && min <= y && y < max) {\n        const c = Math.floor( (x - min) / cellSize);\n        const r = Math.floor( (y - min) / cellSize);\n        return _this.isDark(r, c)? 0 : 1;\n      } else {\n        return 1;\n      }\n    } );\n  };\n\n  _this.createImgTag = function(cellSize, margin, alt) {\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n\n    let img = '';\n    img += '<img';\n    img += '\\u0020src=\"';\n    img += _this.createDataURL(cellSize, margin);\n    img += '\"';\n    img += '\\u0020width=\"';\n    img += size;\n    img += '\"';\n    img += '\\u0020height=\"';\n    img += size;\n    img += '\"';\n    if (alt) {\n      img += '\\u0020alt=\"';\n      img += escapeXml(alt);\n      img += '\"';\n    }\n    img += '/>';\n\n    return img;\n  };\n\n  const escapeXml = function(s) {\n    let escaped = '';\n    for (let i = 0; i < s.length; i += 1) {\n      const c = s.charAt(i);\n      switch(c) {\n      case '<': escaped += '&lt;'; break;\n      case '>': escaped += '&gt;'; break;\n      case '&': escaped += '&amp;'; break;\n      case '\"': escaped += '&quot;'; break;\n      default : escaped += c; break;\n      }\n    }\n    return escaped;\n  };\n\n  const _createHalfASCII = function(margin) {\n    const cellSize = 1;\n    margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    const min = margin;\n    const max = size - margin;\n\n    let y, x, r1, r2, p;\n\n    const blocks = {\n      '██': '█',\n      '█ ': '▀',\n      ' █': '▄',\n      '  ': ' '\n    };\n\n    const blocksLastLineNoMargin = {\n      '██': '▀',\n      '█ ': '▀',\n      ' █': ' ',\n      '  ': ' '\n    };\n\n    let ascii = '';\n    for (y = 0; y < size; y += 2) {\n      r1 = Math.floor((y - min) / cellSize);\n      r2 = Math.floor((y + 1 - min) / cellSize);\n      for (x = 0; x < size; x += 1) {\n        p = '█';\n\n        if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n          p = ' ';\n        }\n\n        if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n          p += ' ';\n        }\n        else {\n          p += '█';\n        }\n\n        // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n        ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n      }\n\n      ascii += '\\n';\n    }\n\n    if (size % 2 && margin > 0) {\n      return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('▀');\n    }\n\n    return ascii.substring(0, ascii.length-1);\n  };\n\n  _this.createASCII = function(cellSize, margin) {\n    cellSize = cellSize || 1;\n\n    if (cellSize < 2) {\n      return _createHalfASCII(margin);\n    }\n\n    cellSize -= 1;\n    margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    const min = margin;\n    const max = size - margin;\n\n    let y, x, r, p;\n\n    const white = Array(cellSize+1).join('██');\n    const black = Array(cellSize+1).join('  ');\n\n    let ascii = '';\n    let line = '';\n    for (y = 0; y < size; y += 1) {\n      r = Math.floor( (y - min) / cellSize);\n      line = '';\n      for (x = 0; x < size; x += 1) {\n        p = 1;\n\n        if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n          p = 0;\n        }\n\n        // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n        line += p ? white : black;\n      }\n\n      for (r = 0; r < cellSize; r += 1) {\n        ascii += line + '\\n';\n      }\n    }\n\n    return ascii.substring(0, ascii.length-1);\n  };\n\n  _this.renderTo2dContext = function(context, cellSize) {\n    cellSize = cellSize || 2;\n    const length = _this.getModuleCount();\n    for (let row = 0; row < length; row++) {\n      for (let col = 0; col < length; col++) {\n        context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n        context.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);\n      }\n    }\n  }\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrcode.stringToBytes\n//---------------------------------------------------------------------\n\nqrcode.stringToBytes = function(s) {\n  const bytes = [];\n  for (let i = 0; i < s.length; i += 1) {\n    const c = s.charCodeAt(i);\n    bytes.push(c & 0xff);\n  }\n  return bytes;\n};\n\n//---------------------------------------------------------------------\n// qrcode.createStringToBytes\n//---------------------------------------------------------------------\n\n/**\n * @param unicodeData base64 string of byte array.\n * [16bit Unicode],[16bit Bytes], ...\n * @param numChars\n */\nqrcode.createStringToBytes = function(unicodeData, numChars) {\n\n  // create conversion map.\n\n  const unicodeMap = function() {\n\n    const bin = base64DecodeInputStream(unicodeData);\n    const read = function() {\n      const b = bin.read();\n      if (b == -1) throw 'eof';\n      return b;\n    };\n\n    let count = 0;\n    const unicodeMap = {};\n    while (true) {\n      const b0 = bin.read();\n      if (b0 == -1) break;\n      const b1 = read();\n      const b2 = read();\n      const b3 = read();\n      const k = String.fromCharCode( (b0 << 8) | b1);\n      const v = (b2 << 8) | b3;\n      unicodeMap[k] = v;\n      count += 1;\n    }\n    if (count != numChars) {\n      throw count + ' != ' + numChars;\n    }\n\n    return unicodeMap;\n  }();\n\n  const unknownChar = '?'.charCodeAt(0);\n\n  return function(s) {\n    const bytes = [];\n    for (let i = 0; i < s.length; i += 1) {\n      const c = s.charCodeAt(i);\n      if (c < 128) {\n        bytes.push(c);\n      } else {\n        const b = unicodeMap[s.charAt(i)];\n        if (typeof b == 'number') {\n          if ( (b & 0xff) == b) {\n            // 1byte\n            bytes.push(b);\n          } else {\n            // 2bytes\n            bytes.push(b >>> 8);\n            bytes.push(b & 0xff);\n          }\n        } else {\n          bytes.push(unknownChar);\n        }\n      }\n    }\n    return bytes;\n  };\n};\n\n//---------------------------------------------------------------------\n// QRMode\n//---------------------------------------------------------------------\n\nconst QRMode = {\n  MODE_NUMBER :    1 << 0,\n  MODE_ALPHA_NUM : 1 << 1,\n  MODE_8BIT_BYTE : 1 << 2,\n  MODE_KANJI :     1 << 3\n};\n\n//---------------------------------------------------------------------\n// QRErrorCorrectionLevel\n//---------------------------------------------------------------------\n\nconst QRErrorCorrectionLevel = {\n  L : 1,\n  M : 0,\n  Q : 3,\n  H : 2\n};\n\n//---------------------------------------------------------------------\n// QRMaskPattern\n//---------------------------------------------------------------------\n\nconst QRMaskPattern = {\n  PATTERN000 : 0,\n  PATTERN001 : 1,\n  PATTERN010 : 2,\n  PATTERN011 : 3,\n  PATTERN100 : 4,\n  PATTERN101 : 5,\n  PATTERN110 : 6,\n  PATTERN111 : 7\n};\n\n//---------------------------------------------------------------------\n// QRUtil\n//---------------------------------------------------------------------\n\nconst QRUtil = function() {\n\n  const PATTERN_POSITION_TABLE = [\n    [],\n    [6, 18],\n    [6, 22],\n    [6, 26],\n    [6, 30],\n    [6, 34],\n    [6, 22, 38],\n    [6, 24, 42],\n    [6, 26, 46],\n    [6, 28, 50],\n    [6, 30, 54],\n    [6, 32, 58],\n    [6, 34, 62],\n    [6, 26, 46, 66],\n    [6, 26, 48, 70],\n    [6, 26, 50, 74],\n    [6, 30, 54, 78],\n    [6, 30, 56, 82],\n    [6, 30, 58, 86],\n    [6, 34, 62, 90],\n    [6, 28, 50, 72, 94],\n    [6, 26, 50, 74, 98],\n    [6, 30, 54, 78, 102],\n    [6, 28, 54, 80, 106],\n    [6, 32, 58, 84, 110],\n    [6, 30, 58, 86, 114],\n    [6, 34, 62, 90, 118],\n    [6, 26, 50, 74, 98, 122],\n    [6, 30, 54, 78, 102, 126],\n    [6, 26, 52, 78, 104, 130],\n    [6, 30, 56, 82, 108, 134],\n    [6, 34, 60, 86, 112, 138],\n    [6, 30, 58, 86, 114, 142],\n    [6, 34, 62, 90, 118, 146],\n    [6, 30, 54, 78, 102, 126, 150],\n    [6, 24, 50, 76, 102, 128, 154],\n    [6, 28, 54, 80, 106, 132, 158],\n    [6, 32, 58, 84, 110, 136, 162],\n    [6, 26, 54, 82, 110, 138, 166],\n    [6, 30, 58, 86, 114, 142, 170]\n  ];\n  const G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n  const G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n  const G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n  const _this = {};\n\n  const getBCHDigit = function(data) {\n    let digit = 0;\n    while (data != 0) {\n      digit += 1;\n      data >>>= 1;\n    }\n    return digit;\n  };\n\n  _this.getBCHTypeInfo = function(data) {\n    let d = data << 10;\n    while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n      d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n    }\n    return ( (data << 10) | d) ^ G15_MASK;\n  };\n\n  _this.getBCHTypeNumber = function(data) {\n    let d = data << 12;\n    while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n      d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n    }\n    return (data << 12) | d;\n  };\n\n  _this.getPatternPosition = function(typeNumber) {\n    return PATTERN_POSITION_TABLE[typeNumber - 1];\n  };\n\n  _this.getMaskFunction = function(maskPattern) {\n\n    switch (maskPattern) {\n\n    case QRMaskPattern.PATTERN000 :\n      return function(i, j) { return (i + j) % 2 == 0; };\n    case QRMaskPattern.PATTERN001 :\n      return function(i, j) { return i % 2 == 0; };\n    case QRMaskPattern.PATTERN010 :\n      return function(i, j) { return j % 3 == 0; };\n    case QRMaskPattern.PATTERN011 :\n      return function(i, j) { return (i + j) % 3 == 0; };\n    case QRMaskPattern.PATTERN100 :\n      return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n    case QRMaskPattern.PATTERN101 :\n      return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n    case QRMaskPattern.PATTERN110 :\n      return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n    case QRMaskPattern.PATTERN111 :\n      return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n    default :\n      throw 'bad maskPattern:' + maskPattern;\n    }\n  };\n\n  _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n    let a = qrPolynomial([1], 0);\n    for (let i = 0; i < errorCorrectLength; i += 1) {\n      a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n    }\n    return a;\n  };\n\n  _this.getLengthInBits = function(mode, type) {\n\n    if (1 <= type && type < 10) {\n\n      // 1 - 9\n\n      switch(mode) {\n      case QRMode.MODE_NUMBER    : return 10;\n      case QRMode.MODE_ALPHA_NUM : return 9;\n      case QRMode.MODE_8BIT_BYTE : return 8;\n      case QRMode.MODE_KANJI     : return 8;\n      default :\n        throw 'mode:' + mode;\n      }\n\n    } else if (type < 27) {\n\n      // 10 - 26\n\n      switch(mode) {\n      case QRMode.MODE_NUMBER    : return 12;\n      case QRMode.MODE_ALPHA_NUM : return 11;\n      case QRMode.MODE_8BIT_BYTE : return 16;\n      case QRMode.MODE_KANJI     : return 10;\n      default :\n        throw 'mode:' + mode;\n      }\n\n    } else if (type < 41) {\n\n      // 27 - 40\n\n      switch(mode) {\n      case QRMode.MODE_NUMBER    : return 14;\n      case QRMode.MODE_ALPHA_NUM : return 13;\n      case QRMode.MODE_8BIT_BYTE : return 16;\n      case QRMode.MODE_KANJI     : return 12;\n      default :\n        throw 'mode:' + mode;\n      }\n\n    } else {\n      throw 'type:' + type;\n    }\n  };\n\n  _this.getLostPoint = function(qrcode) {\n\n    const moduleCount = qrcode.getModuleCount();\n\n    let lostPoint = 0;\n\n    // LEVEL1\n\n    for (let row = 0; row < moduleCount; row += 1) {\n      for (let col = 0; col < moduleCount; col += 1) {\n\n        let sameCount = 0;\n        const dark = qrcode.isDark(row, col);\n\n        for (let r = -1; r <= 1; r += 1) {\n\n          if (row + r < 0 || moduleCount <= row + r) {\n            continue;\n          }\n\n          for (let c = -1; c <= 1; c += 1) {\n\n            if (col + c < 0 || moduleCount <= col + c) {\n              continue;\n            }\n\n            if (r == 0 && c == 0) {\n              continue;\n            }\n\n            if (dark == qrcode.isDark(row + r, col + c) ) {\n              sameCount += 1;\n            }\n          }\n        }\n\n        if (sameCount > 5) {\n          lostPoint += (3 + sameCount - 5);\n        }\n      }\n    };\n\n    // LEVEL2\n\n    for (let row = 0; row < moduleCount - 1; row += 1) {\n      for (let col = 0; col < moduleCount - 1; col += 1) {\n        let count = 0;\n        if (qrcode.isDark(row, col) ) count += 1;\n        if (qrcode.isDark(row + 1, col) ) count += 1;\n        if (qrcode.isDark(row, col + 1) ) count += 1;\n        if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n        if (count == 0 || count == 4) {\n          lostPoint += 3;\n        }\n      }\n    }\n\n    // LEVEL3\n\n    for (let row = 0; row < moduleCount; row += 1) {\n      for (let col = 0; col < moduleCount - 6; col += 1) {\n        if (qrcode.isDark(row, col)\n            && !qrcode.isDark(row, col + 1)\n            &&  qrcode.isDark(row, col + 2)\n            &&  qrcode.isDark(row, col + 3)\n            &&  qrcode.isDark(row, col + 4)\n            && !qrcode.isDark(row, col + 5)\n            &&  qrcode.isDark(row, col + 6) ) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    for (let col = 0; col < moduleCount; col += 1) {\n      for (let row = 0; row < moduleCount - 6; row += 1) {\n        if (qrcode.isDark(row, col)\n            && !qrcode.isDark(row + 1, col)\n            &&  qrcode.isDark(row + 2, col)\n            &&  qrcode.isDark(row + 3, col)\n            &&  qrcode.isDark(row + 4, col)\n            && !qrcode.isDark(row + 5, col)\n            &&  qrcode.isDark(row + 6, col) ) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    // LEVEL4\n\n    let darkCount = 0;\n\n    for (let col = 0; col < moduleCount; col += 1) {\n      for (let row = 0; row < moduleCount; row += 1) {\n        if (qrcode.isDark(row, col) ) {\n          darkCount += 1;\n        }\n      }\n    }\n\n    const ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n    lostPoint += ratio * 10;\n\n    return lostPoint;\n  };\n\n  return _this;\n}();\n\n//---------------------------------------------------------------------\n// QRMath\n//---------------------------------------------------------------------\n\nconst QRMath = function() {\n\n  const EXP_TABLE = new Array(256);\n  const LOG_TABLE = new Array(256);\n\n  // initialize tables\n  for (let i = 0; i < 8; i += 1) {\n    EXP_TABLE[i] = 1 << i;\n  }\n  for (let i = 8; i < 256; i += 1) {\n    EXP_TABLE[i] = EXP_TABLE[i - 4]\n      ^ EXP_TABLE[i - 5]\n      ^ EXP_TABLE[i - 6]\n      ^ EXP_TABLE[i - 8];\n  }\n  for (let i = 0; i < 255; i += 1) {\n    LOG_TABLE[EXP_TABLE[i] ] = i;\n  }\n\n  const _this = {};\n\n  _this.glog = function(n) {\n\n    if (n < 1) {\n      throw 'glog(' + n + ')';\n    }\n\n    return LOG_TABLE[n];\n  };\n\n  _this.gexp = function(n) {\n\n    while (n < 0) {\n      n += 255;\n    }\n\n    while (n >= 256) {\n      n -= 255;\n    }\n\n    return EXP_TABLE[n];\n  };\n\n  return _this;\n}();\n\n//---------------------------------------------------------------------\n// qrPolynomial\n//---------------------------------------------------------------------\n\nconst qrPolynomial = function(num, shift) {\n\n  if (typeof num.length == 'undefined') {\n    throw num.length + '/' + shift;\n  }\n\n  const _num = function() {\n    let offset = 0;\n    while (offset < num.length && num[offset] == 0) {\n      offset += 1;\n    }\n    const _num = new Array(num.length - offset + shift);\n    for (let i = 0; i < num.length - offset; i += 1) {\n      _num[i] = num[i + offset];\n    }\n    return _num;\n  }();\n\n  const _this = {};\n\n  _this.getAt = function(index) {\n    return _num[index];\n  };\n\n  _this.getLength = function() {\n    return _num.length;\n  };\n\n  _this.multiply = function(e) {\n\n    const num = new Array(_this.getLength() + e.getLength() - 1);\n\n    for (let i = 0; i < _this.getLength(); i += 1) {\n      for (let j = 0; j < e.getLength(); j += 1) {\n        num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n      }\n    }\n\n    return qrPolynomial(num, 0);\n  };\n\n  _this.mod = function(e) {\n\n    if (_this.getLength() - e.getLength() < 0) {\n      return _this;\n    }\n\n    const ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n    const num = new Array(_this.getLength() );\n    for (let i = 0; i < _this.getLength(); i += 1) {\n      num[i] = _this.getAt(i);\n    }\n\n    for (let i = 0; i < e.getLength(); i += 1) {\n      num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n    }\n\n    // recursive call\n    return qrPolynomial(num, 0).mod(e);\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// QRRSBlock\n//---------------------------------------------------------------------\n\nconst QRRSBlock = function() {\n\n  const RS_BLOCK_TABLE = [\n\n    // L\n    // M\n    // Q\n    // H\n\n    // 1\n    [1, 26, 19],\n    [1, 26, 16],\n    [1, 26, 13],\n    [1, 26, 9],\n\n    // 2\n    [1, 44, 34],\n    [1, 44, 28],\n    [1, 44, 22],\n    [1, 44, 16],\n\n    // 3\n    [1, 70, 55],\n    [1, 70, 44],\n    [2, 35, 17],\n    [2, 35, 13],\n\n    // 4\n    [1, 100, 80],\n    [2, 50, 32],\n    [2, 50, 24],\n    [4, 25, 9],\n\n    // 5\n    [1, 134, 108],\n    [2, 67, 43],\n    [2, 33, 15, 2, 34, 16],\n    [2, 33, 11, 2, 34, 12],\n\n    // 6\n    [2, 86, 68],\n    [4, 43, 27],\n    [4, 43, 19],\n    [4, 43, 15],\n\n    // 7\n    [2, 98, 78],\n    [4, 49, 31],\n    [2, 32, 14, 4, 33, 15],\n    [4, 39, 13, 1, 40, 14],\n\n    // 8\n    [2, 121, 97],\n    [2, 60, 38, 2, 61, 39],\n    [4, 40, 18, 2, 41, 19],\n    [4, 40, 14, 2, 41, 15],\n\n    // 9\n    [2, 146, 116],\n    [3, 58, 36, 2, 59, 37],\n    [4, 36, 16, 4, 37, 17],\n    [4, 36, 12, 4, 37, 13],\n\n    // 10\n    [2, 86, 68, 2, 87, 69],\n    [4, 69, 43, 1, 70, 44],\n    [6, 43, 19, 2, 44, 20],\n    [6, 43, 15, 2, 44, 16],\n\n    // 11\n    [4, 101, 81],\n    [1, 80, 50, 4, 81, 51],\n    [4, 50, 22, 4, 51, 23],\n    [3, 36, 12, 8, 37, 13],\n\n    // 12\n    [2, 116, 92, 2, 117, 93],\n    [6, 58, 36, 2, 59, 37],\n    [4, 46, 20, 6, 47, 21],\n    [7, 42, 14, 4, 43, 15],\n\n    // 13\n    [4, 133, 107],\n    [8, 59, 37, 1, 60, 38],\n    [8, 44, 20, 4, 45, 21],\n    [12, 33, 11, 4, 34, 12],\n\n    // 14\n    [3, 145, 115, 1, 146, 116],\n    [4, 64, 40, 5, 65, 41],\n    [11, 36, 16, 5, 37, 17],\n    [11, 36, 12, 5, 37, 13],\n\n    // 15\n    [5, 109, 87, 1, 110, 88],\n    [5, 65, 41, 5, 66, 42],\n    [5, 54, 24, 7, 55, 25],\n    [11, 36, 12, 7, 37, 13],\n\n    // 16\n    [5, 122, 98, 1, 123, 99],\n    [7, 73, 45, 3, 74, 46],\n    [15, 43, 19, 2, 44, 20],\n    [3, 45, 15, 13, 46, 16],\n\n    // 17\n    [1, 135, 107, 5, 136, 108],\n    [10, 74, 46, 1, 75, 47],\n    [1, 50, 22, 15, 51, 23],\n    [2, 42, 14, 17, 43, 15],\n\n    // 18\n    [5, 150, 120, 1, 151, 121],\n    [9, 69, 43, 4, 70, 44],\n    [17, 50, 22, 1, 51, 23],\n    [2, 42, 14, 19, 43, 15],\n\n    // 19\n    [3, 141, 113, 4, 142, 114],\n    [3, 70, 44, 11, 71, 45],\n    [17, 47, 21, 4, 48, 22],\n    [9, 39, 13, 16, 40, 14],\n\n    // 20\n    [3, 135, 107, 5, 136, 108],\n    [3, 67, 41, 13, 68, 42],\n    [15, 54, 24, 5, 55, 25],\n    [15, 43, 15, 10, 44, 16],\n\n    // 21\n    [4, 144, 116, 4, 145, 117],\n    [17, 68, 42],\n    [17, 50, 22, 6, 51, 23],\n    [19, 46, 16, 6, 47, 17],\n\n    // 22\n    [2, 139, 111, 7, 140, 112],\n    [17, 74, 46],\n    [7, 54, 24, 16, 55, 25],\n    [34, 37, 13],\n\n    // 23\n    [4, 151, 121, 5, 152, 122],\n    [4, 75, 47, 14, 76, 48],\n    [11, 54, 24, 14, 55, 25],\n    [16, 45, 15, 14, 46, 16],\n\n    // 24\n    [6, 147, 117, 4, 148, 118],\n    [6, 73, 45, 14, 74, 46],\n    [11, 54, 24, 16, 55, 25],\n    [30, 46, 16, 2, 47, 17],\n\n    // 25\n    [8, 132, 106, 4, 133, 107],\n    [8, 75, 47, 13, 76, 48],\n    [7, 54, 24, 22, 55, 25],\n    [22, 45, 15, 13, 46, 16],\n\n    // 26\n    [10, 142, 114, 2, 143, 115],\n    [19, 74, 46, 4, 75, 47],\n    [28, 50, 22, 6, 51, 23],\n    [33, 46, 16, 4, 47, 17],\n\n    // 27\n    [8, 152, 122, 4, 153, 123],\n    [22, 73, 45, 3, 74, 46],\n    [8, 53, 23, 26, 54, 24],\n    [12, 45, 15, 28, 46, 16],\n\n    // 28\n    [3, 147, 117, 10, 148, 118],\n    [3, 73, 45, 23, 74, 46],\n    [4, 54, 24, 31, 55, 25],\n    [11, 45, 15, 31, 46, 16],\n\n    // 29\n    [7, 146, 116, 7, 147, 117],\n    [21, 73, 45, 7, 74, 46],\n    [1, 53, 23, 37, 54, 24],\n    [19, 45, 15, 26, 46, 16],\n\n    // 30\n    [5, 145, 115, 10, 146, 116],\n    [19, 75, 47, 10, 76, 48],\n    [15, 54, 24, 25, 55, 25],\n    [23, 45, 15, 25, 46, 16],\n\n    // 31\n    [13, 145, 115, 3, 146, 116],\n    [2, 74, 46, 29, 75, 47],\n    [42, 54, 24, 1, 55, 25],\n    [23, 45, 15, 28, 46, 16],\n\n    // 32\n    [17, 145, 115],\n    [10, 74, 46, 23, 75, 47],\n    [10, 54, 24, 35, 55, 25],\n    [19, 45, 15, 35, 46, 16],\n\n    // 33\n    [17, 145, 115, 1, 146, 116],\n    [14, 74, 46, 21, 75, 47],\n    [29, 54, 24, 19, 55, 25],\n    [11, 45, 15, 46, 46, 16],\n\n    // 34\n    [13, 145, 115, 6, 146, 116],\n    [14, 74, 46, 23, 75, 47],\n    [44, 54, 24, 7, 55, 25],\n    [59, 46, 16, 1, 47, 17],\n\n    // 35\n    [12, 151, 121, 7, 152, 122],\n    [12, 75, 47, 26, 76, 48],\n    [39, 54, 24, 14, 55, 25],\n    [22, 45, 15, 41, 46, 16],\n\n    // 36\n    [6, 151, 121, 14, 152, 122],\n    [6, 75, 47, 34, 76, 48],\n    [46, 54, 24, 10, 55, 25],\n    [2, 45, 15, 64, 46, 16],\n\n    // 37\n    [17, 152, 122, 4, 153, 123],\n    [29, 74, 46, 14, 75, 47],\n    [49, 54, 24, 10, 55, 25],\n    [24, 45, 15, 46, 46, 16],\n\n    // 38\n    [4, 152, 122, 18, 153, 123],\n    [13, 74, 46, 32, 75, 47],\n    [48, 54, 24, 14, 55, 25],\n    [42, 45, 15, 32, 46, 16],\n\n    // 39\n    [20, 147, 117, 4, 148, 118],\n    [40, 75, 47, 7, 76, 48],\n    [43, 54, 24, 22, 55, 25],\n    [10, 45, 15, 67, 46, 16],\n\n    // 40\n    [19, 148, 118, 6, 149, 119],\n    [18, 75, 47, 31, 76, 48],\n    [34, 54, 24, 34, 55, 25],\n    [20, 45, 15, 61, 46, 16]\n  ];\n\n  const qrRSBlock = function(totalCount, dataCount) {\n    const _this = {};\n    _this.totalCount = totalCount;\n    _this.dataCount = dataCount;\n    return _this;\n  };\n\n  const _this = {};\n\n  const getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n    switch(errorCorrectionLevel) {\n    case QRErrorCorrectionLevel.L :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n    case QRErrorCorrectionLevel.M :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n    case QRErrorCorrectionLevel.Q :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n    case QRErrorCorrectionLevel.H :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n    default :\n      return undefined;\n    }\n  };\n\n  _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n    const rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n    if (typeof rsBlock == 'undefined') {\n      throw 'bad rs block @ typeNumber:' + typeNumber +\n          '/errorCorrectionLevel:' + errorCorrectionLevel;\n    }\n\n    const length = rsBlock.length / 3;\n\n    const list = [];\n\n    for (let i = 0; i < length; i += 1) {\n\n      const count = rsBlock[i * 3 + 0];\n      const totalCount = rsBlock[i * 3 + 1];\n      const dataCount = rsBlock[i * 3 + 2];\n\n      for (let j = 0; j < count; j += 1) {\n        list.push(qrRSBlock(totalCount, dataCount) );\n      }\n    }\n\n    return list;\n  };\n\n  return _this;\n}();\n\n//---------------------------------------------------------------------\n// qrBitBuffer\n//---------------------------------------------------------------------\n\nconst qrBitBuffer = function() {\n\n  const _buffer = [];\n  let _length = 0;\n\n  const _this = {};\n\n  _this.getBuffer = function() {\n    return _buffer;\n  };\n\n  _this.getAt = function(index) {\n    const bufIndex = Math.floor(index / 8);\n    return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n  };\n\n  _this.put = function(num, length) {\n    for (let i = 0; i < length; i += 1) {\n      _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n    }\n  };\n\n  _this.getLengthInBits = function() {\n    return _length;\n  };\n\n  _this.putBit = function(bit) {\n\n    const bufIndex = Math.floor(_length / 8);\n    if (_buffer.length <= bufIndex) {\n      _buffer.push(0);\n    }\n\n    if (bit) {\n      _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n    }\n\n    _length += 1;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrNumber\n//---------------------------------------------------------------------\n\nconst qrNumber = function(data) {\n\n  const _mode = QRMode.MODE_NUMBER;\n  const _data = data;\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return _data.length;\n  };\n\n  _this.write = function(buffer) {\n\n    const data = _data;\n\n    let i = 0;\n\n    while (i + 2 < data.length) {\n      buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n      i += 3;\n    }\n\n    if (i < data.length) {\n      if (data.length - i == 1) {\n        buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n      } else if (data.length - i == 2) {\n        buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n      }\n    }\n  };\n\n  const strToNum = function(s) {\n    let num = 0;\n    for (let i = 0; i < s.length; i += 1) {\n      num = num * 10 + chatToNum(s.charAt(i) );\n    }\n    return num;\n  };\n\n  const chatToNum = function(c) {\n    if ('0' <= c && c <= '9') {\n      return c.charCodeAt(0) - '0'.charCodeAt(0);\n    }\n    throw 'illegal char :' + c;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrAlphaNum\n//---------------------------------------------------------------------\n\nconst qrAlphaNum = function(data) {\n\n  const _mode = QRMode.MODE_ALPHA_NUM;\n  const _data = data;\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return _data.length;\n  };\n\n  _this.write = function(buffer) {\n\n    const s = _data;\n\n    let i = 0;\n\n    while (i + 1 < s.length) {\n      buffer.put(\n        getCode(s.charAt(i) ) * 45 +\n        getCode(s.charAt(i + 1) ), 11);\n      i += 2;\n    }\n\n    if (i < s.length) {\n      buffer.put(getCode(s.charAt(i) ), 6);\n    }\n  };\n\n  const getCode = function(c) {\n\n    if ('0' <= c && c <= '9') {\n      return c.charCodeAt(0) - '0'.charCodeAt(0);\n    } else if ('A' <= c && c <= 'Z') {\n      return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n    } else {\n      switch (c) {\n      case '\\u0020' : return 36;\n      case '$' : return 37;\n      case '%' : return 38;\n      case '*' : return 39;\n      case '+' : return 40;\n      case '-' : return 41;\n      case '.' : return 42;\n      case '/' : return 43;\n      case ':' : return 44;\n      default :\n        throw 'illegal char :' + c;\n      }\n    }\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qr8BitByte\n//---------------------------------------------------------------------\n\nconst qr8BitByte = function(data) {\n\n  const _mode = QRMode.MODE_8BIT_BYTE;\n  const _data = data;\n  const _bytes = qrcode.stringToBytes(data);\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return _bytes.length;\n  };\n\n  _this.write = function(buffer) {\n    for (let i = 0; i < _bytes.length; i += 1) {\n      buffer.put(_bytes[i], 8);\n    }\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrKanji\n//---------------------------------------------------------------------\n\nconst qrKanji = function(data) {\n\n  const _mode = QRMode.MODE_KANJI;\n  const _data = data;\n\n  const stringToBytes = qrcode.stringToBytes;\n  !function(c, code) {\n    // self test for sjis support.\n    const test = stringToBytes(c);\n    if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n      throw 'sjis not supported.';\n    }\n  }('\\u53cb', 0x9746);\n\n  const _bytes = stringToBytes(data);\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return ~~(_bytes.length / 2);\n  };\n\n  _this.write = function(buffer) {\n\n    const data = _bytes;\n\n    let i = 0;\n\n    while (i + 1 < data.length) {\n\n      let c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n      if (0x8140 <= c && c <= 0x9FFC) {\n        c -= 0x8140;\n      } else if (0xE040 <= c && c <= 0xEBBF) {\n        c -= 0xC140;\n      } else {\n        throw 'illegal char at ' + (i + 1) + '/' + c;\n      }\n\n      c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n      buffer.put(c, 13);\n\n      i += 2;\n    }\n\n    if (i < data.length) {\n      throw 'illegal char at ' + (i + 1);\n    }\n  };\n\n  return _this;\n};\n\n//=====================================================================\n// GIF Support etc.\n//\n\n//---------------------------------------------------------------------\n// byteArrayOutputStream\n//---------------------------------------------------------------------\n\nconst byteArrayOutputStream = function() {\n\n  const _bytes = [];\n\n  const _this = {};\n\n  _this.writeByte = function(b) {\n    _bytes.push(b & 0xff);\n  };\n\n  _this.writeShort = function(i) {\n    _this.writeByte(i);\n    _this.writeByte(i >>> 8);\n  };\n\n  _this.writeBytes = function(b, off, len) {\n    off = off || 0;\n    len = len || b.length;\n    for (let i = 0; i < len; i += 1) {\n      _this.writeByte(b[i + off]);\n    }\n  };\n\n  _this.writeString = function(s) {\n    for (let i = 0; i < s.length; i += 1) {\n      _this.writeByte(s.charCodeAt(i) );\n    }\n  };\n\n  _this.toByteArray = function() {\n    return _bytes;\n  };\n\n  _this.toString = function() {\n    let s = '';\n    s += '[';\n    for (let i = 0; i < _bytes.length; i += 1) {\n      if (i > 0) {\n        s += ',';\n      }\n      s += _bytes[i];\n    }\n    s += ']';\n    return s;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// base64EncodeOutputStream\n//---------------------------------------------------------------------\n\nconst base64EncodeOutputStream = function() {\n\n  let _buffer = 0;\n  let _buflen = 0;\n  let _length = 0;\n  let _base64 = '';\n\n  const _this = {};\n\n  const writeEncoded = function(b) {\n    _base64 += String.fromCharCode(encode(b & 0x3f) );\n  };\n\n  const encode = function(n) {\n    if (n < 0) {\n      throw 'n:' + n;\n    } else if (n < 26) {\n      return 0x41 + n;\n    } else if (n < 52) {\n      return 0x61 + (n - 26);\n    } else if (n < 62) {\n      return 0x30 + (n - 52);\n    } else if (n == 62) {\n      return 0x2b;\n    } else if (n == 63) {\n      return 0x2f;\n    } else {\n      throw 'n:' + n;\n    }\n  };\n\n  _this.writeByte = function(n) {\n\n    _buffer = (_buffer << 8) | (n & 0xff);\n    _buflen += 8;\n    _length += 1;\n\n    while (_buflen >= 6) {\n      writeEncoded(_buffer >>> (_buflen - 6) );\n      _buflen -= 6;\n    }\n  };\n\n  _this.flush = function() {\n\n    if (_buflen > 0) {\n      writeEncoded(_buffer << (6 - _buflen) );\n      _buffer = 0;\n      _buflen = 0;\n    }\n\n    if (_length % 3 != 0) {\n      // padding\n      const padlen = 3 - _length % 3;\n      for (let i = 0; i < padlen; i += 1) {\n        _base64 += '=';\n      }\n    }\n  };\n\n  _this.toString = function() {\n    return _base64;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// base64DecodeInputStream\n//---------------------------------------------------------------------\n\nconst base64DecodeInputStream = function(str) {\n\n  const _str = str;\n  let _pos = 0;\n  let _buffer = 0;\n  let _buflen = 0;\n\n  const _this = {};\n\n  _this.read = function() {\n\n    while (_buflen < 8) {\n\n      if (_pos >= _str.length) {\n        if (_buflen == 0) {\n          return -1;\n        }\n        throw 'unexpected end of file./' + _buflen;\n      }\n\n      const c = _str.charAt(_pos);\n      _pos += 1;\n\n      if (c == '=') {\n        _buflen = 0;\n        return -1;\n      } else if (c.match(/^\\s$/) ) {\n        // ignore if whitespace.\n        continue;\n      }\n\n      _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n      _buflen += 6;\n    }\n\n    const n = (_buffer >>> (_buflen - 8) ) & 0xff;\n    _buflen -= 8;\n    return n;\n  };\n\n  const decode = function(c) {\n    if (0x41 <= c && c <= 0x5a) {\n      return c - 0x41;\n    } else if (0x61 <= c && c <= 0x7a) {\n      return c - 0x61 + 26;\n    } else if (0x30 <= c && c <= 0x39) {\n      return c - 0x30 + 52;\n    } else if (c == 0x2b) {\n      return 62;\n    } else if (c == 0x2f) {\n      return 63;\n    } else {\n      throw 'c:' + c;\n    }\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// gifImage (B/W)\n//---------------------------------------------------------------------\n\nconst gifImage = function(width, height) {\n\n  const _width = width;\n  const _height = height;\n  const _data = new Array(width * height);\n\n  const _this = {};\n\n  _this.setPixel = function(x, y, pixel) {\n    _data[y * _width + x] = pixel;\n  };\n\n  _this.write = function(out) {\n\n    //---------------------------------\n    // GIF Signature\n\n    out.writeString('GIF87a');\n\n    //---------------------------------\n    // Screen Descriptor\n\n    out.writeShort(_width);\n    out.writeShort(_height);\n\n    out.writeByte(0x80); // 2bit\n    out.writeByte(0);\n    out.writeByte(0);\n\n    //---------------------------------\n    // Global Color Map\n\n    // black\n    out.writeByte(0x00);\n    out.writeByte(0x00);\n    out.writeByte(0x00);\n\n    // white\n    out.writeByte(0xff);\n    out.writeByte(0xff);\n    out.writeByte(0xff);\n\n    //---------------------------------\n    // Image Descriptor\n\n    out.writeString(',');\n    out.writeShort(0);\n    out.writeShort(0);\n    out.writeShort(_width);\n    out.writeShort(_height);\n    out.writeByte(0);\n\n    //---------------------------------\n    // Local Color Map\n\n    //---------------------------------\n    // Raster Data\n\n    const lzwMinCodeSize = 2;\n    const raster = getLZWRaster(lzwMinCodeSize);\n\n    out.writeByte(lzwMinCodeSize);\n\n    let offset = 0;\n\n    while (raster.length - offset > 255) {\n      out.writeByte(255);\n      out.writeBytes(raster, offset, 255);\n      offset += 255;\n    }\n\n    out.writeByte(raster.length - offset);\n    out.writeBytes(raster, offset, raster.length - offset);\n    out.writeByte(0x00);\n\n    //---------------------------------\n    // GIF Terminator\n    out.writeString(';');\n  };\n\n  const bitOutputStream = function(out) {\n\n    const _out = out;\n    let _bitLength = 0;\n    let _bitBuffer = 0;\n\n    const _this = {};\n\n    _this.write = function(data, length) {\n\n      if ( (data >>> length) != 0) {\n        throw 'length over';\n      }\n\n      while (_bitLength + length >= 8) {\n        _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n        length -= (8 - _bitLength);\n        data >>>= (8 - _bitLength);\n        _bitBuffer = 0;\n        _bitLength = 0;\n      }\n\n      _bitBuffer = (data << _bitLength) | _bitBuffer;\n      _bitLength = _bitLength + length;\n    };\n\n    _this.flush = function() {\n      if (_bitLength > 0) {\n        _out.writeByte(_bitBuffer);\n      }\n    };\n\n    return _this;\n  };\n\n  const getLZWRaster = function(lzwMinCodeSize) {\n\n    const clearCode = 1 << lzwMinCodeSize;\n    const endCode = (1 << lzwMinCodeSize) + 1;\n    let bitLength = lzwMinCodeSize + 1;\n\n    // Setup LZWTable\n    const table = lzwTable();\n\n    for (let i = 0; i < clearCode; i += 1) {\n      table.add(String.fromCharCode(i) );\n    }\n    table.add(String.fromCharCode(clearCode) );\n    table.add(String.fromCharCode(endCode) );\n\n    const byteOut = byteArrayOutputStream();\n    const bitOut = bitOutputStream(byteOut);\n\n    // clear code\n    bitOut.write(clearCode, bitLength);\n\n    let dataIndex = 0;\n\n    let s = String.fromCharCode(_data[dataIndex]);\n    dataIndex += 1;\n\n    while (dataIndex < _data.length) {\n\n      const c = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      if (table.contains(s + c) ) {\n\n        s = s + c;\n\n      } else {\n\n        bitOut.write(table.indexOf(s), bitLength);\n\n        if (table.size() < 0xfff) {\n\n          if (table.size() == (1 << bitLength) ) {\n            bitLength += 1;\n          }\n\n          table.add(s + c);\n        }\n\n        s = c;\n      }\n    }\n\n    bitOut.write(table.indexOf(s), bitLength);\n\n    // end code\n    bitOut.write(endCode, bitLength);\n\n    bitOut.flush();\n\n    return byteOut.toByteArray();\n  };\n\n  const lzwTable = function() {\n\n    const _map = {};\n    let _size = 0;\n\n    const _this = {};\n\n    _this.add = function(key) {\n      if (_this.contains(key) ) {\n        throw 'dup key:' + key;\n      }\n      _map[key] = _size;\n      _size += 1;\n    };\n\n    _this.size = function() {\n      return _size;\n    };\n\n    _this.indexOf = function(key) {\n      return _map[key];\n    };\n\n    _this.contains = function(key) {\n      return typeof _map[key] != 'undefined';\n    };\n\n    return _this;\n  };\n\n  return _this;\n};\n\nconst createDataURL = function(width, height, getPixel) {\n  const gif = gifImage(width, height);\n  for (let y = 0; y < height; y += 1) {\n    for (let x = 0; x < width; x += 1) {\n      gif.setPixel(x, y, getPixel(x, y) );\n    }\n  }\n\n  const b = byteArrayOutputStream();\n  gif.write(b);\n\n  const base64 = base64EncodeOutputStream();\n  const bytes = b.toByteArray();\n  for (let i = 0; i < bytes.length; i += 1) {\n    base64.writeByte(bytes[i]);\n  }\n  base64.flush();\n\n  return 'data:image/gif;base64,' + base64;\n};\n\nexport default qrcode;\n\nexport const stringToBytes = qrcode.stringToBytes;\n","import React, { useState, useEffect } from 'react'\r\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\r\nimport {\r\n  WalletMultiButton,\r\n  WalletDisconnectButton,\r\n} from '@solana/wallet-adapter-react-ui'\r\nimport { PublicKey } from '@solana/web3.js'\r\nimport QRCode from 'qrcode-generator'\r\n\r\ninterface SolanaWalletProps {\r\n  onAuthSuccess?: (publicKey: string, signature: string) => void\r\n  onAuthError?: (error: string) => void\r\n}\r\n\r\nconst SolanaWallet: React.FC<SolanaWalletProps> = ({\r\n  onAuthSuccess,\r\n  onAuthError,\r\n}) => {\r\n  const {\r\n    publicKey,\r\n    connected,\r\n    connecting,\r\n    connect,\r\n    disconnect,\r\n    getBalance,\r\n    signMessage,\r\n  } = useWalletContext()\r\n\r\n  const [balance, setBalance] = useState<number>(0)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [qrCodeDataUrl, setQrCodeDataUrl] = useState<string | null>(null)\r\n  const [authStep, setAuthStep] = useState<\r\n    'connect' | 'sign' | 'authenticated'\r\n  >('connect')\r\n\r\n  // Update balance when wallet connects\r\n  useEffect(() => {\r\n    if (connected && publicKey) {\r\n      updateBalance()\r\n      generateQRCode()\r\n    } else {\r\n      setBalance(0)\r\n      setQrCodeDataUrl(null)\r\n      setAuthStep('connect')\r\n    }\r\n  }, [connected, publicKey])\r\n\r\n  const updateBalance = async () => {\r\n    try {\r\n      const currentBalance = await getBalance()\r\n      setBalance(currentBalance)\r\n      setError(null) // Clear any previous errors\r\n    } catch (err) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.error('Error fetching balance:', err)\r\n      }\r\n      // Show 0 for failed balance fetches - no mock balances\r\n      setBalance(0)\r\n    }\r\n  }\r\n\r\n  const generateQRCode = () => {\r\n    if (!publicKey) return\r\n\r\n    try {\r\n      const qr = QRCode(0, 'M')\r\n      qr.addData(publicKey.toString())\r\n      qr.make()\r\n\r\n      const canvas = document.createElement('canvas')\r\n      const ctx = canvas.getContext('2d')\r\n      const cellSize = 8\r\n      const margin = 16\r\n\r\n      canvas.width = qr.getModuleCount() * cellSize + margin * 2\r\n      canvas.height = qr.getModuleCount() * cellSize + margin * 2\r\n\r\n      if (ctx) {\r\n        ctx.fillStyle = '#ffffff'\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n\r\n        ctx.fillStyle = '#000000'\r\n        for (let row = 0; row < qr.getModuleCount(); row++) {\r\n          for (let col = 0; col < qr.getModuleCount(); col++) {\r\n            if (qr.isDark(row, col)) {\r\n              ctx.fillRect(\r\n                col * cellSize + margin,\r\n                row * cellSize + margin,\r\n                cellSize,\r\n                cellSize\r\n              )\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      setQrCodeDataUrl(canvas.toDataURL())\r\n    } catch (err) {\r\n      console.error('Error generating QR code:', err)\r\n    }\r\n  }\r\n\r\n  const handleConnect = async () => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      await connect()\r\n      setAuthStep('sign')\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to connect wallet')\r\n      onAuthError?.(err.message || 'Failed to connect wallet')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleSignMessage = async () => {\r\n    if (!publicKey) return\r\n\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n\r\n      // Generate a nonce for authentication\r\n      const nonce =\r\n        Math.random().toString(36).substring(2, 15) +\r\n        Math.random().toString(36).substring(2, 15)\r\n\r\n      const message = `Please sign this message to authenticate with HILO Casino.\\n\\nNonce: ${nonce}\\nTimestamp: ${Date.now()}\\n\\nThis signature proves ownership of your wallet and cannot be used to access your funds.`\r\n\r\n      const signature = await signMessage(message)\r\n      const signatureBase64 = Buffer.from(signature).toString('base64')\r\n\r\n      // Send to backend for verification\r\n      const response = await fetch('/api/auth/verify-signature', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          publicKey: publicKey.toString(),\r\n          message,\r\n          signature: signatureBase64,\r\n          nonce,\r\n        }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Authentication failed')\r\n      }\r\n\r\n      const authData = await response.json()\r\n\r\n      // Store auth token\r\n      localStorage.setItem('solana_auth_token', authData.token)\r\n      localStorage.setItem('solana_public_key', publicKey.toString())\r\n\r\n      setAuthStep('authenticated')\r\n      onAuthSuccess?.(publicKey.toString(), signatureBase64)\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to sign message')\r\n      onAuthError?.(err.message || 'Failed to sign message')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDisconnect = async () => {\r\n    try {\r\n      await disconnect()\r\n      localStorage.removeItem('solana_auth_token')\r\n      localStorage.removeItem('solana_public_key')\r\n      setAuthStep('connect')\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to disconnect')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gray-900 rounded-lg p-6 max-w-md mx-auto\">\r\n      <h2 className=\"text-2xl font-bold text-white mb-4 text-center\">\r\n        Solana Wallet\r\n      </h2>\r\n\r\n      {!connected ? (\r\n        <div className=\"text-center\">\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-gray-300 text-sm mb-2\">\r\n              Connect your wallet to authenticate and manage your SOL\r\n            </p>\r\n            <p className=\"text-gray-400 text-xs\">\r\n              Connecting only proves ownership - no funds can be accessed\r\n              without your confirmation\r\n            </p>\r\n          </div>\r\n\r\n          <WalletMultiButton className=\"!bg-blue-600 hover:!bg-blue-700 !rounded-lg !px-6 !py-3 !text-white !font-semibold\" />\r\n\r\n          {error && (\r\n            <div className=\"mt-4 p-3 bg-red-900/50 border border-red-500 rounded-lg\">\r\n              <p className=\"text-red-300 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {/* Wallet Info */}\r\n          <div className=\"bg-gray-800 rounded-lg p-4\">\r\n            <h3 className=\"text-white font-semibold mb-2\">Wallet Connected</h3>\r\n            <p className=\"text-gray-300 text-sm break-all\">\r\n              {publicKey?.toString()}\r\n            </p>\r\n            <p className=\"text-yellow-400 font-semibold mt-2\">\r\n              Balance: {balance.toFixed(4)} SOL\r\n            </p>\r\n          </div>\r\n\r\n          {/* QR Code for Deposit */}\r\n          {qrCodeDataUrl && (\r\n            <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n              <h3 className=\"text-white font-semibold mb-2\">Deposit Address</h3>\r\n              <div className=\"flex justify-center mb-2\">\r\n                <img src={qrCodeDataUrl} alt=\"QR Code\" className=\"w-32 h-32\" />\r\n              </div>\r\n              <p className=\"text-gray-300 text-xs break-all\">\r\n                {publicKey?.toString()}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Authentication Steps */}\r\n          {authStep === 'sign' && (\r\n            <div className=\"bg-blue-900/50 border border-blue-500 rounded-lg p-4\">\r\n              <h3 className=\"text-blue-300 font-semibold mb-2\">\r\n                Authentication Required\r\n              </h3>\r\n              <p className=\"text-blue-200 text-sm mb-4\">\r\n                Please sign a message to authenticate your wallet. This proves\r\n                ownership and cannot access your funds.\r\n              </p>\r\n              <button\r\n                onClick={handleSignMessage}\r\n                disabled={loading}\r\n                className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-semibold py-2 px-4 rounded-lg transition-colors\"\r\n              >\r\n                {loading ? 'Signing...' : 'Sign Message'}\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {authStep === 'authenticated' && (\r\n            <div className=\"bg-green-900/50 border border-green-500 rounded-lg p-4\">\r\n              <h3 className=\"text-green-300 font-semibold mb-2\">\r\n                ✅ Authenticated\r\n              </h3>\r\n              <p className=\"text-green-200 text-sm\">\r\n                Your wallet is now authenticated and ready to use.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={updateBalance}\r\n              className=\"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors\"\r\n            >\r\n              Refresh Balance\r\n            </button>\r\n            <WalletDisconnectButton className=\"!bg-red-600 hover:!bg-red-700 !rounded-lg !px-4 !py-2\" />\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"p-3 bg-red-900/50 border border-red-500 rounded-lg\">\r\n              <p className=\"text-red-300 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SolanaWallet\r\n","import React, { useState } from 'react'\r\nimport { useWalletContext } from '../contexts/WalletContextWrapper'\r\nimport { PublicKey } from '@solana/web3.js'\r\n\r\ninterface SOLTransferProps {\r\n  onTransferSuccess?: (signature: string) => void\r\n  onTransferError?: (error: string) => void\r\n}\r\n\r\nconst SOLTransfer: React.FC<SOLTransferProps> = ({\r\n  onTransferSuccess,\r\n  onTransferError,\r\n}) => {\r\n  const { publicKey, connected, sendTransaction } = useWalletContext()\r\n\r\n  const [recipient, setRecipient] = useState('')\r\n  const [amount, setAmount] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [success, setSuccess] = useState<string | null>(null)\r\n\r\n  const handleTransfer = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!connected || !publicKey) {\r\n      setError('Please connect your wallet first')\r\n      return\r\n    }\r\n\r\n    if (!recipient.trim()) {\r\n      setError('Please enter recipient address')\r\n      return\r\n    }\r\n\r\n    if (!amount || parseFloat(amount) <= 0) {\r\n      setError('Please enter a valid amount')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      setSuccess(null)\r\n\r\n      // Validate recipient address\r\n      try {\r\n        new PublicKey(recipient)\r\n      } catch {\r\n        setError('Invalid recipient address')\r\n        return\r\n      }\r\n\r\n      const signature = await sendTransaction(recipient, parseFloat(amount))\r\n\r\n      setSuccess(`Transaction successful! Signature: ${signature}`)\r\n      setRecipient('')\r\n      setAmount('')\r\n\r\n      onTransferSuccess?.(signature)\r\n    } catch (err: any) {\r\n      const errorMessage = err.message || 'Transfer failed'\r\n      setError(errorMessage)\r\n      onTransferError?.(errorMessage)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleRequestWithdrawal = async () => {\r\n    if (!connected || !publicKey) {\r\n      setError('Please connect your wallet first')\r\n      return\r\n    }\r\n\r\n    if (!amount || parseFloat(amount) <= 0) {\r\n      setError('Please enter a valid amount')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      setSuccess(null)\r\n\r\n      // Request withdrawal from website wallet\r\n      const response = await fetch('/api/wallet/withdraw', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${localStorage.getItem('solana_auth_token')}`,\r\n        },\r\n        body: JSON.stringify({\r\n          recipient: publicKey.toString(),\r\n          amount: parseFloat(amount),\r\n        }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.message || 'Withdrawal request failed')\r\n      }\r\n\r\n      const result = await response.json()\r\n      setSuccess(\r\n        `Withdrawal request submitted! Transaction: ${result.signature}`\r\n      )\r\n      setAmount('')\r\n    } catch (err: any) {\r\n      const errorMessage = err.message || 'Withdrawal request failed'\r\n      setError(errorMessage)\r\n      onTransferError?.(errorMessage)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  if (!connected) {\r\n    return (\r\n      <div className=\"bg-gray-900 rounded-lg p-6 max-w-md mx-auto\">\r\n        <h2 className=\"text-2xl font-bold text-white mb-4 text-center\">\r\n          SOL Transfer\r\n        </h2>\r\n        <div className=\"text-center\">\r\n          <p className=\"text-gray-300 mb-4\">\r\n            Please connect your wallet to send SOL\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gray-900 rounded-lg p-6 max-w-md mx-auto\">\r\n      <h2 className=\"text-2xl font-bold text-white mb-4 text-center\">\r\n        SOL Transfer\r\n      </h2>\r\n\r\n      <form onSubmit={handleTransfer} className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-white text-sm font-semibold mb-2\">\r\n            Recipient Address\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={recipient}\r\n            onChange={e => setRecipient(e.target.value)}\r\n            placeholder=\"Enter Solana address\"\r\n            className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500\"\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-white text-sm font-semibold mb-2\">\r\n            Amount (SOL)\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            min=\"0\"\r\n            value={amount}\r\n            onChange={e => setAmount(e.target.value)}\r\n            placeholder=\"0.001\"\r\n            className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500\"\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading || !recipient || !amount}\r\n            className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-semibold py-2 px-4 rounded-lg transition-colors\"\r\n          >\r\n            {loading ? 'Sending...' : 'Send SOL'}\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleRequestWithdrawal}\r\n            disabled={loading || !amount}\r\n            className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white font-semibold py-2 px-4 rounded-lg transition-colors\"\r\n          >\r\n            {loading ? 'Processing...' : 'Request Withdrawal'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      {error && (\r\n        <div className=\"mt-4 p-3 bg-red-900/50 border border-red-500 rounded-lg\">\r\n          <p className=\"text-red-300 text-sm\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {success && (\r\n        <div className=\"mt-4 p-3 bg-green-900/50 border border-green-500 rounded-lg\">\r\n          <p className=\"text-green-300 text-sm\">{success}</p>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mt-4 p-3 bg-gray-800 rounded-lg\">\r\n        <h3 className=\"text-white font-semibold mb-2\">Transfer Options:</h3>\r\n        <ul className=\"text-gray-300 text-sm space-y-1\">\r\n          <li>\r\n            • <strong>Send SOL:</strong> Transfer from your wallet to another\r\n            address\r\n          </li>\r\n          <li>\r\n            • <strong>Request Withdrawal:</strong> Request SOL from website\r\n            wallet to your address\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SOLTransfer\r\n","import React, { useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport SolanaWallet from '../components/SolanaWallet'\r\nimport SOLTransfer from '../components/SOLTransfer'\r\n\r\nconst WalletPage: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState<'wallet' | 'transfer'>('wallet')\r\n  const [authStatus, setAuthStatus] = useState<{\r\n    isAuthenticated: boolean\r\n    publicKey: string | null\r\n  }>({\r\n    isAuthenticated: false,\r\n    publicKey: null,\r\n  })\r\n\r\n  const handleAuthSuccess = (publicKey: string, signature: string) => {\r\n    setAuthStatus({\r\n      isAuthenticated: true,\r\n      publicKey,\r\n    })\r\n  }\r\n\r\n  const handleAuthError = (error: string) => {\r\n    console.error('Authentication error:', error)\r\n    setAuthStatus({\r\n      isAuthenticated: false,\r\n      publicKey: null,\r\n    })\r\n  }\r\n\r\n  const handleTransferSuccess = (signature: string) => {\r\n    console.log('Transfer successful:', signature)\r\n  }\r\n\r\n  const handleTransferError = (error: string) => {\r\n    console.error('Transfer error:', error)\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-hilo-black py-12\">\r\n      <div className=\"container mx-auto px-4\">\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"text-center mb-12\"\r\n        >\r\n          <h1 className=\"text-4xl md:text-6xl font-bold text-hilo-gold mb-4\">\r\n            Solana Wallet\r\n          </h1>\r\n          <p className=\"text-xl text-gray-300 max-w-2xl mx-auto\">\r\n            Connect your Phantom, Solflare, or Backpack wallet to authenticate\r\n            and manage your SOL securely\r\n          </p>\r\n        </motion.div>\r\n\r\n        {/* Tab Navigation */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n          className=\"flex justify-center mb-8\"\r\n        >\r\n          <div className=\"bg-gray-800 rounded-lg p-1 inline-flex\">\r\n            <button\r\n              onClick={() => setActiveTab('wallet')}\r\n              className={`px-6 py-3 rounded-md font-semibold transition-all duration-300 ${\r\n                activeTab === 'wallet'\r\n                  ? 'bg-hilo-gold text-hilo-black'\r\n                  : 'text-gray-300 hover:text-white'\r\n              }`}\r\n            >\r\n              Wallet Connection\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('transfer')}\r\n              className={`px-6 py-3 rounded-md font-semibold transition-all duration-300 ${\r\n                activeTab === 'transfer'\r\n                  ? 'bg-hilo-gold text-hilo-black'\r\n                  : 'text-gray-300 hover:text-white'\r\n              }`}\r\n            >\r\n              SOL Transfer\r\n            </button>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Content */}\r\n        <motion.div\r\n          key={activeTab}\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ duration: 0.4 }}\r\n          className=\"flex justify-center\"\r\n        >\r\n          {activeTab === 'wallet' ? (\r\n            <SolanaWallet\r\n              onAuthSuccess={handleAuthSuccess}\r\n              onAuthError={handleAuthError}\r\n            />\r\n          ) : (\r\n            <SOLTransfer\r\n              onTransferSuccess={handleTransferSuccess}\r\n              onTransferError={handleTransferError}\r\n            />\r\n          )}\r\n        </motion.div>\r\n\r\n        {/* Security Information */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.4 }}\r\n          className=\"mt-16 max-w-4xl mx-auto\"\r\n        >\r\n          <div className=\"bg-gray-900 rounded-lg p-8 border border-gray-700\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-6 text-center\">\r\n              🔒 Security & Trust\r\n            </h2>\r\n\r\n            <div className=\"grid md:grid-cols-2 gap-8\">\r\n              <div>\r\n                <h3 className=\"text-xl font-semibold text-hilo-gold mb-4\">\r\n                  What We Do\r\n                </h3>\r\n                <ul className=\"space-y-3 text-gray-300\">\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-green-400 mr-2\">✅</span>\r\n                    <span>\r\n                      Request minimal permissions - only signMessage for\r\n                      authentication\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-green-400 mr-2\">✅</span>\r\n                    <span>\r\n                      Use nonce-based authentication to prevent replay attacks\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-green-400 mr-2\">✅</span>\r\n                    <span>Implement rate limiting to prevent abuse</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-green-400 mr-2\">✅</span>\r\n                    <span>\r\n                      Use HTTPS and security headers for all communications\r\n                    </span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n\r\n              <div>\r\n                <h3 className=\"text-xl font-semibold text-hilo-gold mb-4\">\r\n                  What We Don&apos;t Do\r\n                </h3>\r\n                <ul className=\"space-y-3 text-gray-300\">\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-red-400 mr-2\">❌</span>\r\n                    <span>Never request access to your private keys</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-red-400 mr-2\">❌</span>\r\n                    <span>\r\n                      Never auto-connect or connect without explicit permission\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-red-400 mr-2\">❌</span>\r\n                    <span>\r\n                      Never sign transactions without your explicit approval\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"text-red-400 mr-2\">❌</span>\r\n                    <span>Never store your private keys or sensitive data</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-8 p-4 bg-blue-900/30 border border-blue-500 rounded-lg\">\r\n              <h4 className=\"text-lg font-semibold text-blue-300 mb-2\">\r\n                🛡️ Phantom Safety\r\n              </h4>\r\n              <p className=\"text-blue-200 text-sm\">\r\n                This implementation follows all Solana security best practices\r\n                to ensure Phantom and other wallets will not show unsafe site\r\n                warnings. We only request the minimum permissions necessary and\r\n                never attempt to access your funds without explicit consent.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Authentication Status */}\r\n        {authStatus.isAuthenticated && (\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 0.4 }}\r\n            className=\"fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg\"\r\n          >\r\n            <div className=\"flex items-center\">\r\n              <span className=\"w-2 h-2 bg-green-300 rounded-full mr-2 animate-pulse\"></span>\r\n              <span className=\"text-sm font-medium\">\r\n                Authenticated: {authStatus.publicKey?.slice(0, 8)}...\r\n              </span>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WalletPage\r\n","import React, { Component, ErrorInfo, ReactNode } from 'react'\nimport { AlertTriangle, RefreshCw, Home } from 'lucide-react'\n\ninterface Props {\n  children: ReactNode\n  fallback?: ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: Error\n  errorInfo?: ErrorInfo\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    // Don't show fallback UI for test errors\n    if (error.message?.includes('Test:') || error.message?.includes('Simulated')) {\n      console.log('✅ Test error detected in ErrorBoundary, not showing fallback UI')\n      return { hasError: false, error }\n    }\n    \n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Handle test errors gracefully\n    if (error.message?.includes('Test:') || error.message?.includes('Simulated')) {\n      console.log('✅ Test error caught by ErrorBoundary, handling gracefully')\n      return\n    }\n\n    // Log error in development, report in production\n    if (process.env.NODE_ENV === 'development') {\n      console.error('ErrorBoundary caught an error:', error, errorInfo)\n    }\n    \n    // In production, you would send this to an error reporting service\n    if (process.env.NODE_ENV === 'production') {\n      // Example: Sentry.captureException(error, { extra: errorInfo })\n      console.error('🚨 Production Error in ErrorBoundary:', {\n        message: error.message,\n        stack: error.stack,\n        componentStack: errorInfo.componentStack,\n        timestamp: new Date().toISOString(),\n        userAgent: navigator.userAgent,\n        url: window.location.href\n      })\n    }\n    \n    this.setState({ error, errorInfo })\n  }\n\n  handleReload = () => {\n    window.location.reload()\n  }\n\n  handleGoHome = () => {\n    window.location.href = '/'\n  }\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback\n      }\n\n      return (\n        <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-4\">\n          <div className=\"max-w-md w-full bg-gray-800 rounded-2xl p-8 text-center border border-gray-700\">\n            <div className=\"mb-6\">\n              <AlertTriangle className=\"w-16 h-16 text-red-400 mx-auto mb-4\" />\n              <h1 className=\"text-2xl font-bold text-white mb-2\">\n                Oops! Something went wrong\n              </h1>\n              <p className=\"text-gray-400 mb-6\">\n                We encountered an unexpected error. Don&apos;t worry, your game\n                progress is safe!\n              </p>\n            </div>\n\n            {process.env.NODE_ENV === 'development' && this.state.error && (\n              <div className=\"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg text-left\">\n                <h3 className=\"text-red-400 font-semibold mb-2\">\n                  Error Details:\n                </h3>\n                <pre className=\"text-xs text-red-300 whitespace-pre-wrap overflow-auto max-h-32\">\n                  {this.state.error.toString()}\n                </pre>\n                {this.state.errorInfo && (\n                  <pre className=\"text-xs text-red-300 whitespace-pre-wrap overflow-auto max-h-32 mt-2\">\n                    {this.state.errorInfo.componentStack}\n                  </pre>\n                )}\n              </div>\n            )}\n\n            <div className=\"space-y-3\">\n              <button\n                onClick={this.handleReload}\n                className=\"w-full bg-hilo-gold text-hilo-black font-bold py-3 px-6 rounded-lg hover:bg-hilo-gold/90 transition-colors flex items-center justify-center gap-2\"\n              >\n                <RefreshCw className=\"w-5 h-5\" />\n                Reload Page\n              </button>\n\n              <button\n                onClick={this.handleGoHome}\n                className=\"w-full bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center gap-2\"\n              >\n                <Home className=\"w-5 h-5\" />\n                Go Home\n              </button>\n            </div>\n\n            <div className=\"mt-6 text-xs text-gray-500\">\n              If this problem persists, please contact support.\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\n// Hook for error reporting\nexport const useErrorHandler = () => {\n  const reportError = (error: Error, context?: string) => {\n    // Log error in development\n    if (process.env.NODE_ENV === 'development') {\n      console.error('Error reported:', error, context)\n    }\n\n    // In production, send to error reporting service\n    if (process.env.NODE_ENV === 'production') {\n      // Example: Sentry.captureException(error, { tags: { context } })\n    }\n  }\n\n  return { reportError }\n}\n","import React, { Component, ErrorInfo, ReactNode } from 'react'\nimport { motion } from 'framer-motion'\n\ninterface Props {\n  children: ReactNode\n  fallback?: ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: Error\n  errorInfo?: ErrorInfo\n}\n\n/**\n * Global Error Boundary Component\n * Catches JavaScript errors anywhere in the child component tree,\n * logs those errors, and displays a fallback UI instead of the component tree that crashed.\n */\nexport class GlobalErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    // Don't show fallback UI for test errors\n    if (error.message?.includes('Test:') || error.message?.includes('Simulated')) {\n      console.log('✅ Test error detected in getDerivedStateFromError, not showing fallback UI')\n      return { hasError: false, error }\n    }\n    \n    // Update state so the next render will show the fallback UI\n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Log error details for debugging\n    console.error('🚨 Global Error Boundary caught an error:', error)\n    console.error('🚨 Error Info:', errorInfo)\n    \n    // Handle test errors gracefully\n    if (error.message?.includes('Test:') || error.message?.includes('Simulated')) {\n      console.log('✅ Test error caught by Global Error Boundary, handling gracefully')\n      // Don't update state for test errors, just log them\n      return\n    }\n    \n    // Log to external service in production\n    if (process.env.NODE_ENV === 'production') {\n      // You can integrate with error tracking services here\n      console.error('🚨 Production Error:', {\n        message: error.message,\n        stack: error.stack,\n        componentStack: errorInfo.componentStack,\n        timestamp: new Date().toISOString(),\n        userAgent: navigator.userAgent,\n        url: window.location.href\n      })\n    }\n\n    this.setState({\n      error,\n      errorInfo\n    })\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined })\n  }\n\n  handleReload = () => {\n    window.location.reload()\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // Custom fallback UI\n      if (this.props.fallback) {\n        return this.props.fallback\n      }\n\n      return (\n        <div className=\"min-h-screen bg-hilo-black text-white flex items-center justify-center p-4\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"max-w-md w-full bg-hilo-gray border border-hilo-gray-light rounded-xl p-6 text-center\"\n          >\n            {/* Error Icon */}\n            <motion.div\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ delay: 0.2, type: \"spring\" }}\n              className=\"text-6xl mb-4\"\n            >\n              ⚠️\n            </motion.div>\n\n            {/* Error Title */}\n            <motion.h1\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.3 }}\n              className=\"text-2xl font-bold text-hilo-gold mb-2\"\n            >\n              Oops! Something went wrong\n            </motion.h1>\n\n            {/* Error Message */}\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.4 }}\n              className=\"text-gray-300 mb-6\"\n            >\n              We encountered an unexpected error. Don't worry, your data is safe.\n            </motion.p>\n\n            {/* Error Details (Development Only) */}\n            {process.env.NODE_ENV === 'development' && this.state.error && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.5 }}\n                className=\"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg text-left\"\n              >\n                <h3 className=\"text-red-400 font-semibold mb-2\">Error Details:</h3>\n                <pre className=\"text-xs text-red-300 whitespace-pre-wrap break-words\">\n                  {this.state.error.message}\n                  {this.state.error.stack && '\\n\\nStack Trace:\\n' + this.state.error.stack}\n                </pre>\n              </motion.div>\n            )}\n\n            {/* Action Buttons */}\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.6 }}\n              className=\"flex gap-3 justify-center\"\n            >\n              <button\n                onClick={this.handleRetry}\n                className=\"px-4 py-2 bg-hilo-gold text-black rounded-lg hover:bg-hilo-gold/80 transition-colors font-medium\"\n              >\n                Try Again\n              </button>\n              <button\n                onClick={this.handleReload}\n                className=\"px-4 py-2 bg-hilo-gray-light text-white rounded-lg hover:bg-hilo-gray-light/80 transition-colors font-medium\"\n              >\n                Reload Page\n              </button>\n            </motion.div>\n\n            {/* Help Text */}\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.7 }}\n              className=\"text-xs text-gray-400 mt-4\"\n            >\n              If this problem persists, please contact support.\n            </motion.p>\n          </motion.div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default GlobalErrorBoundary\n","import React, { useEffect, useState } from 'react'\nimport { motion } from 'framer-motion'\n\ninterface SolanaWalletDetectorProps {\n  children: React.ReactNode\n}\n\n/**\n * Solana Wallet Detector Component\n * Detects if any Solana wallet is available and shows appropriate UI\n */\nexport const SolanaWalletDetector: React.FC<SolanaWalletDetectorProps> = ({ children }) => {\n  const [hasSolanaWallet, setHasSolanaWallet] = useState<boolean | null>(null)\n  const [detectedWallets, setDetectedWallets] = useState<string[]>([])\n\n  useEffect(() => {\n    const detectSolanaWallets = () => {\n      if (typeof window === 'undefined') {\n        setHasSolanaWallet(false)\n        return\n      }\n\n      const wallets: string[] = []\n      \n      // Check for Phantom\n      if ((window as any).solana?.isPhantom) {\n        wallets.push('Phantom')\n      }\n      \n      // Check for Solflare\n      if ((window as any).solflare) {\n        wallets.push('Solflare')\n      }\n      \n      // Check for other common Solana wallets\n      if ((window as any).solana?.isBackpack) {\n        wallets.push('Backpack')\n      }\n      \n      if ((window as any).solana?.isGlow) {\n        wallets.push('Glow')\n      }\n\n      setDetectedWallets(wallets)\n      setHasSolanaWallet(wallets.length > 0)\n    }\n\n    // Initial detection - immediate\n    detectSolanaWallets()\n\n    // Set a timeout to ensure we don't stay in loading state forever\n    const timeout = setTimeout(() => {\n      if (hasSolanaWallet === null) {\n        setHasSolanaWallet(false)\n      }\n    }, 1000) // 1 second timeout\n\n    // Listen for wallet installation events\n    const handleWalletDetected = () => {\n      detectSolanaWallets()\n    }\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('solana#initialized', handleWalletDetected)\n      \n      // Check periodically for newly installed wallets\n      const interval = setInterval(detectSolanaWallets, 2000)\n\n      return () => {\n        clearTimeout(timeout)\n        window.removeEventListener('solana#initialized', handleWalletDetected)\n        clearInterval(interval)\n      }\n    }\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [hasSolanaWallet])\n\n  // Still detecting - show loading state briefly\n  if (hasSolanaWallet === null) {\n    return (\n      <div className=\"min-h-screen bg-hilo-black text-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-6xl mb-4\">🎰</div>\n          <div className=\"text-xl text-hilo-gold\">Loading HILO Casino...</div>\n          <div className=\"text-sm text-gray-400 mt-2\">Checking for wallet...</div>\n        </div>\n      </div>\n    )\n  }\n\n  // No Solana wallet detected - show app normally without warning banner\n  if (!hasSolanaWallet) {\n    return <>{children}</>\n  }\n\n  // Wallet detected, show app normally\n  return <>{children}</>\n}\n\nexport default SolanaWalletDetector\n","import React, { useEffect, useState } from 'react'\r\n\r\n/**\r\n * Test component to isolate wallet adapter initialization issues\r\n */\r\nexport const WalletTest: React.FC = () => {\r\n  const [testResults, setTestResults] = useState<string[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  const addResult = (result: string) => {\r\n    console.log('🧪 Wallet Test:', result)\r\n    setTestResults(prev => [...prev, result])\r\n  }\r\n\r\n  useEffect(() => {\r\n    const runTests = async () => {\r\n      try {\r\n        addResult('Starting wallet adapter tests...')\r\n        \r\n        // Test 1: Check if window object exists\r\n        addResult(`Window object exists: ${typeof window !== 'undefined'}`)\r\n        \r\n        // Test 2: Check if crypto is available\r\n        addResult(`Crypto available: ${typeof crypto !== 'undefined'}`)\r\n        \r\n        // Test 3: Check if Buffer is available\r\n        addResult(`Buffer available: ${typeof Buffer !== 'undefined'}`)\r\n        \r\n        // Test 4: Try to import Solana web3.js\r\n        try {\r\n          const { Connection } = await import('@solana/web3.js')\r\n          addResult('✅ Solana web3.js imported successfully')\r\n          \r\n          // Test 5: Try to create a connection\r\n          try {\r\n            const conn = new Connection('https://api.devnet.solana.com', 'confirmed')\r\n            addResult('✅ Solana connection created successfully')\r\n            \r\n            // Test 6: Try to get version\r\n            try {\r\n              const version = await conn.getVersion()\r\n              addResult(`✅ Solana RPC working: ${JSON.stringify(version)}`)\r\n            } catch (error) {\r\n              addResult(`❌ Solana RPC failed: ${error}`)\r\n            }\r\n          } catch (error) {\r\n            addResult(`❌ Connection creation failed: ${error}`)\r\n          }\r\n        } catch (error) {\r\n          addResult(`❌ Solana web3.js import failed: ${error}`)\r\n        }\r\n        \r\n        // Test 7: Try to import wallet adapters\r\n        try {\r\n          const { SolflareWalletAdapter } = await import('@solana/wallet-adapter-solflare')\r\n          addResult('✅ SolflareWalletAdapter imported successfully')\r\n          \r\n          // Test 8: Try to create wallet adapter\r\n          try {\r\n            const adapter = new SolflareWalletAdapter()\r\n            addResult('✅ SolflareWalletAdapter created successfully')\r\n          } catch (error) {\r\n            addResult(`❌ SolflareWalletAdapter creation failed: ${error}`)\r\n          }\r\n        } catch (error) {\r\n          addResult(`❌ SolflareWalletAdapter import failed: ${error}`)\r\n        }\r\n        \r\n        addResult('Wallet adapter tests completed!')\r\n        \r\n      } catch (error) {\r\n        addResult(`❌ Test suite failed: ${error}`)\r\n        console.error('Wallet test error:', error)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    runTests()\r\n  }, [])\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{ padding: '20px', background: '#1a1a1a', color: 'white', minHeight: '100vh' }}>\r\n        <h2>🧪 Wallet Adapter Test</h2>\r\n        <div>Running tests...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '20px', background: '#1a1a1a', color: 'white', minHeight: '100vh' }}>\r\n      <h2>🧪 Wallet Adapter Test Results</h2>\r\n      <div style={{ marginTop: '20px' }}>\r\n        {testResults.map((result, index) => (\r\n          <div key={index} style={{ marginBottom: '10px', fontFamily: 'monospace' }}>\r\n            {result}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button \r\n        onClick={() => window.location.reload()} \r\n        style={{ \r\n          padding: '10px 20px', \r\n          marginTop: '20px',\r\n          background: '#FFD700',\r\n          color: 'black',\r\n          border: 'none',\r\n          borderRadius: '5px',\r\n          cursor: 'pointer'\r\n        }}\r\n      >\r\n        Reload Page\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","/**\n * Enhanced Debug System for HILO Casino\n * Provides comprehensive error catching and logging\n */\n\nexport const DEBUG =\n  (import.meta as any).env?.VITE_DEBUG === 'true' ||\n  (import.meta as any).env?.DEV\n\nexport const debug = {\n  info: (message: string, data?: any) => {\n    if (DEBUG) {\n      console.log(`🔍 [DEBUG] ${message}`, data || '')\n    }\n  },\n\n  error: (message: string, error?: any) => {\n    console.error(`❌ [ERROR] ${message}`, error || '')\n    // Ignore synthetic test errors to avoid noisy overlays\n    if (typeof message === 'string' && message.includes('Test:')) return\n    if (DEBUG) {\n      showErrorOverlay(message, error)\n    }\n  },\n\n  warn: (message: string, data?: any) => {\n    console.warn(`⚠️ [WARN] ${message}`, data || '')\n  },\n}\n\n// Global error handlers\nexport function setupGlobalErrorHandlers() {\n  // Catch all JavaScript errors\n  window.onerror = (message, source, lineno, colno, error) => {\n    debug.error(`Global Error: ${message}`, {\n      source,\n      line: lineno,\n      column: colno,\n      error: error?.stack,\n    })\n    return true // Prevent default error handling\n  }\n\n  // Catch unhandled promise rejections\n  window.onunhandledrejection = event => {\n    debug.error(\n      `Unhandled Promise Rejection: ${event.reason}`,\n      event.reason?.stack\n    )\n    event.preventDefault()\n  }\n\n  // Catch React errors\n  window.addEventListener('error', event => {\n    debug.error(`Window Error Event: ${event.message}`, {\n      filename: event.filename,\n      lineno: event.lineno,\n      colno: event.colno,\n      error: event.error?.stack,\n    })\n  })\n}\n\n// Error overlay for visible error display\nfunction showErrorOverlay(title: string, error?: any) {\n  // Don't display overlay for test/simulated errors\n  if (typeof title === 'string' && title.includes('Test:')) return\n  // Remove existing overlay\n  const existing = document.getElementById('debug-error-overlay')\n  if (existing) existing.remove()\n\n  const overlay = document.createElement('div')\n  overlay.id = 'debug-error-overlay'\n  overlay.style.cssText = `\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,0.95);\n    color: white;\n    z-index: 99999;\n    padding: 20px;\n    font-family: 'Courier New', monospace;\n    overflow: auto;\n    border: 2px solid #ff4444;\n  `\n\n  const errorDetails =\n    error?.stack || error?.toString() || 'No additional details'\n\n  overlay.innerHTML = `\n    <div style=\"background: #d32f2f; padding: 15px; margin-bottom: 20px; border-radius: 8px;\">\n      <h1 style=\"margin: 0; color: white; font-size: 24px;\">🚨 DEBUG ERROR OVERLAY</h1>\n      <p style=\"margin: 5px 0 0 0; opacity: 0.9;\">This overlay only appears when DEBUG=true</p>\n    </div>\n    <h2 style=\"color: #ffcdd2; font-size: 20px;\">${title}</h2>\n    <div style=\"background: #1a1a1a; padding: 15px; border-radius: 8px; margin: 15px 0;\">\n      <h3 style=\"color: #ffcdd2; margin-top: 0;\">Error Details:</h3>\n      <pre style=\"white-space: pre-wrap; overflow: auto; max-height: 300px; color: #ff6b6b;\">${errorDetails}</pre>\n    </div>\n    <div style=\"background: #2a2a2a; padding: 15px; border-radius: 8px; margin: 15px 0;\">\n      <h3 style=\"color: #ffcdd2; margin-top: 0;\">Timestamp:</h3>\n      <p style=\"color: #ccc;\">${new Date().toISOString()}</p>\n    </div>\n    <button onclick=\"this.parentElement.remove()\" style=\"\n      background: #d32f2f; \n      color: white; \n      border: none; \n      padding: 12px 24px; \n      border-radius: 6px; \n      cursor: pointer;\n      font-size: 16px;\n      font-weight: bold;\n    \">Close Error Overlay</button>\n  `\n\n  document.body.appendChild(overlay)\n}\n\n// Safe execution wrappers\nexport function safeSync<T>(fn: () => T, context: string): T | null {\n  try {\n    return fn()\n  } catch (error) {\n    debug.error(`Error in ${context}`, error)\n    return null\n  }\n}\n\nexport async function safeAsync<T>(\n  fn: () => Promise<T>,\n  context: string\n): Promise<T | null> {\n  try {\n    return await fn()\n  } catch (error) {\n    debug.error(`Error in ${context}`, error)\n    return null\n  }\n}\n","import * as React from 'react'\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom'\nimport Navigation from './components/Navigation'\nimport Footer from './components/Footer'\nimport HomePage from './pages/HomePage'\nimport GamePage from './pages/GamePage'\nimport { EnhancedGamePage } from './pages/EnhancedGamePage'\nimport GamesPage from './pages/GamesPage'\nimport LeaderboardPage from './pages/LeaderboardPage'\nimport { EnhancedProvablyFairPage } from './pages/EnhancedProvablyFairPage'\nimport AboutPage from './pages/AboutPage'\nimport FAQPage from './pages/FAQPage'\nimport WalletPage from './pages/WalletPage'\n\n// Lazy-load heavy Territory Wars pages to reduce initial bundle\nconst TerritoryWarsPage = React.lazy(() => import('./pages/TerritoryWarsPage'))\nimport { ErrorBoundary } from './components/ErrorBoundary'\nimport { GlobalErrorBoundary } from './components/GlobalErrorBoundary'\nimport { SolanaWalletDetector } from './components/SolanaWalletDetector'\nimport { ThemeProvider } from './contexts/ThemeContext'\nimport { WalletContextWrapper } from './contexts/WalletContextWrapper'\nimport { ToastContainer, useToast, ToastProvider } from './components/Toast'\nimport { WalletTest } from './components/WalletTest'\nimport { debug } from './lib/debug'\n\n/**\n * Main App Component\n * Sets up routing and global layout with error boundaries and theme support\n */\nfunction App() {\n  console.log('🎨 App component rendering...')\n  console.log('🎨 App - React version:', React.version)\n  console.log('🎨 App - Environment check:', {\n    isProduction: (import.meta as any).env?.PROD || false,\n    isDevelopment: (import.meta as any).env?.DEV || false,\n    mode: (import.meta as any).env?.MODE || 'unknown'\n  })\n  debug.info('🎨 App component rendering...')\n\n  try {\n    console.log('🎨 App - Creating component tree...')\n    \n    // TEMPORARY: Use wallet test for debugging (add ?test=wallet to URL)\n    const useWalletTest = typeof window !== 'undefined' && window.location.search.includes('test=wallet')\n    \n    if (useWalletTest) {\n      console.log('🎨 App - Using wallet test component')\n      return <WalletTest />\n    }\n    \n    const appContent = (\n      <GlobalErrorBoundary>\n        <ErrorBoundary>\n          <SolanaWalletDetector>\n            <ThemeProvider>\n              <ToastProvider>\n                <WalletContextWrapper>\n                  <AppContent />\n                </WalletContextWrapper>\n              </ToastProvider>\n            </ThemeProvider>\n          </SolanaWalletDetector>\n        </ErrorBoundary>\n      </GlobalErrorBoundary>\n    )\n    console.log('🎨 App - Component tree created successfully')\n    return appContent\n  } catch (error) {\n    console.error('❌ Error in App component', error)\n    console.error('❌ App Error Stack:', error instanceof Error ? error.stack : 'No stack trace')\n    debug.error('❌ Error in App component', error)\n    return (\n      <div style={{ padding: '20px', color: 'red', backgroundColor: 'white', minHeight: '100vh' }}>\n        <h1>App Component Error</h1>\n        <p><strong>Error:</strong> {String(error)}</p>\n        <p><strong>Stack:</strong></p>\n        <pre style={{ background: '#f5f5f5', padding: '10px', overflow: 'auto' }}>\n          {error instanceof Error ? error.stack : 'No stack trace available'}\n        </pre>\n        <button onClick={() => window.location.reload()} style={{ padding: '10px 20px', marginTop: '20px' }}>\n          Reload Page\n        </button>\n      </div>\n    )\n  }\n}\n\nfunction AppContent() {\n  console.log('🎨 AppContent component rendering...')\n  debug.info('🎨 AppContent component rendering...')\n  \n  try {\n    console.log('🎨 AppContent - getting toast hook...')\n    const toastContext = useToast()\n    console.log('🎨 AppContent - toast hook obtained, creating router...')\n\n    return (\n      <Router future={{ v7_startTransition: true, v7_relativeSplatPath: true }}>\n        <div className=\"min-h-screen bg-hilo-black text-white\">\n          {/* Navigation */}\n          <Navigation />\n\n          {/* Main Content */}\n          <main className=\"pt-16\">\n            <React.Suspense fallback={<div style={{ padding: 20 }}>Loading…</div>}>\n            <Routes>\n              <Route path=\"/\" element={<HomePage />} />\n              <Route path=\"/games\" element={<GamesPage />} />\n              <Route path=\"/game\" element={<EnhancedGamePage />} />\n              <Route path=\"/territory-wars\" element={<TerritoryWarsPage />} />\n              <Route path=\"/classic\" element={<GamePage />} />\n              <Route path=\"/leaderboard\" element={<LeaderboardPage />} />\n              <Route\n                path=\"/provably-fair\"\n                element={<EnhancedProvablyFairPage />}\n              />\n              <Route path=\"/wallet\" element={<WalletPage />} />\n              <Route path=\"/about\" element={<AboutPage />} />\n              <Route path=\"/faq\" element={<FAQPage />} />\n            </Routes>\n            </React.Suspense>\n          </main>\n\n          {/* Footer */}\n          <Footer />\n\n          {/* Toast Notifications */}\n          <ToastContainer toasts={toastContext.toasts} onClose={toastContext.removeToast} />\n        </div>\n      </Router>\n    )\n  } catch (error) {\n    console.error('❌ Error in AppContent component', error)\n    debug.error('❌ Error in AppContent component', error)\n    return (\n      <div style={{ padding: '20px', color: 'red', backgroundColor: 'white' }}>\n        <h1>AppContent Error</h1>\n        <pre>{String(error)}</pre>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.tsx'\nimport './index.css'\nimport { errorReporter } from './lib/errorReporting'\nimport { Buffer } from 'buffer'\n\n// BigInt polyfill for older browsers\nif (typeof BigInt === 'undefined') {\n  console.warn('BigInt not supported, adding polyfill')\n  // @ts-ignore\n  window.BigInt = function(value: any) {\n    if (typeof value === 'string') {\n      return parseInt(value, 10)\n    }\n    return value\n  }\n}\n\n// Ensure Buffer is available in the browser (needed by some crypto libs)\n// @ts-ignore\nif (typeof window !== 'undefined' && typeof window.Buffer === 'undefined') {\n  // @ts-ignore\n  window.Buffer = Buffer as unknown as Buffer\n}\n\n// Comprehensive production debugging\nconsole.log('🚀 HILO Casino - Main.tsx loaded')\nconsole.log('Environment:', {\n  NODE_ENV: import.meta.env.NODE_ENV,\n  MODE: import.meta.env.MODE,\n  DEV: import.meta.env.DEV,\n  PROD: import.meta.env.PROD,\n  BASE_URL: import.meta.env.BASE_URL,\n  VITE_SOLANA_NETWORK: import.meta.env.VITE_SOLANA_NETWORK,\n  VITE_SOLANA_RPC_URL: import.meta.env.VITE_SOLANA_RPC_URL\n})\n\n// Enhanced comprehensive error handling for production debugging\nwindow.addEventListener('error', (event) => {\n  console.error('🚨 Global error:', event.error)\n  console.error('🚨 Error details:', {\n    message: event.message,\n    filename: event.filename,\n    lineno: event.lineno,\n    colno: event.colno,\n    error: event.error,\n    timestamp: new Date().toISOString(),\n    userAgent: navigator.userAgent,\n    url: window.location.href\n  })\n\n  // Report the error using our error reporting system\n  if (event.error) {\n    const isTestError = event.error.message?.includes('Test:') || event.message?.includes('Test:')\n    const errorType = isTestError ? 'test_error' : 'component_error'\n    const level = isTestError ? 'low' : 'critical'\n    \n    errorReporter.reportError(event.error, errorType, level, {\n      filename: event.filename,\n      lineno: event.lineno,\n      colno: event.colno,\n      message: event.message\n    })\n  }\n\n  // Handle test errors gracefully\n  if (event.error?.message?.includes('Test:') || event.message?.includes('Test:')) {\n    console.log('✅ Test error handled gracefully, not crashing the app')\n    return\n  }\n\n  // Only show error UI for real errors, not test errors\n  const root = document.getElementById('root')\n  if (root && !root.innerHTML.includes('Error') && !event.error?.message?.includes('Test:')) {\n    root.innerHTML = `\n      <div style=\"padding: 20px; color: red; background: white; min-height: 100vh; font-family: monospace;\">\n        <h1>Application Error</h1>\n        <p><strong>Error:</strong> ${event.error?.message || 'Unknown error'}</p>\n        <p><strong>File:</strong> ${event.filename}:${event.lineno}:${event.colno}</p>\n        <p><strong>Time:</strong> ${new Date().toISOString()}</p>\n        <p><strong>Stack:</strong></p>\n        <pre style=\"background: #f5f5f5; padding: 10px; overflow: auto;\">${event.error?.stack || 'No stack trace'}</pre>\n        <button onclick=\"window.location.reload()\" style=\"padding: 10px 20px; margin-top: 20px;\">\n          Reload Page\n        </button>\n      </div>\n    `\n  }\n})\n\n// Enhanced unhandled promise rejection handling\nwindow.addEventListener('unhandledrejection', (event) => {\n  console.error('🚨 Unhandled promise rejection:', event.reason)\n  console.error('🚨 Promise rejection details:', {\n    reason: event.reason,\n    promise: event.promise,\n    timestamp: new Date().toISOString(),\n    userAgent: navigator.userAgent,\n    url: window.location.href\n  })\n\n  // Report the promise rejection using our error reporting system\n  const isTestError = typeof event.reason === 'string' && event.reason.includes('Test:')\n  const errorType = isTestError ? 'test_error' : 'promise_rejection'\n  const level = isTestError ? 'low' : 'high'\n  \n  errorReporter.reportPromiseRejection(event.reason, {\n    promise: event.promise,\n    timestamp: new Date().toISOString(),\n    userAgent: navigator.userAgent,\n    url: window.location.href\n  })\n\n  // Try to recover from common promise rejection scenarios\n  const reason = event.reason\n  \n  // Handle network-related promise rejections\n  if (reason && typeof reason === 'object') {\n    if (reason.message && reason.message.includes('fetch')) {\n      console.warn('🌐 Network error detected, attempting recovery...')\n      errorReporter.reportNetworkError(new Error(reason.message), { originalReason: reason })\n      // Could implement retry logic here\n    }\n    \n    if (reason.message && reason.message.includes('wallet')) {\n      console.warn('💳 Wallet error detected, attempting recovery...')\n      errorReporter.reportWalletError(new Error(reason.message), { originalReason: reason })\n      // Could implement wallet reconnection logic here\n    }\n  }\n\n  // Prevent the default behavior (which would log to console)\n  // Only do this for known recoverable errors\n  if (reason && typeof reason === 'string' && reason.includes('Test:')) {\n    event.preventDefault()\n    console.log('✅ Prevented test error from crashing the app')\n  }\n})\n\n// Register service worker only if explicitly enabled\n// To enable on Vercel, set VITE_ENABLE_SW=true\nif ('serviceWorker' in navigator && import.meta.env.PROD && import.meta.env.VITE_ENABLE_SW === 'true') {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker\n      .register('/sw.js')\n      .then(registration => {\n        console.log('SW registered: ', registration)\n      })\n      .catch(registrationError => {\n        console.log('SW registration failed: ', registrationError)\n      })\n  })\n} else {\n  console.log('Service worker disabled (either dev mode or VITE_ENABLE_SW not true)')\n  // Unregister any existing service workers in development\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.getRegistrations().then(registrations => {\n      registrations.forEach(registration => {\n        console.log('Unregistering service worker:', registration)\n        registration.unregister()\n      })\n    })\n  }\n}\n\n// The app will render normally now\n\n// Add loading state while React initializes\nconst root = document.getElementById('root')\nif (root) {\n  root.innerHTML = `\n    <div style=\"display: flex; justify-content: center; align-items: center; min-height: 100vh; background: #0d0d0d; color: white; font-family: monospace;\">\n      <div style=\"text-align: center;\">\n        <div style=\"font-size: 24px; margin-bottom: 20px;\">🎲</div>\n        <div>Loading HILO Casino...</div>\n        <div style=\"font-size: 12px; color: #666; margin-top: 10px;\">If this takes too long, check the console for errors</div>\n      </div>\n    </div>\n  `\n}\n\ntry {\n  console.log('Starting React app initialization...')\n  ReactDOM.createRoot(document.getElementById('root')!).render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  )\n  console.log('React app rendered successfully')\n} catch (error) {\n  console.error('Failed to render React app:', error)\n  const root = document.getElementById('root')\n  if (root) {\n    root.innerHTML = `\n      <div style=\"padding: 20px; color: red; background: white; min-height: 100vh; font-family: monospace;\">\n        <h1>React Rendering Error</h1>\n        <p><strong>Error:</strong> ${error}</p>\n        <p><strong>Stack:</strong></p>\n        <pre style=\"background: #f5f5f5; padding: 10px; overflow: auto;\">${error instanceof Error ? error.stack : 'No stack trace'}</pre>\n        <button onclick=\"window.location.reload()\" style=\"padding: 10px 20px; margin-top: 20px;\">\n          Reload Page\n        </button>\n      </div>\n    `\n  }\n}\n"],"file":"assets/index-CRjnJDek.js"}